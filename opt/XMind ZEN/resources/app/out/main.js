module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=230)}([function(e,t,n){var r=n(2),i=n(33),o=n(20),a=n(21),s=n(29),u=function(e,t,n){var c,l,d,f,p=e&u.F,h=e&u.G,v=e&u.S,m=e&u.P,g=e&u.B,y=h?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),w=b.prototype||(b.prototype={});for(c in h&&(n=t),n)d=((l=!p&&y&&void 0!==y[c])?y:n)[c],f=g&&l?s(d,r):m&&"function"==typeof d?s(Function.call,d):d,y&&a(y,c,d,e&u.U),b[c]!=d&&o(b,c,f),m&&w[c]!=d&&(w[c]=d)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(88)("wks"),i=n(50),o=n(2).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){e.exports=require("electron")},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),i=n(166),o=n(34),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(36),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=require("path")},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=require("fs-extra-promise")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports={default:n(446),__esModule:!0}},function(e,t,n){var r=n(17),i=n(12),o=n(60),a=n(48),s=function(e,t,n){var u,c,l,d=e&s.F,f=e&s.G,p=e&s.S,h=e&s.P,v=e&s.B,m=e&s.W,g=f?i:i[t]||(i[t]={}),y=g.prototype,b=f?r:p?r[t]:(r[t]||{}).prototype;for(u in f&&(n=t),n)(c=!d&&b&&void 0!==b[u])&&u in g||(l=c?b[u]:n[u],g[u]=f&&"function"!=typeof b[u]?n[u]:v&&c?o(l,r):m&&b[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((g.virtual||(g.virtual={}))[u]=l,e&s.R&&y&&!y[u]&&a(y,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(147)("wks"),i=n(103),o=n(17).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(8),i=n(49);e.exports=n(7)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(2),i=n(20),o=n(19),a=n(50)("src"),s=Function.toString,u=(""+s).split("toString");n(33).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(0),i=n(3),o=n(35),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){e.exports={default:n(433),__esModule:!0}},function(e,t,n){var r=n(73),i=n(35);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(74),i=n(49),o=n(24),a=n(34),s=n(19),u=n(166),c=Object.getOwnPropertyDescriptor;t.f=n(7)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(19),i=n(10),o=n(115)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){e.exports={default:n(438),__esModule:!0}},function(e,t,n){e.exports={default:n(468),__esModule:!0}},function(e,t,n){var r=n(14);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(0),i=n(33),o=n(3);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(29),i=n(73),o=n(10),a=n(9),s=n(132);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var v,m,g=o(t),y=i(g),b=r(s,h,3),w=a(y.length),_=0,S=n?p(t,w):u?p(t,0):void 0;w>_;_++)if((f||_ in y)&&(m=b(v=y[_],_,g),e))if(n)S[_]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:S.push(v)}else if(l)return!1;return d?-1:c||l?l:S}}},function(e,t,n){var r=n(43),i=n(201),o=n(141),a=Object.defineProperty;t.f=n(40)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(61)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";if(n(7)){var r=n(51),i=n(2),o=n(3),a=n(0),s=n(98),u=n(138),c=n(29),l=n(57),d=n(49),f=n(20),p=n(59),h=n(36),v=n(9),m=n(192),g=n(53),y=n(34),b=n(19),w=n(75),_=n(4),S=n(10),x=n(129),E=n(54),M=n(26),A=n(55).f,k=n(131),T=n(50),C=n(5),I=n(38),O=n(89),P=n(96),N=n(134),L=n(66),F=n(93),D=n(56),R=n(133),U=n(182),W=n(8),B=n(25),j=W.f,z=B.f,V=i.RangeError,H=i.TypeError,K=i.Uint8Array,q=Array.prototype,G=u.ArrayBuffer,J=u.DataView,Q=I(0),X=I(2),Y=I(3),Z=I(4),$=I(5),ee=I(6),te=O(!0),ne=O(!1),re=N.values,ie=N.keys,oe=N.entries,ae=q.lastIndexOf,se=q.reduce,ue=q.reduceRight,ce=q.join,le=q.sort,de=q.slice,fe=q.toString,pe=q.toLocaleString,he=C("iterator"),ve=C("toStringTag"),me=T("typed_constructor"),ge=T("def_constructor"),ye=s.CONSTR,be=s.TYPED,we=s.VIEW,_e=I(1,function(e,t){return Ae(P(e,e[ge]),t)}),Se=o(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),xe=!!K&&!!K.prototype.set&&o(function(){new K(1).set({})}),Ee=function(e,t){var n=h(e);if(n<0||n%t)throw V("Wrong offset!");return n},Me=function(e){if(_(e)&&be in e)return e;throw H(e+" is not a typed array!")},Ae=function(e,t){if(!(_(e)&&me in e))throw H("It is not a typed array constructor!");return new e(t)},ke=function(e,t){return Te(P(e,e[ge]),t)},Te=function(e,t){for(var n=0,r=t.length,i=Ae(e,r);r>n;)i[n]=t[n++];return i},Ce=function(e,t,n){j(e,t,{get:function(){return this._d[n]}})},Ie=function(e){var t,n,r,i,o,a,s=S(e),u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,f=k(s);if(void 0!=f&&!x(f)){for(a=f.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&u>2&&(l=c(l,arguments[2],2)),t=0,n=v(s.length),i=Ae(this,n);n>t;t++)i[t]=d?l(s[t],t):s[t];return i},Oe=function(){for(var e=0,t=arguments.length,n=Ae(this,t);t>e;)n[e]=arguments[e++];return n},Pe=!!K&&o(function(){pe.call(new K(1))}),Ne=function(){return pe.apply(Pe?de.call(Me(this)):Me(this),arguments)},Le={copyWithin:function(e,t){return U.call(Me(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Me(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return R.apply(Me(this),arguments)},filter:function(e){return ke(this,X(Me(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(Me(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Me(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Me(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Me(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Me(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Me(this),arguments)},lastIndexOf:function(e){return ae.apply(Me(this),arguments)},map:function(e){return _e(Me(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Me(this),arguments)},reduceRight:function(e){return ue.apply(Me(this),arguments)},reverse:function(){for(var e,t=Me(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return Y(Me(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Me(this),e)},subarray:function(e,t){var n=Me(this),r=n.length,i=g(e,r);return new(P(n,n[ge]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===t?r:g(t,r))-i))}},Fe=function(e,t){return ke(this,de.call(Me(this),e,t))},De=function(e){Me(this);var t=Ee(arguments[1],1),n=this.length,r=S(e),i=v(r.length),o=0;if(i+t>n)throw V("Wrong length!");for(;o<i;)this[t+o]=r[o++]},Re={entries:function(){return oe.call(Me(this))},keys:function(){return ie.call(Me(this))},values:function(){return re.call(Me(this))}},Ue=function(e,t){return _(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},We=function(e,t){return Ue(e,t=y(t,!0))?d(2,e[t]):z(e,t)},Be=function(e,t,n){return!(Ue(e,t=y(t,!0))&&_(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?j(e,t,n):(e[t]=n.value,e)};ye||(B.f=We,W.f=Be),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:We,defineProperty:Be}),o(function(){fe.call({})})&&(fe=pe=function(){return ce.call(this)});var je=p({},Le);p(je,Re),f(je,he,Re.values),p(je,{slice:Fe,set:De,constructor:function(){},toString:fe,toLocaleString:Ne}),Ce(je,"buffer","b"),Ce(je,"byteOffset","o"),Ce(je,"byteLength","l"),Ce(je,"length","e"),j(je,ve,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",d="get"+e,p="set"+e,h=i[c],g=h||{},y=h&&M(h),b=!h||!s.ABV,S={},x=h&&h.prototype,k=function(e,n){j(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,Se)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Se)}(this,n,e)},enumerable:!0})};b?(h=n(function(e,n,r,i){l(e,h,c,"_d");var o,a,s,u,d=0,p=0;if(_(n)){if(!(n instanceof G||"ArrayBuffer"==(u=w(n))||"SharedArrayBuffer"==u))return be in n?Te(h,n):Ie.call(h,n);o=n,p=Ee(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw V("Wrong length!");if((a=g-p)<0)throw V("Wrong length!")}else if((a=v(i)*t)+p>g)throw V("Wrong length!");s=a/t}else s=m(n),o=new G(a=s*t);for(f(e,"_d",{b:o,o:p,l:a,e:s,v:new J(o)});d<s;)k(e,d++)}),x=h.prototype=E(je),f(x,"constructor",h)):o(function(){h(1)})&&o(function(){new h(-1)})&&F(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,i){var o;return l(e,h,c),_(n)?n instanceof G||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,Ee(r,t),i):void 0!==r?new g(n,Ee(r,t)):new g(n):be in n?Te(h,n):Ie.call(h,n):new g(m(n))}),Q(y!==Function.prototype?A(g).concat(A(y)):A(g),function(e){e in h||f(h,e,g[e])}),h.prototype=x,r||(x.constructor=h));var T=x[he],C=!!T&&("values"==T.name||void 0==T.name),I=Re.values;f(h,me,!0),f(x,be,c),f(x,we,!0),f(x,ge,h),(u?new h(1)[ve]==c:ve in x)||j(x,ve,{get:function(){return c}}),S[c]=h,a(a.G+a.W+a.F*(h!=g),S),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){g.of.call(h,1)}),c,{from:Ie,of:Oe}),"BYTES_PER_ELEMENT"in x||f(x,"BYTES_PER_ELEMENT",t),a(a.P,c,Le),D(c),a(a.P+a.F*xe,c,{set:De}),a(a.P+a.F*!C,c,Re),r||x.toString==fe||(x.toString=fe),a(a.P+a.F*o(function(){new h(1).slice()}),c,{slice:Fe}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:Ne}),L[c]=C?T:I,r||C||f(x,he,I)}}else e.exports=function(){}},function(e,t,n){var r=n(187),i=n(0),o=n(88)("metadata"),a=o.store||(o.store=new(n(190))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o};e.exports={store:a,map:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},function(e,t,n){var r=n(32);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=n(469)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(15),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){return function r(i,a){try{var s=t[i](a),u=s.value}catch(e){return void n(e)}if(!s.done)return o.default.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}},function(e,t,n){var r=n(50)("meta"),i=n(4),o=n(19),a=n(8).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(3)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var r=n(5)("unscopables"),i=Array.prototype;void 0==i[r]&&n(20)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(39),i=n(102);e.exports=n(40)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(168),i=n(116);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(36),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(1),i=n(169),o=n(116),a=n(115)("IE_PROTO"),s=function(){},u=function(){var e,t=n(113)("iframe"),r=o.length;for(t.style.display="none",n(117).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(168),i=n(116).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(2),i=n(8),o=n(7),a=n(5)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(29),i=n(180),o=n(129),a=n(1),s=n(9),u=n(131),c={},l={};(t=e.exports=function(e,t,n,d,f){var p,h,v,m,g=f?function(){return e}:u(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>b;b++)if((m=t?y(a(h=e[b])[0],h[1]):y(e[b]))===c||m===l)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=i(v,y,h.value,t))===c||m===l)return m}).BREAK=c,t.RETURN=l},function(e,t,n){var r=n(21);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(76);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalFileNameFromUri=function(e){return e.startsWith("file://")?r.default.basename(a(e)):""},t.filePathToUrl=function(e){return"file://"+e},t.urlToFilePath=a,t.readJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.endsWith(".json"))throw new Error("Only support json file.");return i.default.existsSync(e)&&i.default.readJsonSync(e,{encoding:"utf-8",throws:!1})||t},t.writeJSON=function(e,t){i.default.ensureFileSync(e);i.default.writeJsonSync(e,t,{encoding:"utf-8"})},t.simplifyString=function(e){var t=/[\r\n]/gm,n=e;t.test(n)&&(n=n.replace(t," ").trim());return n};var r=o(n(11)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e.startsWith("file://")){var t=e.slice("file://".length);return"win32"===process.platform&&t.startsWith("/")&&(t=t.substring(1)),t}throw new Error('Invalid file path URL: "'+e+'"')}},function(e,t,n){var r=n(8).f,i=n(19),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(0),i=n(35),o=n(3),a=n(119),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o(function(){return!!a[e]()||"​"!="​"[e]()}),u=i[e]=s?t(d):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},d=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},function(e,t){e.exports={}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(142),i=n(143);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=require("os")},function(e,t,n){e.exports={default:n(465),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleErrorHandler=t.RunOnceScheduler=void 0;var r=u(n(15));t.UUID=function(){return"xxxyxxxxxxxyxxxxxxxxxyxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})},t.arrayBufferToBase64=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)},t.HASH=function(e){return"string"==typeof e?a.default.SHA256(e).toString(a.default.enc.Hex):a.default.SHA256(a.default.lib.WordArray.create(e)).toString(a.default.enc.Hex)},t.MD5=function(e){return"string"==typeof e?a.default.MD5(e).toString(a.default.enc.Base64):a.default.MD5(a.default.lib.WordArray.create(e)).toString(a.default.enc.Base64)},t.BTOA=function(e){var t;t=e instanceof Buffer?e:new Buffer(e.toString(),"binary");return t.toString("base64")},t.verifyRSA=function(e,t,n){var r="";"appso-9beta"==n?r="-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAlPlpYTmSDKVWhIvSk0N5\n01AD/t+4xblO9suabgP7CUeGg/CqGsv3bVkTtw/qsNW2DvYS0Rc25vB65vs6gbzU\nIsne9U0RygnnRkJJA2706hRqRQC0Q5dUxs52+8paJ7QodeTvOkD1RBybjjiVI0Mp\njgqb4zhNWSU2upTjbMU1QjnaMGjsWdtnXSz8AALbsBVHpnyT4fE/XKSWepYHGuwc\nUsEs7iNUdU8/bQwLkR8qN/CPzbFHoxF3iHSEkHZlePYaBdAJywqP56g4DHKMZRi1\nk/cN+UnFndPMp+QuloGtCvPQpGzOurnuAokF2E3gQFLtZxz16wOmeSHnk48HqD0k\nBMp/1x1b+gwndRVngKkfQdl3xRfe/d5evAFXKT0hPt3ttZ5DBbi/WEhrjp/C+Smd\nXMWcimLNbj7w3ELGohZs9AjCNogzaUuvAPuU/LN6p0MFXc5YaPawUES/2eC18ipb\nvRt7Air9O0kFCsxzqcEtRTyM1j+QAtwwztFA1FhjO0X+wxhByHjWtMUkMRHo6f+P\nmbTG/DbP2hwx2+x0LByCQ9NlQC9VaBtSd1X8cJ7fL1qtE6V04CJdHEzZf8QNRNvI\nFK5IO2DIVE5v4DRTLIISeWuAegP8Lv3BBJ3nxkX1EZRNMdIco5NkH0sM5sM8Ol9R\nI4GqvluVMIro2tIX5UVUV0kCAwEAAQ==\n-----END PUBLIC KEY-----":"9beta"==n&&(r="-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAlPlpYTmSDKVWhIvSk0N5\n01AD/t+4xblO9suabgP7CUeGg/CqGsv3bVkTtw/qsNW2DvYS0Rc25vB65vs6gbzU\nIsne9U0RygnnRkJJA2706hRqRQC0Q5dUxs52+8paJ7QodeTvOkD1RBybjjiVI0Mp\njgqb4zhNWSU2upTjbMU1QjnaMGjsWdtnXSz8AALbsBVHpnyT4fE/XKSWepYHGuwc\nUsEs7iNUdU8/bQwLkR8qN/CPzbFHoxF3iHSEkHZlePYaBdAJywqP56g4DHKMZRi1\nk/cN+UnFndPMp+QuloGtCvPQpGzOurnuAokF2E3gQFLtZxz16wOmeSHnk48HqD0k\nBMp/1x1b+gwndRVngKkfQdl3xRfe/d5evAFXKT0hPt3ttZ5DBbi/WEhrjp/C+Smd\nXMWcimLNbj7w3ELGohZs9AjCNogzaUuvAPuU/LN6p0MFXc5YaPawUES/2eC18ipb\nvRt7Air9O0kFCsxzqcEtRTyM1j+QAtwwztFA1FhjO0X+wxhByHjWtMUkMRHo6f+P\nmbTG/DbP2hwx2+x0LByCQ9NlQC9VaBtSd1X8cJ7fL1qtE6V04CJdHEzZf8QNRNvI\nFK5IO2DIVE5v4DRTLIISeWuAegP8Lv3BBJ3nxkX1EZRNMdIco5NkH0sM5sM8Ol9R\nI4GqvluVMIro2tIX5UVUV0kCAwEAAQ==\n-----END PUBLIC KEY-----");try{var o=i.default.createVerify("RSA-SHA256");return o.update(e),o.verify(r,t,"base64")}catch(e){return!1}},t.isDebugging=function(e){return o.enabled(e)},t.isArray=function(e){return Array.isArray(e)||"[object Array]"===toString.call(e)},t.isObject=function(e){return"[object Object]"===toString.call(e)},t.promiseSome=function(e){return new r.default(function(t,n){e=e.map(function(e){return e.then(t).catch(function(e){return e})}),r.default.all(e).then(n)})};var i=u(n(156)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(480)),a=u(n(481)),s=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}global.process&&o.enable(process.env.DEBUG),String.prototype.withMnemonic=function(e){var t=this;if(e&&"win32"===process.platform){e=e.toUpperCase();var n=!1;for(var r in t.split("")){if(t.substr(r,1).toUpperCase()===e){n=!0,t=t.substr(0,r)+"&"+t.substr(r);break}}n||(t=t+" (&"+e+")")}return""+t},String.prototype.partition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.indexOf(e);return t<0?[""+this,"",""]:[""+this.substr(0,t),e,""+this.substr(t+e.length)]},String.prototype.rpartition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.lastIndexOf(e);return t<0?["","",""+this]:[""+this.substr(0,t),e,""+this.substr(t+e.length)]},Promise.resolveAsync=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new r.default(function(e){return setTimeout(function(){return e.apply(void 0,t)},0)})};t.RunOnceScheduler=class{constructor(e,t){this._timeoutToken=-1,this._runner=e,this._timeout=t,this._timeoutHandler=this._onTimeout.bind(this)}dispose(){this.cancel(),this._runner=null}cancel(){this.isScheduled()&&(clearTimeout(this._timeoutToken),this._timeoutToken=-1)}setRunner(e){this._runner=e}schedule(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._timeout;this.cancel(),this._timeoutToken=setTimeout(this._timeoutHandler,e)}isScheduled(){return-1!==this._timeoutToken}_onTimeout(){this._timeoutToken=-1,this._runner&&this._runner()}};t.SimpleErrorHandler=class{constructor(e){this.logger=e,this.dialog=null}handle(e){var t="Unknow Error";e&&(t=e.stack||e.message||e.toString());var n=s.default.remote?s.default.remote.BrowserWindow:s.default.BrowserWindow;if(this.logger.error(t),n.openError){var r=n.vana.error;if(null!==r&&null!==n.fromId(r))return;n.openError({type:"error",errorMsg:t})}else this.dialog&&this.dialog.showMessageBoxOnTop({type:"error",title:"XMind",message:"Oops, some error occurred!",detail:t,buttons:["OK"],cancelId:0});var i=s.default.remote?s.default.remote.app:s.default.app;i&&i.tracker&&i.tracker.track({eventCategory:"Error",eventAction:"handleError",eventName:t.split(".")[0]})}}},function(e,t){e.exports=require("url")},function(e,t,n){var r=n(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(30),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(202),i=n(148);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){n(439);for(var r=n(17),i=n(48),o=n(80),a=n(18)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],d=l&&l.prototype;d&&!d[a]&&i(d,a,c),o[c]=o.Array}},function(e,t){e.exports={}},function(e,t,n){var r=n(39).f,i=n(62),o=n(18)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(444)(!0);n(150)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(60),i=n(448),o=n(449),a=n(43),s=n(144),u=n(206),c={},l={};(t=e.exports=function(e,t,n,d,f){var p,h,v,m,g=f?function(){return e}:u(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>b;b++)if((m=t?y(a(h=e[b])[0],h[1]):y(e[b]))===c||m===l)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=i(v,y,h.value,t))===c||m===l)return m}).BREAK=c,t.RETURN=l},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var r=s(n(11)),i=n(455),o=s(n(69)),a=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var u={sessionInfo:null,logFilePathPrefix:null,logFileRetentionCount:10,isDebugging:function(){return!1}},c={sessionTimestamp:(new Date).toISOString(),sessionInfoWritten:!1,logFileDateString:null,logFilePath:null,logFileStream:null,console:null},l={reset:"[39m",debug:"[32m",info:"[37m",warn:"[33m",error:"[31m"};class d{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";this.moduleName=e,this.debugAllowed=null}logger(e){return e?new d("root"===this.moduleName?e:this.moduleName+":"+e):this}debug(e){if(!0!==this.debugAllowed&&!1!==this.debugAllowed&&(this.debugAllowed=!!u.isDebugging("xmind:"+this.moduleName+":verbose")||!!u.isDebugging("xmind:verbose:"+this.moduleName)),!this.debugAllowed)return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._handle("debug",e,n),this}info(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._handle("info",e,n),this}warn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._handle("warn",e,n),this}error(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._handle("error",e,n),this}_handle(e,t,n){var r=(new Date).toISOString();c.sessionInfoWritten||(f(u.sessionInfo,v),c.sessionInfoWritten=!0),f({moduleName:this.moduleName,timestamp:r,level:e,message:t,args:n},h)}configure(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sessionInfo,n=void 0===t?null:t,r=e.logFilePathPrefix,i=void 0===r?null:r,o=e.logFileRetentionCount,a=void 0===o?null:o,s=e.isDebugging,l=void 0===s?null:s;n&&(u.sessionInfo=n),i&&(!function(){c.logFileStream&&(c.logFileStream.end(),c.logFileStream=null);c.logFilePath=null,c.logFileDateString=null}(),u.logFilePathPrefix=i),"number"==typeof a&&a>=1&&(u.logFileRetentionCount=parseInt(a,10),p()),"function"==typeof l&&(u.isDebugging=l,l("xmind:logger:console")?c.console=global.console:c.console=null)}}function f(e,t){!function(e,t){if(!u.logFilePathPrefix)return;try{!function(e){if(c.logFileStream&&e===c.logFileDateString)return;c.logFileDateString=e;var t=u.logFilePathPrefix+"_"+e+".log";c.logFilePath=t,p(),a.default.ensureFileSync(t),c.logFileStream=a.default.createWriteStream(t,{flags:"a"})}((r=new Date,r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()));var n=t(e);c.logFileStream.write(n),c.logFileStream.write("\r\n")}catch(t){global.console&&global.console.trace("Failed to write log message",e,"to file",c.logFilePath,", Reason:",t)}var r}(e,t),function(e,t){if(!c.console)return;try{var n=c.console,r=n[e.level]||n.log;r||(n=global.console,r=n[e.level]||n.log);var i=t(e);i=(l[e.level]||l.reset)+i+l.reset,r.call(n,i)}catch(t){global.console&&global.console.trace("Failed to write log message",e,"to console.")}}(e,t)}function p(){if(c.logFilePath&&u.logFilePathPrefix){var e=r.default.basename(u.logFilePathPrefix)+"_",t=r.default.dirname(c.logFilePath);try{if(a.default.existsSync(t)&&a.default.lstatSync(t).isDirectory()){var n=a.default.readdirSync(t).filter(function(t){return t.startsWith(e)});if(n.length<=u.logFileRetentionCount)return;for(var i in n.sort(),n.splice(n.length-u.logFileRetentionCount,u.logFileRetentionCount),n)a.default.removeSync(r.default.join(t,i))}}catch(e){global.console&&global.console.trace('Failed to delete outdated log files in "'+t+'":',e)}}}function h(e){return"["+e.level[0].toUpperCase()+" "+e.timestamp+" "+e.moduleName+"] "+i.format.apply(void 0,[e.message].concat(e.args))}function v(e){if(e){var t=(e.version||"0.0.0")+"+"+(e.buildNumber||"0"),n=e.vendor||"(unknown vendor)";return"\r\n-------- SESSION "+c.sessionTimestamp+" ("+t+", "+process.platform+", "+process.arch+", "+o.default.totalmem()+", "+n+", "+e.distrib+") --------"}return"\r\n-------------------------------------------------"}t.Logger=d,t.default=new d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};t.default=new class{constructor(){this._events={}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i in this._events){var a=this._events[i]&&this._events[i][e];if(a){var s=a,u=Array.isArray(s),c=0;for(s=u?s:(0,o.default)(s);;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}l.apply(void 0,n)}}}}emitC(e,t){if(e in this._events){var n=this._events[e]&&this._events[e][t];if(n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var s=n,u=Array.isArray(s),c=0;for(s=u?s:(0,o.default)(s);;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}l.apply(void 0,i)}}}}on(e,t,n){this._addListener(e,t,n,!1)}once(e,t,n){this._addListener(e,t,n,!0)}addListener(e,t,n){this._addListener(e,t,n,!1)}_addListener(e,t,n,r){var i=this;if(e&&t&&n){var o=function(){return r&&i.removeListener(e,t,n),n.apply(void 0,arguments)};o._eventType=t,o._listener=n,this._events[e]=this._events[e]||{},this._events[e][t]=this._events[e][t]||[],this._events[e][t].push(o)}}off(e,t,n){this.removeListener(e,t,n)}removeListener(e,t,n){e?t?n?this._events[e]&&this._events[e][t]&&(this._events[e][t]=this._events[e][t].filter(function(e){return e._eventType!==t||e._listener!==n}),0===this._events[e][t].length&&delete this._events[e][t]):this._events[e]&&delete this._events[e][t]:delete this._events[e]:this._events={}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(13)),i=a(n(225)),o=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.readJSONSync(o.default.join(i.default.appRoot,"package.json"))},function(e,t,n){var r=n(2),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(24),i=n(9),o=n(53);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(30);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(4),i=n(30),o=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(1);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(20),i=n(21),o=n(3),a=n(35),s=n(5);e.exports=function(e,t,n){var u=s(e),c=n(a,u,""[e]),l=c[0],d=c[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,l),r(RegExp.prototype,u,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){var r=n(1),i=n(14),o=n(5)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(21),a=n(59),s=n(46),u=n(58),c=n(57),l=n(4),d=n(3),f=n(93),p=n(64),h=n(120);e.exports=function(e,t,n,v,m,g){var y=r[e],b=y,w=m?"set":"add",_=b&&b.prototype,S={},x=function(e){var t=_[e];o(_,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(g||_.forEach&&!d(function(){(new b).entries().next()}))){var E=new b,M=E[w](g?{}:-0,1)!=E,A=d(function(){E.has(1)}),k=f(function(e){new b(e)}),T=!g&&d(function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)});k||((b=t(function(t,n){c(t,b,e);var r=h(new y,t,b);return void 0!=n&&u(n,m,r[w],r),r})).prototype=_,_.constructor=b),(A||T)&&(x("delete"),x("has"),m&&x("get")),(T||M)&&x(w),g&&_.clear&&delete _.clear}else b=v.getConstructor(t,e,m,w),a(b.prototype,n),s.NEED=!0;return p(b,e),S[e]=b,i(i.G+i.W+i.F*(b!=y),S),g||v.setStrong(b,e,m),b}},function(e,t,n){for(var r,i=n(2),o=n(20),a=n(50),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[f[d++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(e,t,n){"use strict";e.exports=n(51)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(29),a=n(58);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(143);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=!0},function(e,t){},function(e,t){e.exports=require("querystring")},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(483)),i=a(n(485)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.appActivateStatus={TRIAL:"trial",ACTIVATED:"activated",LIMITED:"limited"};t.EventTypes={WINDOW_FOCUS:"vana:windowfocus",WINDOW_BLUR:"vana:windowblur",WINDOW_CLOSED:"vana:windowclosed",WINDOW_SHOW:"vana:windowshow",AFTER_ACTIVATE_STATUS_CHANGE:"AFTER_ACTIVATE_STATUS_CHANGE"},t.NotificationTypes={PROMOTION_READY:"promotion:ready",PROMOTION_RESET:"promotion:reset",PROMOTION_COMPLETE_ONE:"promotion:completedOne"},t.CategoryTypes={NOTIFICATION:"notification"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ET_CHANGE_TVUD=t.ET_CHANGE_VUD=t.tvud=t.vud=void 0;var r=p(n(503)),i=p(n(15)),o=p(n(27)),a=p(n(70)),s=p(n(28)),u=p(n(109)),c=p(n(11)),l=n(6),d=p(n(13)),f=p(n(86));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return c.default.join(l.app.workspace.vud,e+".json")}function v(e){return null!==e&&"object"===(void 0===e?"undefined":(0,u.default)(e))}function m(e,t){var n=v(e),r=v(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{return(0,s.default)(e)===(0,s.default)(t)}catch(n){return e===t}}class g{constructor(e,t,n){var r=this;this._moduleName=t,this._data=e,this._persistence=n,(0,a.default)(e).forEach(function(e){r._defProxy(e)})}get(e){return this[e]}set(e,t){var n=this._data[e];m(n,t)||(this._data[e]=t,this._defProxy(e),f.default.emit(this._persistence?b:w,{moduleName:this._moduleName,key:e,oldvalue:n,newvalue:t}),l.app.emit(this._persistence?b:w,{moduleName:this._moduleName,key:e,oldvalue:n,newvalue:t}),this._persistence&&this._save())}clear(){var e=(0,a.default)(this._data),t=Array.isArray(e),n=0;for(e=t?e:(0,o.default)(e);;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}delete this[r]}this._data={},f.default.emit(this._persistence?b:w,{moduleName:this._moduleName,clear:!0}),l.app.emit(this._persistence?b:w,{moduleName:this._moduleName,clear:!0}),this._save()}update(e){var t=(0,a.default)(e),n=Array.isArray(t),r=0;for(t=n?t:(0,o.default)(t);;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var s=i;m(this._data[s],e[s])||(this._data[s]=e[s],this._defProxy(s))}f.default.emit(this._persistence?b:w,{moduleName:this._moduleName}),l.app.emit(this._persistence?b:w,{moduleName:this._moduleName}),this._persistence&&this._save()}_save(){if(this._persistence){var e=h(this._moduleName);i.default.all([d.default.outputJsonAsync(e,this._data)])}}_defProxy(e){var t=this;(0,r.default)(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(n){t._data[e]=n}})}}class y{constructor(e){this.persistence=e}getModule(e){if(!this[e]){var t=h(e),n=d.default.existsSync(t)&&this.persistence&&d.default.readJsonSync(t,{throws:!1})||{};this[e]=new g(n,e,this.persistence)}return this[e]}saveModule(e){if(this.persistence){var t=h(e);d.default.outputJsonSync(t,this[e])}}}t.vud=new y(!0),t.tvud=new y(!1);var b=t.ET_CHANGE_VUD="change:vud",w=t.ET_CHANGE_TVUD="change:tvud"},function(e,t,n){var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(2),i=n(33),o=n(51),a=n(167),s=n(8).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(88)("keys"),i=n(50);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(4),i=n(1),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(29)(Function.call,n(25).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(4),i=n(118).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(36),i=n(35);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(36),i=n(35);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(51),i=n(0),o=n(21),a=n(20),s=n(19),u=n(66),c=n(126),l=n(64),d=n(26),f=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,m,g,y){c(n,t,v);var b,w,_,S=function(e){if(!p&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",E="values"==m,M=!1,A=e.prototype,k=A[f]||A["@@iterator"]||m&&A[m],T=!p&&k||S(m),C=m?E?S("entries"):T:void 0,I="Array"==t&&A.entries||k;if(I&&(_=d(I.call(new e)))!==Object.prototype&&_.next&&(l(_,x,!0),r||s(_,f)||a(_,f,h)),E&&k&&"values"!==k.name&&(M=!0,T=function(){return k.call(this)}),r&&!y||!p&&!M&&A[f]||a(A,f,T),u[t]=T,u[x]=h,m)if(b={values:E?T:S("values"),keys:g?T:S("keys"),entries:C},y)for(w in b)w in A||o(A,w,b[w]);else i(i.P+i.F*(p||M),t,b);return b}},function(e,t,n){"use strict";var r=n(54),i=n(49),o=n(64),a={};n(20)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(92),i=n(35);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(66),i=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(8),i=n(49);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(75),i=n(5)("iterator"),o=n(66);e.exports=n(33).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(323);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(10),i=n(53),o=n(9);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(47),i=n(183),o=n(66),a=n(24);e.exports=n(125)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r,i,o,a=n(29),s=n(173),u=n(117),c=n(113),l=n(2),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete g[e]},"process"==n(30)(d)?r=function(e){d.nextTick(a(y,e,1))}:v&&v.now?r=function(e){v.now(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){var r=n(2),i=n(135).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(30)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve();n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var d=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r=n(14);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r=n(2),i=n(7),o=n(51),a=n(98),s=n(20),u=n(59),c=n(3),l=n(57),d=n(36),f=n(9),p=n(192),h=n(55).f,v=n(8).f,m=n(133),g=n(64),y="prototype",b="Wrong index!",w=r.ArrayBuffer,_=r.DataView,S=r.Math,x=r.RangeError,E=r.Infinity,M=w,A=S.abs,k=S.pow,T=S.floor,C=S.log,I=S.LN2,O=i?"_b":"buffer",P=i?"_l":"byteLength",N=i?"_o":"byteOffset";function L(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?k(2,-24)-k(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=A(e))!=e||e===E?(i=e!=e?1:0,r=u):(r=T(C(e)/I),e*(o=k(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?l/o:l*k(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*k(2,t),r+=c):(i=e*k(2,c-1)*k(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a}function F(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-E:E;r+=k(2,t),l-=a}return(c?-1:1)*r*k(2,l-t)}function D(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function R(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function W(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function B(e){return L(e,52,8)}function j(e){return L(e,23,4)}function z(e,t,n){v(e[y],t,{get:function(){return this[n]}})}function V(e,t,n,r){var i=p(+n);if(i+t>e[P])throw x(b);var o=e[O]._b,a=i+e[N],s=o.slice(a,a+t);return r?s:s.reverse()}function H(e,t,n,r,i,o){var a=p(+n);if(a+t>e[P])throw x(b);for(var s=e[O]._b,u=a+e[N],c=r(+i),l=0;l<t;l++)s[u+l]=c[o?l:t-l-1]}if(a.ABV){if(!c(function(){w(1)})||!c(function(){new w(-1)})||c(function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name})){for(var K,q=(w=function(e){return l(this,w),new M(p(e))})[y]=M[y],G=h(M),J=0;G.length>J;)(K=G[J++])in w||s(w,K,M[K]);o||(q.constructor=w)}var Q=new _(new w(2)),X=_[y].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||u(_[y],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else w=function(e){l(this,w,"ArrayBuffer");var t=p(e);this._b=m.call(new Array(t),0),this[P]=t},_=function(e,t,n){l(this,_,"DataView"),l(e,w,"DataView");var r=e[P],i=d(t);if(i<0||i>r)throw x("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw x("Wrong length!");this[O]=e,this[N]=i,this[P]=n},i&&(z(w,"byteLength","_l"),z(_,"buffer","_b"),z(_,"byteLength","_l"),z(_,"byteOffset","_o")),u(_[y],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return D(V(this,4,e,arguments[1]))},getUint32:function(e){return D(V(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return F(V(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return F(V(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){H(this,1,e,R,t)},setUint8:function(e,t){H(this,1,e,R,t)},setInt16:function(e,t){H(this,2,e,U,t,arguments[2])},setUint16:function(e,t){H(this,2,e,U,t,arguments[2])},setInt32:function(e,t){H(this,4,e,W,t,arguments[2])},setUint32:function(e,t){H(this,4,e,W,t,arguments[2])},setFloat32:function(e,t){H(this,4,e,j,t,arguments[2])},setFloat64:function(e,t){H(this,8,e,B,t,arguments[2])}});g(w,"ArrayBuffer"),g(_,"DataView"),s(_[y],a.VIEW,!0),t.ArrayBuffer=w,t.DataView=_},function(e,t,n){var r=n(2).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(32),i=n(17).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(32);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(78);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(145),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(147)("keys"),i=n(103);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(17),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(106),i=n(16),o=n(204),a=n(48),s=n(62),u=n(80),c=n(441),l=n(81),d=n(443),f=n(18)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,m,g,y){c(n,t,v);var b,w,_,S=function(e){if(!p&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",E="values"==m,M=!1,A=e.prototype,k=A[f]||A["@@iterator"]||m&&A[m],T=!p&&k||S(m),C=m?E?S("entries"):T:void 0,I="Array"==t&&A.entries||k;if(I&&(_=d(I.call(new e)))!==Object.prototype&&_.next&&(l(_,x,!0),r||s(_,f)||a(_,f,h)),E&&k&&"values"!==k.name&&(M=!0,T=function(){return k.call(this)}),r&&!y||!p&&!M&&A[f]||a(A,f,T),u[t]=T,u[x]=h,m)if(b={values:E?T:S("values"),keys:g?T:S("keys"),entries:C},y)for(w in b)w in A||o(A,w,b[w]);else i(i.P+i.F*(p||M),t,b);return b}},function(e,t,n){var r=n(43),i=n(442),o=n(148),a=n(146)("IE_PROTO"),s=function(){},u=function(){var e,t=n(140)("iframe"),r=o.length;for(t.style.display="none",n(205).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(78),i=n(18)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(76);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){var r=n(48);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n(212)),i=S(n(27)),o=S(n(70)),a=S(n(28)),s=S(n(44)),u=S(n(15)),c=S(n(45)),l=S(n(160)),d=S(n(219)),f=S(n(69)),p=S(n(11)),h=S(n(108)),v=S(n(84)),m=S(n(13)),g=S(n(161)),y=S(n(85)),b=S(n(220)),w=n(71),_=n(63);function S(e){return e&&e.__esModule?e:{default:e}}var x=y.default.logger("UsageTracker"),E=!1,M=200,A=1e4,k=4,T="zen",C="firstStartTimestamp",I="none",O="org.xmind.cathy.application",P=6e4;var N=f.default.arch(),L=f.default.platform();L="darwin"===L?"macosx":L;function F(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=void 0;void 0===r;){var i=t.indexOf(e,n);if(-1===i)r=-1;else t.slice(t.lastIndexOf("\n",i),t.indexOf("\n",i)).includes("identifier:")?r=i:n+=1}return r}function D(e,t){return e.slice(e.lastIndexOf("\n",t),e.indexOf("\n",t))}function R(e,t){var n=D(e,e.indexOf("versionString:",t));return n.substr(n.indexOf("versionString:")+"versionString:".length).trim()}class U{constructor(e,t,n){this.id=(0,w.UUID)(),this.sessionCount=e||1,this.firstVisit=t||Date.now(),this.lastVisit=n||Date.now()}}class W{constructor(e,t){t.eventAction||t.actionName||x.error("Create event: no prop eventAction or actionName"),this.session=e.session,this.date=new Date,this.url=t.url,this.language=t.language||"en",this.actionName=t.actionName||null,this.actionName||(this.eventCategory=t.eventCategory||T,this.eventAction=t.eventAction,this.eventName=t.eventName||null,this.eventValue=t.eventValue||1),this.customTrackingParameters="",this.dimension12=e.getDimension(12)}}t.default=new class{constructor(){var e=this;this.isMainProcess="browser"===process.type,this.states={},this.session=new U,this._events=[],this.eventQueries=[],this.trackerUrl=null,this.idsite=k,this.visitorId=null,this._idts=null,this._viewts=null,this._idvc=null,this.dimensions=new d.default,this.setDimension(5,L),this.setDimension(6,N),this.setProductIdentifier("vana_linux_64"),b.default.osInfo(function(t){e.setDimension(7,t.release)}),new u.default(function(e,t){"win32"===process.platform?v.default.exec('reg query "HKLM\\SOFTWARE\\Wow6432Node\\XMind ltd\\XMind" /v BuildId',function(n,r){if(n)t(n);else{var i=r.toString().trim().split(" ");e(i[i.length-1])}}):"darwin"===process.platform?u.default.all([new u.default(function(e,t){v.default.exec("/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -dump",{maxBuffer:10485760},function(n,r){n?t(n):e(r.toString())})}),new u.default(function(e,t){v.default.exec('mdfind kMDItemCFBundleIdentifier = "'+O+'"',function(n,i){n?t(n):e(new r.default(i.toString().split("\n")))})})]).then(function(e){for(var t,n,r,i,o=e[0],a=e[1],s=0;s<o.length;){if(-1===(s=F(O,o,s)))return u.default.reject("Cathy is not found");var c=(n=s,i=void 0,r=(t=o).lastIndexOf("path:",n),(i=D(t,r)).substr(i.indexOf("path:")+"path:".length).trim());if(a.has(c))return R(o,s);s+=O.length}}).then(e).catch(t):t("Unsupported platform",process.platform)}).then(function(t){x.debug("cathy build id:",t),e.setDimension(14,t)}).catch(function(t){x.error(t),e.setDimension(14,I)})}setVisitorId(e){this.visitorId=e||(0,w.UUID)(),this.setDeviceId(this.visitorId)}setDimension(e,t){this.dimensions.set("dimension"+e,t)}getDimension(e){this.dimensions.get("dimension"+e)}setAccountType(e){this.setDimension(1,e)}setDeviceId(e){this.setDimension(2,e)}setAppVersion(e){this.setDimension(3,e)}setAppRegion(e){this.setDimension(8,e)}setAppLanguage(e){this.setDimension(9,e)}setDeviceResolution(e,t){this.res=e+"x"+t}setUserID(e){this.setDimension(10,e)}setProductIdentifier(e){this.setDimension(11,e)}start(e){var t=this;this.app=e,this.dataDir=e.workspace.udc;var n=e.workspace.net;m.default.ensureDirSync(this.dataDir),this.states=(0,_.readJSON)(p.default.join(this.dataDir,"states.json")),this.checkUpdateInstallEvent(),this.states&&!this.states.firstVisit&&(this.startTimestampStorePath=p.default.join(n,"start_timestamps.json"),this.startTimestampStore=m.default.existsSync(this.startTimestampStorePath)&&m.default.readJsonSync(this.startTimestampStorePath,{throws:!1})||{},this.states.firstVisit=this.startTimestampStore[C]||Date.now(),delete this.states.client_id,delete this.states.next_upload_time,m.default.removeAsync(p.default.join(this.dataDir,"records")),m.default.removeAsync(p.default.join(this.dataDir,"reports")),this.track({eventAction:"install"})),this.states.sessionCount=(0,l.default)(this.states.sessionCount)?this.states.sessionCount+1:1,this.session=new U(this.states.sessionCount,this.states.firstVisit,this.states.lastVisit),this.setTrackerServer().then(function(){t.timer=setInterval(function(){t.dispatch()},P)})}setTrackerServer(){var e=this;return(0,c.default)(s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],n=["https://www.xmind.cn/piwik.php","https://piwik.xmind.net/piwik.php"],t.next=4,u.default.race([g.default.get(n[0]).timeout(A).catch(function(){}),g.default.get(n[1]).timeout(A).catch(function(){})]).then(function(t){if(t&&t.request){var r=n.indexOf(t.request.url);if(r>-1)return e.trackerUrl=n[r],u.default.resolve()}return e.trackerUrl=n[1],u.default.resolve()}).catch(function(t){return t&&x.warn("Tracker server unavailable."),e.trackerUrl=n[1],u.default.resolve()});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,e)}))()}end(){var e=this;return(0,c.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.states.sessionCount=e.session.sessionCount,e.states.firstVisit=e.session.firstVisit,e.states.lastVisit=Date.now(),(0,_.writeJSON)(p.default.join(e.dataDir,"states.json"),e.states),e.timer&&clearInterval(e.timer),t.next=7,e.dispatch();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,e)}))()}updateInstall(){this.track({eventAction:"updateInstall"})}startApplication(){this.track({eventAction:"applicationActive"})}checkUpdateInstallEvent(){var e=Number(this.app.pkgInfo.buildNumber);(!this.states.buildNumber||this.states.buildNumber<e)&&(this.updateInstall(),this.states.buildNumber=e)}setFirstVisitTimestamp(e){this._idts=e}setPreviousVisitTimestamp(e){this._viewts=e}increaseVisitCount(){this._idvc+=1}isTrackerReady(){return this.trackerUrl&&this.visitorId&&(this._events.length>0||this.eventQueries.length>0)}dispatch(){var e=this;return(0,c.default)(s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e.app.preferences.get("isSendUsageData")){t.next=7;break}return e._events.length>0&&(e._events=[]),e.eventQueries.length>0&&(e.eventQueries=[]),t.next=6,u.default.resolve();case 6:return t.abrupt("return",t.sent);case 7:if(!e.isTrackerReady()){t.next=14;break}return(n=e.eventQueries.length-M)>0&&(e.eventQueries.splice(0,n+10),x.debug("Track delete exceed event:",n+10)),E&&x.debug("Try to dispatch events:",e._events,e.eventQueries),t.next=13,e.send();case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}},t,e)}))()}track(e){var t=new W(this,e);this._events.push(t),E&&x.debug("Track event:",t)}renewAccountState(){var e=this.app.vud.getModule("account").get("user");this.setAppLanguage(this.app.preferences.get("language")),this.setAppRegion(this.app.preferences.get("lastLocale")),this.setAccountType(function(e){var t=e.getAppActivateStatus();if(t===e.APP_STATUS.LIMITED)return"ee";if(t===e.APP_STATUS.TRIAL)return"trial";var n=e.getAppActivateStatusCode();return 0===n[0]?"licensed":"subscription"}(this.app.activateService)),this.setUserID(e)}send(){var e=this;this.renewAccountState(),this.eventQueries=this.buildEvents();var t=(0,a.default)({requests:this.eventQueries.map(function(e){return"?"+h.default.stringify(e)})});return g.default.post(this.trackerUrl).set("Content-Type","application/json").timeout(A).send(t).then(function(t){if(t&&t.body){if(200!==t.status)return void(E&&x.error("Response wrong code:",t.status,t.body));E&&x.debug("Tracker request completed!"),e.eventQueries=[]}}).catch(function(e){e&&x.error("Usagetracker request:",e)})}buildEvent(e){var t={idsite:this.idsite,_id:this.visitorId,cdt:e.date.toISOString(),h:e.date.getUTCHours(),m:e.date.getUTCMinutes(),s:e.date.getUTCSeconds(),res:this.res,_idts:this.session.firstVisit,_viewts:this.session.lastVisit,_idvc:this.session.sessionCount,action_name:e.actionName||null,e_c:e.eventCategory||null,e_a:e.eventAction||null,e_n:e.eventName||null,e_v:e.eventValue||null},n=this.dimensions,r=Array.isArray(n),a=0;for(n=r?n:(0,i.default)(n);;){var s;if(r){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var u=s,c=u[0],l=u[1];t[c]||(t[c]=l)}return(0,o.default)(t).map(function(e){return null===t[e]?delete t[e]:null}),t}buildEvents(){var e=this.eventQueries.length>0?this.eventQueries:[],t=this._events,n=Array.isArray(t),r=0;for(t=n?t:(0,i.default)(t);;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;e.push(this.buildEvent(a))}return this._events=[],e}config(e,t){switch(e){case"sourceOfPurchase":this.setDimension(12,t)}}}},function(e,t,n){var r=n(103)("meta"),i=n(32),o=n(62),a=n(39).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(61)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var r=n(32);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){e.exports={default:n(470),__esModule:!0}},function(e,t){e.exports=require("superagent")},function(e,t,n){t.f=n(18)},function(e,t,n){var r=n(17),i=n(12),o=n(106),a=n(162),s=n(39).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){e.exports=require("electron-builder-http/out/CancellationToken")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(23)),i=b(n(44)),o=b(n(45)),a=b(n(15)),s=b(n(110)),u=b(n(11)),c=b(n(72)),l=n(6),d=b(n(520)),f=n(164),p=b(n(229)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(13)),v=b(n(157)),m=b(n(87)),g=b(n(521)),y=b(n(522));function b(e){return e&&e.__esModule?e:{default:e}}var w={NET:"net",CN:"cn",DOMAIN:"$domain"};t.default=class extends s.default{constructor(e){var t;t=super(),this.updateDir=u.default.join(l.app.getPath("userData"),"vana/update"),this.localInfoPath=u.default.join(this.updateDir,"localinfo.json"),this.autoDownload=!0,this.updateAvailable=!1,this.currentVersion=d.default.valid(l.app.getVersion()),this.httpExecutor=new y.default(function(e,n){return t.emit("login",e,n)}),this._untilAppReady=new a.default(function(e){l.app.isReady()?e():l.app.on("ready",e)}),e&&this.setFeedURL(e)}errorHandle(e){l.app.tvud.getModule("autoUpdater").set("state","none"),"user"===l.app.tvud.getModule("autoUpdater").get("checkForUpdatesType")?(l.dialog.showMessageBoxOnTop({title:"XMind ZEN",message:l.app.localizer.localize("Update Error!"),detail:l.app.localizer.localize("An error occurred in retrieving update information. Please try again later.")}),l.app.rootLogger.error("catched error in checkForUpdates by user:",e)):l.app.rootLogger.error("catched error in checkForUpdates:",e)}updatePending(){var e=this;return(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.app.tvud.getModule("autoUpdater").set("state","none"),!e.localInfo||!e.localInfo.downloaded){t.next=6;break}return e.localInfo.downloaded.skip=!1,e.localInfo.skipped=!1,t.next=6,h.outputJsonAsync(e.localInfoPath,e.localInfo);case 6:case"end":return t.stop()}},t,e)}))()}_doDownload(e){var t=this,n=this.checkForUpdatesPromise;try{n=this.doDownload(e)}catch(e){console.log(e)}this.checkForUpdatesPromise=n;var r=function(){return t.checkForUpdatesPromise=null};return n.then(r).catch(function(e){t.errorHandle(e),t.emit("update-not-available",{info:t.localInfo}),r()}),n}skip(){var e=this;return(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.app.tvud.getModule("autoUpdater").set("state","none"),!e.localInfo||!e.localInfo.downloaded){t.next=5;break}return e.localInfo.downloaded.skip=!0,t.next=5,h.outputJsonAsync(e.localInfoPath,e.localInfo);case 5:case"end":return t.stop()}},t,e)}))()}checkForUpdates(){var e=this,t=null;if(null!=this.checkForUpdatesPromise)return this.checkForUpdatesPromise;try{t=this._compareLastVersion()}catch(e){console.log(e)}t.then(function(t){if(t.hasLocalInfo&&e.localInfo.downloaded.currentVersion===m.default.version&&e.localInfo.downloaded.version&&d.default.lte(t.latestVersion,e.localInfo.downloaded.version))return e.emit("update-downloaded",e.localInfo),e._doDownload({status:"update-downloaded",info:t.info}),{status:"update-downloaded",info:t.info};d.default.lte(t.latestVersion,e.currentVersion)?(e.updateAvailable=!1,e.emit("update-not-available",e.localInfo),e._doDownload({status:"update-not-available",info:t.info})):(e.updateAvailable=!0,e.localInfo.downloaded.skip&&(e.localInfo.skipped=!0),e.emit("has-new-version",e.localInfo))}).catch(function(t){if(t&&t.response){var n=t.response,r=n.statusCode,i=n.statusMessage;404===r&&"Not Found"===i?(e.updateAvailable=!1,e.emit("update-not-available",e.localInfo),e._doDownload({status:"update-not-available",info:e.localInfo})):e.errorHandle(t)}else e.errorHandle(t)})}_compareLastVersion(){var e=this;return(0,o.default)(i.default.mark(function t(){var n,r,o,a,s,f;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._untilAppReady;case 2:return e.updateDir=u.default.join(l.app.getPath("userData"),"vana/update"),e.localInfoPath=u.default.join(e.updateDir,"localinfo.json"),n=m.default.urlForAppUpdating,n=e._isCn()?n.split(w.DOMAIN).join(w.CN):n.split(w.DOMAIN).join(w.NET),e.emit("checking-for-update"),r={provider:"generic",url:n},e.clientPromise=e.createClient(r),t.next=11,e.clientPromise;case 11:return(o=t.sent).setRequestHeaders(e.requestHeaders),t.next=15,o.getLatestVersion();case 15:if((a=t.sent).path||(a.path=c.default.parse(a.url).path),s=d.default.valid(a.version),e.latestVersion=a,null!=s){t.next=21;break}throw new Error('Latest version (from update server) is not valid semver version: "'+s);case 21:return t.next=23,h.existsAsync(e.localInfoPath);case 23:if(f=t.sent){t.next=30;break}return t.next=27,h.ensureDirAsync(e.updateDir);case 27:e.localInfo={latest:a,downloaded:{}},t.next=34;break;case 30:return t.next=32,h.readJsonAsync(e.localInfoPath);case 32:e.localInfo=t.sent,e.localInfo.latest=a;case 34:return t.abrupt("return",{hasLocalInfo:f,latestVersion:s,info:e.localInfo});case 35:case"end":return t.stop()}},t,e)}))()}doDownload(e){var t=this;return(0,o.default)(i.default.mark(function n(){return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("update-not-available"!==e.status&&"update-downloaded"!==e.status){n.next=2;break}return n.abrupt("return",e);case 2:return t.versionInfo=t.latestVersion,l.app.tvud.getModule("autoUpdater").set("state","update-downloading"),n.abrupt("return",{info:t.localInfo,downloadPromise:t.downloadUpdate(new f.CancellationToken)});case 5:case"end":return n.stop()}},n,t)}))()}downloadUpdate(){var e=arguments,t=this;return(0,o.default)(i.default.mark(function n(){var r,o,a;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:new f.CancellationToken,null!=t.versionInfo){n.next=6;break}throw o="Please check update first",a=new Error(o),t.emit("error",a,o),a;case 6:return n.next=8,t.doDownloadUpdate(t.versionInfo,r);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},n,t)}))()}loadUpdateConfig(){var e=this;return(0,o.default)(i.default.mark(function t(){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return null==e._appUpdateConfigPath&&(e._appUpdateConfigPath=u.default.join(process.resourcesPath,"app-update.yml")),t.next=3,h.readFileAsync(e._appUpdateConfigPath,"utf-8");case 3:return n=t.sent,t.abrupt("return",p.default.safeLoad(n));case 5:case"end":return t.stop()}},t,e)}))()}set updateConfigPath(e){this.clientPromise=null,this._appUpdateConfigPath=e}_isCn(){var e=l.app.vud.getModule("account").get("domain"),t=l.app.vud.getModule("preferences").get("language");return void 0===e?"zh-CN"===t:"cn"===e}computeRequestHeaders(e){var t=this.requestHeaders;return null!=e.headers?null==t?e.headers:(0,r.default)({},e.headers,t):t}createClient(e){return new g.default(e,this.httpExecutor)}quitAndInstall(){v.default.track({eventAction:"newInstall"})}}},function(e,t,n){e.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(113)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(19),i=n(24),o=n(89)(!1),a=n(115)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(8),i=n(1),o=n(52);e.exports=n(7)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(24),i=n(55).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(52),i=n(90),o=n(74),a=n(10),s=n(73),u=Object.assign;e.exports=!u||n(3)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,d=o.f;u>c;)for(var f,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,m=0;v>m;)d.call(p,f=h[m++])&&(n[f]=p[f]);return n}:u},function(e,t,n){"use strict";var r=n(14),i=n(4),o=n(173),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(2).parseInt,i=n(65).trim,o=n(119),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(2).parseFloat,i=n(65).trim;e.exports=1/r(n(119)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(30);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(4),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(122),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*(i/u/a+1/o-1/o)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},function(e,t,n){var r=n(1);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(14),i=n(10),o=n(73),a=n(9);e.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),d=a(c.length),f=u?d-1:0,p=u?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=p;break}if(f+=p,u?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:d>f;f+=p)f in l&&(s=t(s,l[f],f,c));return s}},function(e,t,n){"use strict";var r=n(10),i=n(53),o=n(9);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),d=1;for(u<s&&s<u+l&&(d=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=d,u+=d;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(94)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1),i=n(4),o=n(137);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(188),i=n(67);e.exports=n(97)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(8).f,i=n(54),o=n(59),a=n(29),s=n(57),u=n(58),c=n(125),l=n(183),d=n(56),f=n(7),p=n(46).fastKey,h=n(67),v=f?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var r=n(188),i=n(67);e.exports=n(97)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(38)(0),o=n(21),a=n(46),s=n(171),u=n(191),c=n(4),l=n(3),d=n(67),f=a.getWeak,p=Object.isExtensible,h=u.ufstore,v={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(c(e)){var t=f(e);return!0===t?h(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(d(this,"WeakMap"),e,t)}},y=e.exports=n(97)("WeakMap",m,g,u,!0,!0);l(function(){return 7!=(new y).set((Object.freeze||Object)(v),7).get(v)})&&(s((r=u.getConstructor(m,"WeakMap")).prototype,g),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];o(t,e,function(t,i){if(c(t)&&!p(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(59),i=n(46).getWeak,o=n(1),a=n(4),s=n(57),u=n(58),c=n(38),l=n(19),d=n(67),f=c(5),p=c(6),h=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return f(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(d(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(d(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t,n){var r=n(36),i=n(9);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(55),i=n(90),o=n(1),a=n(2).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var r=n(91),i=n(4),o=n(9),a=n(29),s=n(5)("isConcatSpreadable");e.exports=function e(t,n,u,c,l,d,f,p){for(var h,v,m=l,g=0,y=!!f&&a(f,p,3);g<c;){if(g in u){if(h=y?y(u[g],g,n):u[g],v=!1,i(h)&&(v=void 0!==(v=h[s])?!!v:r(h)),v&&d>0)m=e(t,n,h,o(h.length),m,d-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=h}m++}g++}return m}},function(e,t,n){var r=n(9),i=n(121),o=n(35);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var d=l-u,f=i.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+s:s+f}},function(e,t,n){var r=n(52),i=n(24),o=n(74).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,c=0,l=[];u>c;)o.call(a,n=s[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(75),i=n(198);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(58);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",v={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==r&&i.call(y,a)&&(m=y);var b=E.prototype=S.prototype=Object.create(m);x.prototype=b.constructor=E,E.constructor=x,E[u]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},l.awrap=function(e){return{__await:e}},M(A.prototype),A.prototype[s]=function(){return this},l.AsyncIterator=A,l.async=function(e,t,n,r){var i=new A(w(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},M(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(e,t,n,r){var i=t&&t.prototype instanceof S?t:S,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=_(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function S(){}function x(){}function E(){}function M(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function A(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=_(e[n],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},a)}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function k(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,k(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=_(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports=!n(40)&&!n(61)(function(){return 7!=Object.defineProperty(n(140)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(62),i=n(68),o=n(436)(!1),a=n(146)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(48)},function(e,t,n){var r=n(17).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(152),i=n(18)("iterator"),o=n(80);e.exports=n(12).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(43),i=n(76),o=n(18)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(60),s=n(450),u=n(205),c=n(140),l=n(17),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete g[e]},"process"==n(78)(d)?r=function(e){d.nextTick(a(y,e,1))}:v&&v.now?r=function(e){v.now(a(y,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(43),i=n(32),o=n(154);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(17),i=n(12),o=n(39),a=n(40),s=n(18)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){e.exports={default:n(456),__esModule:!0}},function(e,t,n){"use strict";var r=n(39).f,i=n(151),o=n(155),a=n(60),s=n(153),u=n(83),c=n(150),l=n(203),d=n(211),f=n(40),p=n(158).fastKey,h=n(159),v=f?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var r=n(17),i=n(16),o=n(158),a=n(61),s=n(48),u=n(155),c=n(83),l=n(153),d=n(32),f=n(81),p=n(39).f,h=n(458)(0),v=n(40);e.exports=function(e,t,n,m,g,y){var b=r[e],w=b,_=g?"set":"add",S=w&&w.prototype,x={};return v&&"function"==typeof w&&(y||S.forEach&&!a(function(){(new w).entries().next()}))?(w=t(function(t,n){l(t,w,e,"_c"),t._c=new b,void 0!=n&&c(n,g,t[_],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in S&&(!y||"clear"!=e)&&s(w.prototype,e,function(n,r){if(l(this,w,e),!t&&y&&!d(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),y||p(w.prototype,"size",{get:function(){return this._c.size}})):(w=m.getConstructor(t,e,g,_),u(w.prototype,n),o.NEED=!0),f(w,e),x[e]=w,i(i.G+i.W+i.F,x),y||m.setStrong(w,e,g),w}},function(e,t,n){var r=n(78);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(152),i=n(462);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(16),i=n(76),o=n(60),a=n(83);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(473),__esModule:!0}},function(e,t,n){"use strict";var r=n(478),i=n(479);t.system=r.system,t.baseboard=r.baseboard,t.osInfo=i.osInfo},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";var r=o(n(28)),i=o(n(70));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(69),s=n(221),u=0,c="";t.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.unique=function(e){for(var t=[],n={},o=0;o<e.length;o++){var a=(0,i.default)(e[o]);a.sort(function(e,t){return e-t});for(var s="",u=0;u<a.length;u++)s+=(0,r.default)(a[u]),s+=(0,r.default)(e[o][a[u]]);n.hasOwnProperty(s)||(t.push(e[o]),n[s]=!0)}return t},t.sortByKey=function(e,t){return e.sort(function(e,n){var r="",i="";return t.forEach(function(t){r+=e[t],i+=n[t]}),r<i?-1:r>i?1:0})},t.cores=function(){return 0===u&&(u=a.cpus().length),u},t.getValue=function(e,t,n,r){n=n||":",t=t.toLowerCase(),r=r||!1;for(var i=0;i<e.length;i++){var o=e[i].toLowerCase().replace(/\t/g,"");if(r&&(o=o.trim()),o.startsWith(t)){var a=e[i].split(n);return a.length>=2?(a.shift(),a.join(n).trim()):""}}return""},t.decodeEscapeSequence=function(e,t){return t=t||16,e.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],t))})},t.parseDateTime=function(e){var t={date:"",time:""},n=e.split(" ");if(n[0]){if(n[0].indexOf("/")>=0){var r=n[0].split("/");3===r.length&&(t.date=r[2]+"-"+("0"+r[0]).substr(-2)+"-"+("0"+r[1]).substr(-2))}if(n[0].indexOf(".")>=0){var i=n[0].split(".");3===i.length&&(t.date=i[2]+"-"+("0"+i[1]).substr(-2)+"-"+("0"+i[0]).substr(-2))}if(n[0].indexOf("-")>=0){var o=n[0].split("-");3===o.length&&(t.date=o[0]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[2]).substr(-2))}}return n[1]&&(t.time=n[1]),t},t.getWmic=function(){return"Windows_NT"!==a.type()||c||(c=s.existsSync(process.env.WINDIR+"\\system32\\wbem\\wmic.exe")?process.env.WINDIR+"\\system32\\wbem\\wmic.exe":"wmic"),c},t.noop=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPCCommandService=t.CommandService=void 0;var r=s(n(28)),i=s(n(109));t.setupCommandServiceSync=function(e,t,n){e.on("update",function(n){var r={};n&&n.deactivateDelegateId?function e(t,n,r,i){if(n.delegate){if(n.delegate.id!=i&&i)return void e(t,n.delegate,r,i);n.delegate.forEachCommand(function(e,n){for(var r={},i=["label","interactive","state"],o=0;o<i.length;o++){var a=i[o];a in n&&(r[a]=null)}"handler"in n&&(r.handler=null,r.handled=!1),t[e]=r}),e(t,n.delegate,r)}}(r,e,t,n.deactivateDelegateId):function e(t,n,r){n.forEachCommand(function(e,n){for(var r={},i=["label","interactive","state"],o=0;o<i.length;o++){var a=i[o];a in n&&(r[a]=n[a])}"handler"in n&&(r.handled=!0),t[e]=r});n.delegate&&e(t,n.delegate,r)}(r,e,t),t.sync(r)}),n.on("commandService:handleCommand",function(t,n){return function(e,t){var n=JSON.parse(t),r=n.commandId,i=n.argument;e.handleCommand.apply(e,[r].concat(i))}(e,n)})};var o=s(n(110)),a=n(71);function s(e){return e&&e.__esModule?e:{default:e}}class u extends o.default{constructor(){super(),this._id=(0,a.UUID)(),this._commands={},this._delegate=null,this._delegateListener=this._onDelegateUpdated.bind(this),this.on("update",this.updateCommandStates)}get id(){return this._id}forEachCommand(e){if(e)for(var t in this._commands)e(t,this._commands[t]);return this}getLabelForCommand(e){return(this.findCommand(e,function(e){return!!e.label})||{}).label}isCommandInteractive(e){return!!(this.findCommand(e,function(e){return!!e.interactive})||{}).interactive}canHandle(e){var t=this.findCommand(e,function(e){return e.handler instanceof Object&&e.handler.handle instanceof Function});return!!t&&(!t.handler.test||!!t.handler.test())}handleCommand(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(!n[0]&&0!==n[0]&&!1!==n[0]||0===n[0].length)&&(n=[]);var o=this.findCommand(e,function(e){return e.handler&&"object"===(0,i.default)(e.handler)&&"function"==typeof e.handler.handle});return o&&o.handler instanceof Object&&o.handler.handle instanceof Function&&o.handler.handle(n),this}registerCommands(e){for(var t in e){var n=e[t];this.updateCommand(t,n,!1),process.platform in n&&this.updateCommand(t,n[process.platform],!1)}return this.emit("update"),this}getCommandState(e){var t=this.findCommand(e,function(e){return void 0!==e.state});return t?t.state:"enabled"}updateCommandStates(){for(var e in this._commands)this.updateCommandState(this._commands[e]);if(this._delegate)for(var t in this._delegate._commands)this.updateCommandState(this._delegate._commands[t])}updateCommandState(e){e.handler&&e.handler.test?e.state=e.handler.test()?"enabled":"disabled":e.state=e.handler?"enabled":"disabled"}updateCommand(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._commands[e]||(this._commands[e]={}),i=["label","interactive","handler","state"],o=0;o<i.length;o++){var a=i[o];a in t&&(r[a]=t[a])}return n&&this.emit("update",{commandId:e}),this}clearCommands(){return this._commands={},this}get delegate(){return this._delegate}activateDelegate(e){if(e&&e!==this._delegate)return this._delegate&&this._delegate.removeListener("update",this._delegateListener),this._delegate=e,e.addListener("update",this._delegateListener),this.emit("update"),this}deactivateDelegate(e){if(e&&e===this._delegate)return this._delegate&&this._delegate.removeListener("update",this._delegateListener),this.emit("update",{deactivateDelegateId:e.id}),this._delegate=null,this.emit("update"),this}findCommand(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._delegate&&"function"==typeof this._delegate.findCommand){var n=this._delegate.findCommand(e,t);if(n)return n}var r=this._commands[e];return!r||t&&!t(r)?null:r}_onDelegateUpdated(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.emit.apply(this,["update"].concat(t))}}t.CommandService=u;t.IPCCommandService=class extends u{constructor(e){super(),this._eventSender=e}updateCommand(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.handled&&(n.handler={handle:function(n){return t._eventSender.send("commandService:handleCommand",(0,r.default)({commandId:e,argument:n}))},test:function(){return"enabled"==(t._commands[e]||{}).state}}),super.updateCommand(e,n)}sync(e){var t=this;if(e){var n=function(n){for(var i=e[n],o=t._commands[n]||(t._commands[n]={}),a=["label","interactive","state"],s=0;s<a.length;s++){var u=a[s];u in i&&(o[u]=i[u])}i.handled?o.handler={handle:function(e){return t._eventSender.send("commandService:handleCommand",(0,r.default)({commandId:n,argument:e}))},test:function(){return"enabled"==(t._commands[n]||{}).state}}:o.handler=null};for(var i in e)n(i);this.emit("update")}}}},function(e,t,n){var r=n(202),i=n(148).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11),o=(r=i)&&r.__esModule?r:{default:r},a=n(6);a.app.__rootname=a.app.getAppPath(),a.app.__rootname.indexOf("node_modules")>-1&&(a.app.__rootname=a.app.__rootname.slice(0,a.app.__rootname.indexOf("node_modules"))),"true"===process.env.XMIND_DEV_MODE&&a.app.setPath("userData",o.default.join(a.app.__rootname,".dev/data"));var s=a.app.__rootname,u=o.default.join(s,"frameworks"),c=a.app.getPath("userData"),l=o.default.join(c,"vana"),d=o.default.join(l,"log"),f=o.default.join(l,"udc"),p=o.default.join(l,"vud"),h=o.default.join(l,"update"),v=o.default.join(l,"net"),m=o.default.join(l,"extensions"),g=o.default.join(l,"workbooks"),y=o.default.join(l,"repo"),b=o.default.join(l,"fonts"),w=o.default.join(l,"scriptcache");t.default={appRoot:s,userData:c,vana:l,frameworks:u,log:d,udc:f,vud:p,net:v,update:h,userPlugins:m,workbooks:g,seawind:y,fonts:b,scriptCache:w}},function(e,t,n){"use strict";var r=g(n(27)),i=g(n(28)),o=g(n(160)),a=g(n(23)),s=g(n(11)),u=g(n(494)),c=g(n(72)),l=g(n(108)),d=g(n(495)),f=n(6),p=n(223),h=n(111),v=g(n(496)),m=g(n(497));function g(e){return e&&e.__esModule?e:{default:e}}var y="darwin"===process.platform;function b(e){void 0===(e=(0,u.default)({webPreferences:{webSecurity:!1},acceptFirstMouse:!0,frame:"win32"!==process.platform&&"linux"!==process.platform,show:!1},e,{isMergeableObject:d.default})).titleBarStyle&&"darwin"===process.platform&&!0===e.frame&&(e.titleBarStyle="hidden"),"linux"===process.platform&&(e.icon=s.default.join(f.app.getAppPath(),"../icon.png"));var t=new f.BrowserWindow(e);return t.webContents.setVisualZoomLevelLimits(1,1),t.webContents.on("will-navigate",function(e){e.preventDefault()}),t.commandService=new p.IPCCommandService(t.webContents),t.on("focus",function(){f.app.commandService&&f.app.commandService.activateDelegate(t.commandService),f.app.eventManager&&f.app.eventManager.emitC(t.id,h.EventTypes.WINDOW_FOCUS)}).on("closed",function(){f.app.commandService&&f.app.commandService.deactivateDelegate(t.commandService)}).on("blur",function(){f.app.commandService&&f.app.commandService.deactivateDelegate(t.commandService),f.app.eventManager&&f.app.eventManager.emitC(t.id,h.EventTypes.WINDOW_BLUR)}).on("show",function(){f.app.eventManager&&f.app.eventManager.emitC(t.id,h.EventTypes.WINDOW_SHOW)}),t.webContents.on("did-finish-load",function(){!t.isDestroyed()&&t.isFocused()&&f.app.commandService&&f.app.commandService.activateDelegate(t.commandService)}),t._setEscapeTouchBarItem=function(){},t}function w(e,t){var n=t.workArea;e.x=n.x+Math.max((n.width-e.width)/2,0),e.y=n.y+Math.max((n.height-e.height)/2,0);var i=void 0;do{i=!1;var o=f.BrowserWindow.getAllWindows(),a=Array.isArray(o),s=0;for(o=a?o:(0,r.default)(o);;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var c=u.getBounds();if(e.x>=c.x&&e.x<c.x+30&&(e.x=c.x+30,i=!0),e.y>=c.y&&e.y<c.y+30&&(e.y=c.y+30,i=!0),i)break}}while(i)}function _(){f.app.rootLogger&&f.app.rootLogger.debug("Invoke findDisplayToUse, lifecycle state is ",f.app.lifecycle.state);var e=void 0,t=f.screen.getAllDisplays();if(1===t.length)e=t[0];else{if("darwin"===process.platform){var n=f.screen.getCursorScreenPoint();e=f.screen.getDisplayNearestPoint(n)}if(!e){var r=f.BrowserWindow.getFocusedWindow();r&&(e=f.screen.getDisplayMatching(r.getBounds()))}e||!(e=f.screen.getPrimaryDisplay())&&t.length>1&&(e=t[0])}return e}function S(e){var t={},n=e.bounds.width;return n<1366?(t.defaultWidth=n,t.defaultHeight=e.bounds.height,t.popWidth=1075,t.popHeight=648,t.minWidth=710,t.minHeight=648):n<1440?(t.defaultWidth=1058,t.defaultHeight=652,t.popWidth=1075,t.popHeight=648,t.minWidth=710,t.minHeight=648):n<1600?(t.defaultWidth=1096,t.defaultHeight=676,t.popWidth=1075,t.popHeight=648,t.minWidth=710,t.minHeight=648):(t.defaultWidth=1248,t.defaultHeight=770,t.popWidth=1075,t.popHeight=648,t.minWidth=710,t.minHeight=648),t}f.app.modal=(new v.default).registerMap(m.default.app),(0,a.default)(f.BrowserWindow,{vana:{welcome:null,splash:null,mindMapEditor:{},home:null,preferences:null,notes:null,spell:null,error:null,feedback:null},createBrowserWindow:b,openDefault:function(){return f.BrowserWindow.openMindMapEditor({source:"new://default"})},openMindMapEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{source:"new://default"};if(f.app.lifecycle.checkWelcome()){if((0,o.default)(f.BrowserWindow.vana.new))f.BrowserWindow.fromId(f.BrowserWindow.vana.new).hide();else{var t=f.BrowserWindow.openNew();t&&t.hide()}if(!e.source.startsWith("new:")){var n=f.BrowserWindow.getAllWindows().map(function(e){return e.id});for(var r in f.BrowserWindow.vana.mindMapEditor)if(n.includes(parseInt(r.substring(5)))){var i=f.BrowserWindow.vana.mindMapEditor[r];if(e.source==i)return void f.BrowserWindow.fromId(parseInt(r.substring(5))).show()}}var a=_(),u=S(a);e.minWidth=u.minWidth,e.minHeight=u.minHeight,e.width=u.defaultWidth,e.height=u.defaultHeight,("number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y))&&w(e,a);var d=b(e);new v.default(d).registerMap(m.default.MindMapEditor),d.recordDirty=function(e){d.dirty=e};var p=f.BrowserWindow.vana.mindMapEditor,h=d.id;return p["vana-"+h]=e.source,d.on("focus",function(){f.app.notification.promotionReady(d.id,e.source)}),d.on("closed",function(){f.app.notification.promotionReset(),f.BrowserWindow._checkQuit(),delete p["vana-"+h]}),d.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/index.html"),search:l.default.stringify({source:e.source||"new://default",mementoId:e.mementoId})})),f.app.tracker.track({eventAction:"openMindMapEditor"}),d}f.BrowserWindow.openWelcome()},_checkQuit:function(){if(!f.app.lifecycle.isBeforeQuit()){var e=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});(!e||e.length<1)&&"darwin"!=process.platform&&f.app.quit()}},openPreferences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===f.BrowserWindow.vana.preferences||void 0===f.BrowserWindow.vana.preferences||null==f.BrowserWindow.fromId(f.BrowserWindow.vana.preferences)){var t=_(),n=S(t);e.title="Preferences",e.minWidth=n.minWidth,e.minHeight=n.minHeight,e.width=640,e.maxWidth=640,e.minWidth=640,e.height=517,e.maxHeight=517,e.minHeight=517,e.resizable=!1,e.maximizable=!1,e.minimizable=!1,e.frame=!1,e.acceptFirstMouse=!0,e.fullscreenable=!1,("number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y))&&w(e,t),e.show=!1;var r=b(e);return r.webContents.setVisualZoomLevelLimits(1,1),f.BrowserWindow.vana.preferences=r.id,r.on("close",function(e){if(!f.app.lifecycle.isBeforeQuit()){var t=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});t&&t.length>1||"darwin"==process.platform?(e.preventDefault(),r.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()}),r.setMenu(null),r.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/preferences.html")})),r}f.BrowserWindow.fromId(f.BrowserWindow.vana.preferences).show()},openNotes:function(){if(!f.BrowserWindow.vana.notes){var e={},t=_(),n=S(t);e.title="Notes",e.minWidth=n.minWidth,e.minHeight=n.minHeight,e.width=n.popWidth,e.height=n.popHeight,"x"in e&&"y"in e||w(e,t),e.title="Notes";var r=b(e);f.BrowserWindow.vana.notes=r.id,r.on("close",function(e){if(!f.app.lifecycle.isBeforeQuit()){var t=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});t&&t.length>1||"darwin"==process.platform?(e.preventDefault(),r.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()}),r.setMenu(null);var i=c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/notes-full.html")});return r.loadURL(i),r}f.BrowserWindow.fromId(f.BrowserWindow.vana.notes).show()},openSpellChecker:function(){if(!f.BrowserWindow.vana.spell){var e=b({title:"Spelling",width:408,height:282,frame:!1,resizable:!1,fullscreenable:!1,show:!1,webPreferences:{webSecurity:!1}});f.BrowserWindow.vana.spell=e.id,e.on("show",function(){f.app.eventManager&&f.app.eventManager.emitC(e.id,h.EventTypes.WINDOW_SHOW)}),e.on("close",function(t){if(!f.app.lifecycle.isBeforeQuit()){var n=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});n&&n.length>1||"darwin"==process.platform?(t.preventDefault(),e.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()}),e.setMenu(null);var t=c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/check-spelling.html")});return e.loadURL(t),e}f.BrowserWindow.fromId(f.BrowserWindow.vana.spell).show()},openAbout:function(){if(f.BrowserWindow.vana.about){var e=f.BrowserWindow.fromId(f.BrowserWindow.vana.about);if(e)return e.show()}var t=b({title:"About",width:576,height:342,frame:!1,resizable:!1,fullscreenable:!1,show:!1});return f.BrowserWindow.vana.about=t.id,t.setMenu(null),t.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/about.html")})),t},openError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b({title:"Error",width:540,height:237+(y?0:24),resizable:!1,fullscreenable:!1,backgroundColor:"#FAFAFB",frame:y,show:!1});return f.BrowserWindow.vana.error=t.id,t.__initdata=(0,i.default)(e),t.setMenu(null),t.loadURL("file://"+s.default.resolve(f.app.__rootname,"out/modal-err.html")),t.show(),t},openWelcome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f.BrowserWindow.vana.welcome){var t=f.BrowserWindow.fromId(f.BrowserWindow.vana.welcome);if(t)return void t.show()}var n=_();("number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y))&&w(e,n);var r=b({title:"Welcome to XMind",width:814,height:526,frame:!1,resizable:!1,fullscreenable:!1,show:!1,webPreferences:{webSecurity:!1}});return f.BrowserWindow.vana.welcome=r.id,r.setMenu(null),r.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/welcome.html")})),r},openNew:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f.app.lifecycle.checkWelcome()){if(f.BrowserWindow.vana.new){var t=f.BrowserWindow.fromId(f.BrowserWindow.vana.new);if(t)return void t.show()}var n=_(),r=S(n);e.title="New",e.minWidth=r.minWidth,e.minHeight=r.minHeight,e.width=r.popWidth,e.height=r.popHeight,"darwin"==process.platform&&(e.fullscreenable=!1),("number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y))&&w(e,n);var i=b(e);f.BrowserWindow.vana.new=i.id,i.on("close",function(e){if(!f.app.lifecycle.isBeforeQuit()){var t=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});t&&t.length>1||"darwin"==process.platform?(e.preventDefault(),i.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()}),i.setMenu(null);return i.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/new.html"),search:"placeholder=placeholder"})),i}f.BrowserWindow.openWelcome()},openFeedback:function(){var e=f.BrowserWindow.getFocusedWindow()||f.BrowserWindow.getAllWindows()[0];if(e){var t=e.getBounds(),n=t.x+(t.width-540)/2,r=t.y+(t.height-406)/2;if(f.BrowserWindow.vana.feedback){var i=f.BrowserWindow.fromId(f.BrowserWindow.vana.feedback);if(i)return i.show(),i}var o=b({title:"Feedback",x:n,y:r,width:540,height:406,resizable:!1,fullscreenable:!1,frame:!1,show:!1,webPreferences:{webSecurity:!1}});f.BrowserWindow.vana.feedback=o.id,o.webContents.setVisualZoomLevelLimits(1,1),o.on("close",function(e){if(!f.app.lifecycle.isBeforeQuit()){var t=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});t&&t.length>1||"darwin"==process.platform?(e.preventDefault(),o.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()});var a=c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/feedback.html")});o.loadURL(a)}},openSplash:function(){var e={frame:!1,center:!0,hasShadow:!1,thickFrame:!1,resizable:!1,movable:!1,minimizable:!1,maximizable:!1,fullscreenable:!1,focusable:!1,alwaysOnTop:!0,width:800,height:500,show:!1},t=b(e);t.webContents.setVisualZoomLevelLimits(1,1),f.BrowserWindow.vana.splash=t.id,t.title="Splash";var n=c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/splash.html")});return t.loadURL(n),t},openEvernoteAuthorize:function(){if(f.BrowserWindow.vana.evernote){var e=f.BrowserWindow.fromId(f.BrowserWindow.vana.evernote);if(e)return e.show(),e;f.BrowserWindow.vana.evernote=null}var t=b({center:!0,resizable:!1,minimizable:!1,maximizable:!1,fullscreenable:!1,autoHideMenuBar:!0,titleBarStyle:"default",frame:!0,show:!1,width:800,height:511});t.webContents.setVisualZoomLevelLimits(1,1),f.BrowserWindow.vana.evernote=t.id,t.title="Evernote",t.setMenu(null);var n=c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/evernote.html")});return t.loadURL(n),t.on("close",function(){t.isDestroyed()||t.webContents.session.clearStorageData()}).on("closed",function(){return f.BrowserWindow._checkQuit()}),t},openBiggerplateAuthorize:function(){if(f.BrowserWindow.vana.biggerplate){var e=f.BrowserWindow.fromId(f.BrowserWindow.vana.biggerplate);if(e)return e.show(),e;f.BrowserWindow.vana.biggerplate=null}var t=b({center:!0,resizable:!1,minimizable:!1,maximizable:!1,fullscreenable:!1,autoHideMenuBar:!0,show:!1,titleBarStyle:"default",frame:!0,width:500,height:600});t.webContents.setVisualZoomLevelLimits(1,1),f.BrowserWindow.vana.biggerplate=t.id,t.title="Biggerplate",t.setMenu(null);var n=c.default.format({protocol:"file",slashes:!0,pathname:s.default.resolve(f.app.__rootname,"out/biggerplate.html")});return t.loadURL(n),t.on("close",function(){t.isDestroyed()||t.webContents.session.clearStorageData()}).on("closed",function(){return f.BrowserWindow._checkQuit()}),t},broadcast:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.BrowserWindow.getAllWindows().forEach(function(t){var r;(r=t.webContents).send.apply(r,[e].concat(n))})},existWindow:function(e){return e in this.vana&&null!==this.vana[e]},getWindow:function(e){return f.BrowserWindow.vana[e]?f.BrowserWindow.fromId(f.BrowserWindow.vana[e]):null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(27)),i=f(n(160)),o=f(n(28)),a=f(n(23)),s=f(n(72)),u=f(n(108)),c=f(n(13)),l=n(6),d=n(63);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){l.BrowserWindow.openHome(e.length>0?{homeSelection:e[0].homeSelection}:{})}function h(){var e=l.app.vud.getModule("account");e&&e.user&&l.shell.openExternal(decodeURIComponent(encodeURIComponent("https://www.xmind."+e.domain+"/xmind/account/"+e.user+"/"+e.token)))}function v(e,t,n){l.dialog.showOpenDialog({properties:["openFile","createDirectory","multiSelections"],filters:[{name:e,extensions:t}]},function(e){e&&e.length&&setTimeout(function(){var t=e,i=Array.isArray(t),o=0;for(t=i?t:(0,r.default)(t);;){var a;if(i){if(o>=t.length)break;a=t[o++]}else{if((o=t.next()).done)break;a=o.value}var c=a;l.BrowserWindow.openMindMapEditor({source:s.default.format({protocol:"import",hostname:n,slashes:!0,search:u.default.stringify({source:c})})})}},0)})}n(71),n(226),t.default=(0,a.default)({},{new:{label:"New",interactive:!0,handler:{handle:function(){l.BrowserWindow.openNew()}}},open:{label:"Open",interactive:!0,handler:{handle:function(){var e="win32"===process.platform;!e&&(0,i.default)(l.BrowserWindow.vana.new)&&l.BrowserWindow.fromId(l.BrowserWindow.vana.new).hide();l.dialog.showOpenDialog({properties:["openFile","createDirectory","multiSelections"],filters:[{name:l.app.localizer.localize("XMind Workbook"),extensions:["xmind"]},{name:l.app.localizer.localize("XMind Template"),extensions:["xmt"]}]},function(t){t&&t.length&&setTimeout(function(){for(var n=t,o=Array.isArray(n),a=0,n=o?n:(0,r.default)(n);;){var s;if(o){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var u=s;l.BrowserWindow.openMindMapEditor({source:(0,d.filePathToUrl)(u)}),e&&(0,i.default)(l.BrowserWindow.vana.new)&&l.BrowserWindow.fromId(l.BrowserWindow.vana.new).hide()}},0)}),l.app.tracker.track({eventCategory:"CommandService",eventAction:"openExist"})}}},recentPage:{label:"More...",handler:{handle:function(){p([{homeSelection:"recent"}])}}},toggleDevTools:{label:"Toggle Developer Tools",handler:{handle:function(){l.webContents.getFocusedWebContents().toggleDevTools()}}},cleanRecent:{label:"Clear Menu",handler:{handle:function(){l.app.vud.getModule("home").set("recentOpened",[]),l.app.mainMenu.updateMenu()},test:function(){var e=l.app.vud.getModule("home").get("recentOpened"),t=e?"string"==typeof e?JSON.parse(e):e:[];return t&&t.length}}},openrecentfileitem:{label:"(None)...",handler:{handle:function(e){var t,n,r=e[0];if(r.startsWith("file://")){if("win32"==process.platform?c.default.existsSync(r.substr(8)):c.default.existsSync(r.substr(7)))return l.BrowserWindow.openMindMapEditor({source:r});var i=(n=l.app.vud.getModule("home").get("recentOpened"),n?"string"==typeof n?JSON.parse(n):n:[]).filter(function(e){return e.uri!==r});t=i,l.app.vud.getModule("home").set("recentOpened",(0,o.default)(t)),l.dialog.showMessageBoxOnTop({type:"error",title:"XMind",message:l.app.localizer.localize("Open Recent"),detail:l.app.localizer.localize("This file does not exist. It may have been deleted or moved to another location."),buttons:[l.app.localizer.localize("OK")],cancelId:0}),l.app.commandService.emit("update")}}}},save:{label:"Save"},saveAs:{label:"Save As",interactive:!0},closeWindow:{label:"Close Window",handler:{handle:function(){var e=l.BrowserWindow.getFocusedWindow();e&&e.close()}}},exit:{label:"Exit",handler:{handle:function(){l.app.exit()}}},undo:{label:"Undo"},redo:{label:"Redo"},cut:{label:"Cut"},copy:{label:"Copy"},paste:{label:"Paste"},duplicate:{label:"Duplicate"},delete:{label:"Delete"},checkForUpdates:{label:"Check For Updates",interactive:!0,handler:{handle:function(){"update-downloaded"==l.app.tvud.getModule("autoUpdater").get("state")?l.app.autoUpdater&&l.app.autoUpdater.quitAndInstall(!1,!0):(l.app.tvud.getModule("autoUpdater").set("state","checking-for-update"),l.app.tvud.getModule("autoUpdater").set("checkForUpdatesType","user"),l.app.autoUpdater&&l.app.autoUpdater.checkForUpdates())},test:function(){var e=l.app.tvud.getModule("autoUpdater").get("state");return"checking-for-update"!==e&&"update-downloading"!==e&&"has-new-version"!==e}}},"workbench.setpassword":{label:"Set Password"},"workbench.fileProperties":{label:"File Properties",handler:{}},"workbench.exportMd":{label:"Text",interactive:!0},"workbench.exportTxt":{label:"TXT",interactive:!0},"workbench.exportWord":{label:"Word",interactive:!0},"workbench.exportExcel":{label:"Excel",interactive:!0},"workbench.exportPpt":{label:"PPT",interactive:!0},"workbench.exportPdf":{label:"PDF",interactive:!0},"workbench.exportPdfMap":{label:"PDF",interactive:!0},"workbench.exportPng1":{label:"PNG",interactive:!0},"workbench.exportSvg":{label:"SVG"},"workbench.importMindmanager":{label:"MindManager",interactive:!0,handler:{handle:function(){v("Mindmanager",["mmap"],"mindmanager")}}},"workbench.importNovamind":{label:"Novamind",interactive:!0,handler:{handle:function(){v("Novamind",["nm5"],"novamind")}}},"workbench.importFreemind":{label:"Freemind",interactive:!0,handler:{handle:function(){v("Freemind",["mm"],"freemind")}}},"workbench.importLighten":{label:"Lighten",interactive:!0,handler:{handle:function(){v("Lighten",["lighten"],"lighten")}}},"workbench.importMindNode":{label:"MindNode",interactive:!0,handler:{handle:function(){v("MindNode",["mindnode"],"mindnode")}}},"workbench.importMarkdown":{label:"Markdown",interactive:!0,handler:{handle:function(){v("Markdown",["md"],"markdown")}}},"workbench.toggleToolbarText":{label:"Show/Hide Toolbar Text"},"workbench.toggleNavigationPanel":{label:"Show Navigation Panel"},"workbench.toggleRightPanel":{label:"Toggle Workspace"},"workbench.toggleImagePanel":{label:"Show Icon Panel"},"workbench.toggleFormatPanel":{label:"Show Format Panel"},"workbench.profile":{label:"Profile",handler:{handle:h,test:function(){return!!l.app.vud.getModule("account").get("user")}}},signIn:{label:"Sign In",handler:{handle:function(){l.app.modal.closeModal("enterLicense"),l.app.modal.showModal("signin",{title:"Sign In"})},test:function(){return!l.app.vud.getModule("account").get("user")}}},signOut:{label:"Sign Out",handler:{handle:function(){l.app.vud.getModule("account").clear(),l.app.vud.getModule("deviceStatus").set("license",null),l.app.commandService.updateCommand("sign",{label:"Sign In"}),l.app.modal.modals.activate.modal&&!l.app.modal.modals.activate.modal.isDestroyed()&&l.app.modal.modals.activate.modal.destroy(),l.app.activateService.getPerMachineLicenseStatus()!==l.app.activateService.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS&&"ee"===l.app.activateService.getMachineStatus()&&setTimeout(function(){0===l.dialog.showMessageBoxOnTop({message:l.app.localizer.localize("Your trial is ended."),detail:l.app.localizer.localize("You can’t export, print or save mind map. Subscribe now to enjoy full features."),buttons:[l.app.localizer.localize("See Pricing"),l.app.localizer.localize("Close")],defaultId:0})&&l.app.commandService.handleCommand("activate")},500)},test:function(){return!!l.app.vud.getModule("account").get("user")}}},sign:{label:"Sign In",handler:{handle:function(){l.app.commandService.canHandle("signOut")?l.app.commandService.handleCommand("signOut"):l.app.commandService.handleCommand("signIn")}}},"workbench.toggleOutline":{label:"Outline"},"workbench.toggleMarkerPanel":{label:"Marker"},"workbench.toggleFindAndReplace":{label:"Find / Replace"},"workbench.iconOnly":{label:"Icon Only"},"workbench.iconAndText":{label:"Icon And Text"},"workbench.toggelStatusBar":{label:"Show Status Bar"},"workbench.showSticker":{label:"Sticker"},about:{label:"About XMind",handler:{handle:function(){return l.BrowserWindow.openAbout()}}},"workbench.feedback":{label:"Feedback",handler:{handle:function(){return l.BrowserWindow.openFeedback()}}},preferences:{label:"Preferences",interactive:!0,handler:{handle:function(){l.BrowserWindow.openPreferences()}}},"workbench.openHome":{label:"Home",interactive:!0,handler:{handle:p}},toggleFullScreen:{label:"Toggle Full Screen"}},{"workbench.toggleZenMode":{label:"ZEN Mode"},share:{label:"Share"},print:{label:"Print",interactive:!0},"editor.toggleSheetBar":{label:"Hide Sheet Bar"},"editor.toggleMiniMap":{label:"Show Map Overview"},"editor.toggleTopicCountLabel":{label:"Show Topic Count"},"editor.showHome":{label:"Show Home"},"editor.addSheet":{label:"New Sheet"},"editor.newSheetFromTopic":{label:"New Sheet From Topic"},"editor.addTopic":{label:"Topic After"},"editor.addSubTopic":{label:"Subtopic"},"editor.addTopicBefore":{label:"Topic Before"},"editor.addParentTopic":{label:"Parent Topic"},"editor.preAddFloatingTopic":{label:"Floating Topic"},"editor.addCallout":{label:"Callout"},"editor.addRelationship":{label:"Relationship"},"editor.addBoundary":{label:"Boundary"},"editor.addSummary":{label:"Summary"},"editor.addLocalImage":{label:"Local Image"},"editor.align":{label:"Align Floating Topic"},"editor.showNotesEditor":{label:"Note"},"editor.showLabelEditor":{label:"Label"},"editor.showHyperlinkEditor":{label:"Hyperlink"},"editor.addAttachment":{label:"Attachment"},"editor.addAudio":{label:"Audio Note"},"editor.changeFontSize":{label:"Change Font Size"},"editor.changeStructure":{label:"Change Structure"},"editor.changeBranchLineStyle":{label:"Change Branch Line Style"},"editor.changeFontFamily":{label:"Change Font Family"},"editor.changeTextColor":{label:"Change Text Color"},"editor.changeLineColor":{label:"Change Line Color"},"editor.changeShapeColor":{label:"Change Fill Color"},"editor.changeBorderColor":{label:"Change Border Line Color"},"editor.changeLineWidth":{label:"Change Line Width"},"editor.changeBorderWidth":{label:"Change Border Width"},"editor.changeFontWeight":{label:"Change Font Weight"},"editor.changeFontStyle":{label:"Change Font Style"},"editor.changeTextDecoration":{label:"Change Text Decoration"},"editor.changeShapeClass":{label:"Change Shape Class"},"editor.changeStartArrowType":{label:"Change Start Arrow Type"},"editor.changeEndArrowType":{label:"Change End Arrow Type"},"editor.changeSheetBackground":{label:"Change Sheet Background"},"editor.changeLegendDisplay":{label:"Change Legend Display"},"editor.changeInfoItemDisplay":{label:"Change InfoItem Diaplay"},"editor.changeLineTapered":{label:"Change Line Tapered"},"editor.changeColorGradient":{label:"Change Color Gradient"},"editor.changeTheme":{label:"Change Theme"},"editor.changeTextAlign":{label:"Change Text Align"},"editor.zoom":{label:"Zoom"},"editor.select":{label:"Select"},"editor.changeTitle":{label:"Change Title"},"editor.copyStyle":{label:"Copy Style"},"editor.pasteStyle":{label:"Paste Style"},"editor.resetStyle":{label:"Reset Style"},"editor.focusAndSelectCenter":{label:"Go to Central Topic"},"editor.toggleBranch":{label:"Fold Subtopic"},"editor.changeSheetTitle":{label:"Change Sheet Title"},"editor.zoomIn":{label:"Zoom In"},"editor.zoomOut":{label:"Zoom Out"},"editor.resetZoom":{label:"Actual Size"},"editor.fitMap":{label:"Fit Map"},"editor.selectAll":{label:"Select All"},"editor.removeAudioNotes":{label:"Delete Audio"},"editor.account":{label:"My XMind Account"},"editor.support":{label:"Support",handler:{handle:function(){var e=l.app.vud.getModule("account");e&&"cn"==e.domain?l.shell.openExternal("https://www.xmind.cn/xmind/help/"):l.shell.openExternal("https://www.xmind.net/xmind/help/")}}},"editor.toggleKeyAssist":{label:"Key Assist"},"editor.toggleBeginnerMode":{label:"Get Started"},"editor.toggleBeginnerModeTips":{label:"Show Tips"},"editor.toggleMarkerPopoverInZenMode":{label:"Marker"},"editor.toggleStylePopoverInZenMode":{label:"Style"},"editor.showEditBox":{label:"Show Edit Box"},"editor.changeTopicCustomWidth":{label:"Change Topic Width"},"editor.changeCommentsInfo":{label:"Change Comment"},"editor.removeTaskInfo":{label:"Delete Task Info"},"editor.deleteInfoItem":{label:"Delete"},"editor.editInfoItem":{label:"Edit"},activate:{label:"Activate Now",handler:{handle:function(){l.app.activateService.openActivateDialog()},test:function(){return l.app.activateService.getAppActivateStatus()!==l.app.activateService.APP_STATUS.ACTIVATED}}},subscriptionInfo:{label:"Subscription Info",handler:{handle:h,test:function(){return"sub"===l.app.activateService.getCurrentLicenseStatus()}}},enterLicense:{label:"Enter License Key",handler:{handle:function(){l.app.modal.closeModal("signin"),l.app.modal.showModal("enterLicense")},test:function(){return"linux"!==process.platform&&"sub"===l.app.activateService.getCurrentLicenseStatus()&&l.app.activateService.getPerMachineLicenseStatus()!==l.app.activateService.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS}}},licenseInfo:{label:"License Info",handler:{handle:function(){l.BrowserWindow.openAbout()},test:function(){return l.app.activateService.getPerMachineLicenseStatus()===l.app.activateService.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS}}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(28)),i=p(n(15)),o=p(n(44)),a=p(n(27)),s=p(n(45)),u=p(n(11)),c=p(n(13)),l=p(n(509)),d=p(n(510)),f=n(6);function p(e){return e&&e.__esModule?e:{default:e}}var h=[".ttf",".otf",".woff",".woff2",".ttc",".dfont"];t.default=new class{constructor(){}getSystemFontDirs(){var e=[];if("darwin"===process.platform)e=e.concat([u.default.join(process.env.HOME,"Library","Fonts"),u.default.join("/","Library","Fonts"),u.default.join("/","System","Library","Fonts"),u.default.join("/","System","Library","Assets","com_apple_MobileAsset_Font3"),u.default.join("/","System","Library","Assets","com_apple_MobileAsset_Font4")]);else if("win32"===process.platform){var t=process.env.windir||process.env.WINDIR;e=e.concat([u.default.join(t,"Fonts")])}else{var n=process.env.HOME;e=e.concat([u.default.join(n,".fonts"),u.default.join(n,".local","share","fonts"),u.default.join("/","usr","share","fonts"),u.default.join("/","usr","local","share","fonts")])}return e}doGetFontPaths(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,s.default)(o.default.mark(function r(){var i,s,l,d,f,p,v,m;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.default.readdirAsync(e);case 3:i=r.sent,s=i,l=Array.isArray(s),d=0,s=l?s:(0,a.default)(s);case 5:if(!l){r.next=11;break}if(!(d>=s.length)){r.next=8;break}return r.abrupt("break",29);case 8:f=s[d++],r.next=15;break;case 11:if(!(d=s.next()).done){r.next=14;break}return r.abrupt("break",29);case 14:f=d.value;case 15:return p=f,v=u.default.join(e,p),r.next=19,c.default.lstatAsync(v);case 19:if(!r.sent.isDirectory()){r.next=25;break}return r.next=23,t.doGetFontPaths(v,n);case 23:r.next=27;break;case 25:m=u.default.extname(v).toLowerCase(),h.includes(m)&&n.push(v);case 27:r.next=5;break;case 29:r.next=33;break;case 31:r.prev=31,r.t0=r.catch(0);case 33:return r.abrupt("return",n);case 34:case"end":return r.stop()}},r,t,[[0,31]])}))()}getSystemFontPaths(){var e=this;return(0,s.default)(o.default.mark(function t(){var n,r,i,s,u,c,l,d;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=e.getSystemFontDirs(),i=r,s=Array.isArray(i),u=0,i=s?i:(0,a.default)(i);case 3:if(!s){t.next=9;break}if(!(u>=i.length)){t.next=6;break}return t.abrupt("break",20);case 6:c=i[u++],t.next=13;break;case 9:if(!(u=i.next()).done){t.next=12;break}return t.abrupt("break",20);case 12:c=u.value;case 13:return l=c,t.next=16,e.doGetFontPaths(l);case 16:d=t.sent,n=n.concat(d);case 18:t.next=3;break;case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}},t,e)}))()}getFontPaths(e){var t=this,n=e.customDir,r=void 0===n?null:n,i=e.system,a=void 0!==i&&i;return(0,s.default)(o.default.mark(function e(){var n,i,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!a){e.next=6;break}return e.next=4,t.getSystemFontPaths();case 4:i=e.sent,n=n.concat(i);case 6:return e.next=8,t.doGetFontPaths(r);case 8:return s=e.sent,n=n.concat(s),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,t)}))()}doGetFonts(e){var t=this;return new i.default(function(n){l.default.open(e,function(r,i){if(r)console.log(r,e),n([]);else{var o=[];if(i.fonts){var s=i.fonts,u=Array.isArray(s),c=0;for(s=u?s:(0,a.default)(s);;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var d=l;if(d.familyName){var f=t.generateFont(d,e);f&&o.push(f)}}}else{var p=t.generateFont(i,e);p&&o.push(p)}n(o)}})})}generateFont(e,t){try{if(e.name&&e.familyName){var n=e.familyName;e.name&&e.name.records&&e.name.records.preferredFamily&&e.name.records.preferredFamily.en?n=e.name.records.preferredFamily.en:e.name&&e.name.records&&e.name.records.fontFamily&&e.name.records.fontFamily.en&&(n=e.name.records.fontFamily.en);var r=e.subfamilyName;return e.name&&e.name.records&&e.name.records.preferredSubfamily&&e.name.records.preferredSubfamily.en?r=e.name.records.preferredSubfamily.en:e.name&&e.name.records&&e.name.records.fontSubfamily&&e.name.records.fontSubfamily.en&&(r=e.name.records.fontSubfamily.en),n instanceof Buffer&&(f.app.rootLogger.warn("font unsupported by iconv, [hex encode]:",d.default.decode(n,"hex")),n=d.default.decode(n,"utf16be")),r instanceof Buffer&&(f.app.rootLogger.warn("font unsupported by iconv, [hex encode]:",d.default.decode(r,"hex")),r=d.default.decode(r,"utf16be")),{family:n,style:r,weight:e["OS/2"]?e["OS/2"].usWeightClass:null,monospace:e.post&&0!=e.post.isFixedPitch,path:t,fsSelection:e["OS/2"]?e["OS/2"].fsSelection:null}}}catch(t){f.app.rootLogger.error("Unknown error occur",t);try{f.app.rootLogger.error("Unknown fontDescriptor:",e)}catch(e){}}}getFontsFromPath(e){var t=this;return(0,s.default)(o.default.mark(function n(){return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.doGetFonts(e));case 1:case"end":return n.stop()}},n,t)}))()}getFonts(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.customDir,i=void 0===n?null:n,u=t.system,c=void 0===u||u;return(0,s.default)(o.default.mark(function t(){var n,s,u,l,d,f,p,h;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,e.getFontPaths({customDir:i,system:c});case 3:s=t.sent,u=s,l=Array.isArray(u),d=0,u=l?u:(0,a.default)(u);case 5:if(!l){t.next=11;break}if(!(d>=u.length)){t.next=8;break}return t.abrupt("break",22);case 8:f=u[d++],t.next=15;break;case 11:if(!(d=u.next()).done){t.next=14;break}return t.abrupt("break",22);case 14:f=d.value;case 15:return p=f,t.next=18,e.doGetFonts(p);case 18:h=t.sent,n=n.concat(h);case 20:t.next=5;break;case 22:return t.abrupt("return",(0,r.default)(n));case 23:case"end":return t.stop()}},t,e)}))()}getFontsWithCached(e){var t=this;return(0,s.default)(o.default.mark(function n(){return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.cachedFonts){n.next=2;break}return n.abrupt("return",t.cachedFonts);case 2:return n.next=4,t.getFonts(e);case 4:return t.cachedFonts=n.sent,n.abrupt("return",t.cachedFonts);case 6:case"end":return n.stop()}},n,t)}))()}}},function(e,t){e.exports=require("js-yaml")},function(e,t,n){n(231),e.exports=n(432)},function(e,t,n){"use strict";if(n(232),n(200),n(429),global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0;var r="defineProperty";function i(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}i(String.prototype,"padLeft","".padStart),i(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&i(Array,e,Function.call.bind([][e]))})},function(e,t,n){n(233),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(313),n(314),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(134),n(337),n(338),n(184),n(339),n(340),n(341),n(342),n(343),n(187),n(189),n(190),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),e.exports=n(33)},function(e,t,n){"use strict";var r=n(2),i=n(19),o=n(7),a=n(0),s=n(21),u=n(46).KEY,c=n(3),l=n(88),d=n(64),f=n(50),p=n(5),h=n(167),v=n(114),m=n(234),g=n(91),y=n(1),b=n(4),w=n(24),_=n(34),S=n(49),x=n(54),E=n(170),M=n(25),A=n(8),k=n(52),T=M.f,C=A.f,I=E.f,O=r.Symbol,P=r.JSON,N=P&&P.stringify,L=p("_hidden"),F=p("toPrimitive"),D={}.propertyIsEnumerable,R=l("symbol-registry"),U=l("symbols"),W=l("op-symbols"),B=Object.prototype,j="function"==typeof O,z=r.QObject,V=!z||!z.prototype||!z.prototype.findChild,H=o&&c(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(B,t);r&&delete B[t],C(e,t,n),r&&e!==B&&C(B,t,r)}:C,K=function(e){var t=U[e]=x(O.prototype);return t._k=e,t},q=j&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},G=function(e,t,n){return e===B&&G(W,t,n),y(e),t=_(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=x(n,{enumerable:S(0,!1)})):(i(e,L)||C(e,L,S(1,{})),e[L][t]=!0),H(e,t,n)):C(e,t,n)},J=function(e,t){y(e);for(var n,r=m(t=w(t)),i=0,o=r.length;o>i;)G(e,n=r[i++],t[n]);return e},Q=function(e){var t=D.call(this,e=_(e,!0));return!(this===B&&i(U,e)&&!i(W,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,L)&&this[L][e])||t)},X=function(e,t){if(e=w(e),t=_(t,!0),e!==B||!i(U,t)||i(W,t)){var n=T(e,t);return!n||!i(U,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},Y=function(e){for(var t,n=I(w(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==L||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===B,r=I(n?W:w(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(B,t)||o.push(U[t]);return o};j||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(W,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),H(this,e,S(1,n))};return o&&V&&H(B,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",function(){return this._k}),M.f=X,A.f=G,n(55).f=E.f=Y,n(74).f=Q,n(90).f=Z,o&&!n(51)&&s(B,"propertyIsEnumerable",Q,!0),h.f=function(e){return K(p(e))}),a(a.G+a.W+a.F*!j,{Symbol:O});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)p($[ee++]);for(var te=k(p.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!j,"Symbol",{for:function(e){return i(R,e+="")?R[e]:R[e]=O(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!j,"Object",{create:function(e,t){return void 0===t?x(e):J(x(e),t)},defineProperty:G,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),P&&a(a.S+a.F*(!j||c(function(){var e=O();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,N.apply(P,r)}}),O.prototype[F]||n(20)(O.prototype,F,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(52),i=n(90),o=n(74);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(54)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(169)})},function(e,t,n){var r=n(24),i=n(25).f;n(37)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(10),i=n(26);n(37)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(10),i=n(52);n(37)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(37)("getOwnPropertyNames",function(){return n(170).f})},function(e,t,n){var r=n(4),i=n(46).onFreeze;n(37)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4),i=n(46).onFreeze;n(37)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4),i=n(46).onFreeze;n(37)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4);n(37)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(37)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(37)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(171)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(250)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(118).set})},function(e,t,n){"use strict";var r=n(75),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(21)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(172)})},function(e,t,n){var r=n(8).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(7)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(4),i=n(26),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(8).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),i=n(174);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(0),i=n(175);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(2),i=n(19),o=n(30),a=n(120),s=n(34),u=n(3),c=n(55).f,l=n(25).f,d=n(8).f,f=n(65).trim,p=r.Number,h=p,v=p.prototype,m="Number"==o(n(54)(v)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(m?u(function(){v.valueOf.call(n)}):"Number"!=o(n))?a(new h(y(t)),n,p):y(t)};for(var b,w=n(7)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;w.length>_;_++)i(h,b=w[_])&&!i(p,b)&&d(p,b,l(h,b));p.prototype=v,v.constructor=p,n(21)(r,"Number",p)}},function(e,t,n){"use strict";var r=n(0),i=n(36),o=n(176),a=n(121),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),v="",m="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(u*h(2,69,1))-69)<0?u*h(2,-t,1):u/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=c;r>=7;)d(1e7,0),r-=7;for(d(h(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),d(1,1),f(2),m=p()}else d(0,n),d(1<<-t,0),m=p()+a.call("0",c);return m=c>0?v+((s=m.length)<=c?"0."+a.call("0",c-s)+m:m.slice(0,s-c)+"."+m.slice(s-c)):v+m}})},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(176),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(177)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),i=n(177),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),i=n(175);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(0),i=n(174);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(0),i=n(178),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),i=n(122);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(0),i=n(123);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(179)})},function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(178)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(122)})},function(e,t,n){var r=n(0),i=n(123),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),i=n(123),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(53),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),i=n(24),o=n(9);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(65)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(124)(!0);n(125)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(0),i=n(124)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(127),a="".endsWith;r(r.P+r.F*n(128)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";var r=n(0),i=n(127);r(r.P+r.F*n(128)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(121)})},function(e,t,n){"use strict";var r=n(0),i=n(9),o=n(127),a="".startsWith;r(r.P+r.F*n(128)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(22)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(22)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(22)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(22)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(22)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(22)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(22)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(22)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(22)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(22)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(22)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(22)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(22)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(34);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),i=n(312);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(21)(r,"toString",function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"})},function(e,t,n){var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(20)(i,r,n(315))},function(e,t,n){"use strict";var r=n(1),i=n(34);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(91)})},function(e,t,n){"use strict";var r=n(29),i=n(0),o=n(10),a=n(180),s=n(129),u=n(9),c=n(130),l=n(131);i(i.S+i.F*!n(93)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,f=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=0,y=l(f);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(n=new p(t=u(f.length));t>g;g++)c(n,g,m?v(f[g],g):f[g]);else for(d=y.call(f),n=new p;!(i=d.next()).done;g++)c(n,g,m?a(d,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(0),i=n(130);r(r.S+r.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),i=n(24),o=[].join;r(r.P+r.F*(n(73)!=Object||!n(31)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(117),o=n(30),a=n(53),s=n(9),u=[].slice;r(r.P+r.F*n(3)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),d=new Array(l),f=0;f<l;f++)d[f]="String"==r?this.charAt(i+f):this[i+f];return d}})},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(10),a=n(3),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(31)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(0),i=n(38)(0),o=n(31)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(4),i=n(91),o=n(5)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),i=n(38)(1);r(r.P+r.F*!n(31)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(38)(2);r(r.P+r.F*!n(31)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(38)(3);r(r.P+r.F*!n(31)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(38)(4);r(r.P+r.F*!n(31)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(181);r(r.P+r.F*!n(31)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(181);r(r.P+r.F*!n(31)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(89)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(31)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(24),o=n(36),a=n(9),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(31)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(182)}),n(47)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(133)}),n(47)("fill")},function(e,t,n){"use strict";var r=n(0),i=n(38)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(47)("find")},function(e,t,n){"use strict";var r=n(0),i=n(38)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(47)(o)},function(e,t,n){n(56)("Array")},function(e,t,n){var r=n(2),i=n(120),o=n(8).f,a=n(55).f,s=n(92),u=n(94),c=r.RegExp,l=c,d=c.prototype,f=/a/g,p=/a/g,h=new c(f)!==f;if(n(7)&&(!h||n(3)(function(){return p[n(5)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(h?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:d,c)};for(var v=function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=a(l),g=0;m.length>g;)v(m[g++]);d.constructor=c,c.prototype=d,n(21)(r,"RegExp",c)}n(56)("RegExp")},function(e,t,n){"use strict";n(184);var r=n(1),i=n(94),o=n(7),a=/./.toString,s=function(e){n(21)(RegExp.prototype,"toString",e,!0)};n(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,n){n(95)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(95)("replace",2,function(e,t,n){return[function(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){n(95)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(95)("split",2,function(e,t,r){"use strict";var i=n(92),o=r,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,u,c,l,d,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,v=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+m.source+"$(?!\\s)",p));(u=m.exec(n))&&!((c=u.index+u[0].length)>h&&(f.push(n.slice(h,u.index)),!s&&u.length>1&&u[0].replace(r,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(u[d]=void 0)}),u.length>1&&u.index<n.length&&a.apply(f,u.slice(1)),l=u[0].length,h=c,f.length>=v));)m.lastIndex===u.index&&m.lastIndex++;return h===n.length?!l&&m.test("")||f.push(""):f.push(n.slice(h)),f.length>v?f.slice(0,v):f}}else"0".split(void 0,0).length&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){"use strict";var r,i,o,a,s=n(51),u=n(2),c=n(29),l=n(75),d=n(0),f=n(4),p=n(14),h=n(57),v=n(58),m=n(96),g=n(135).set,y=n(136)(),b=n(137),w=n(185),_=n(186),S=u.TypeError,x=u.process,E=u.Promise,M="process"==l(x),A=function(){},k=i=b.f,T=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(A,A)};return(M||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t}catch(e){}}(),C=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&N(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(S("Promise-chain cycle")):(o=C(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){g.call(u,function(){var t,n,r,i=e._v,o=P(e);if(o&&(t=w(function(){M?x.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=M||P(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){g.call(u,function(){var t;M?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=C(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};T||(E=function(e){h(this,E,"Promise","_h"),p(e),r.call(this);try{e(c(F,this,1),c(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(59)(E.prototype,{then:function(e,t){var n=k(m(this,E));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=M?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(L,e,1)},b.f=k=function(e){return e===E||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!T,{Promise:E}),n(64)(E,"Promise"),n(56)("Promise"),a=n(33).Promise,d(d.S+d.F*!T,"Promise",{reject:function(e){var t=k(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!T),"Promise",{resolve:function(e){return _(s&&this===a?E:this,e)}}),d(d.S+d.F*!(T&&n(93)(function(e){E.all(e).catch(A)})),"Promise",{all:function(e){var t=this,n=k(t),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=k(t),r=n.reject,i=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";var r=n(191),i=n(67);n(97)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),i=n(98),o=n(138),a=n(1),s=n(53),u=n(9),c=n(4),l=n(2).ArrayBuffer,d=n(96),f=o.ArrayBuffer,p=o.DataView,h=i.ABV&&l.isView,v=f.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*n(3)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,f))(u(i-r)),c=new p(this),l=new p(o),h=0;r<i;)l.setUint8(h++,c.getUint8(r++));return o}}),n(56)("ArrayBuffer")},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(98).ABV,{DataView:n(138).DataView})},function(e,t,n){n(41)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(41)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(41)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(41)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(41)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(41)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(41)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(41)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(41)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(0),i=n(14),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(0),i=n(54),o=n(14),a=n(1),s=n(4),u=n(3),c=n(172),l=(n(2).Reflect||{}).construct,d=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),f=!u(function(){l(function(){})});r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(8),i=n(0),o=n(1),a=n(34);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),i=n(25).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),i=n(1),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(126)(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){var r=n(25),i=n(26),o=n(19),a=n(0),s=n(4),u=n(1);a(a.S,"Reflect",{get:function e(t,n){var a,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(t))?e(c,n,l):void 0}})},function(e,t,n){var r=n(25),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(0),i=n(26),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(193)})},function(e,t,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(8),i=n(25),o=n(26),a=n(19),s=n(0),u=n(49),c=n(1),l=n(4);s(s.S,"Reflect",{set:function e(t,n,s){var d,f,p=arguments.length<4?t:arguments[3],h=i.f(c(t),n);if(!h){if(l(f=o(t)))return e(f,n,s,p);h=u(0)}return a(h,"value")?!(!1===h.writable||!l(p)||((d=i.f(p,n)||u(0)).value=s,r.f(p,n,d),0)):void 0!==h.set&&(h.set.call(p,s),!0)}})},function(e,t,n){var r=n(0),i=n(118);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),i=n(89)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(47)("includes")},function(e,t,n){"use strict";var r=n(0),i=n(194),o=n(10),a=n(9),s=n(14),u=n(132);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(47)("flatMap")},function(e,t,n){"use strict";var r=n(0),i=n(194),o=n(10),a=n(9),s=n(36),u=n(132);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=u(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(47)("flatten")},function(e,t,n){"use strict";var r=n(0),i=n(124)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(195),o=n(139);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(195),o=n(139);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(65)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(65)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(0),i=n(35),o=n(9),a=n(92),s=n(94),u=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};n(126)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new c(r,t)}})},function(e,t,n){n(114)("asyncIterator")},function(e,t,n){n(114)("observable")},function(e,t,n){var r=n(0),i=n(193),o=n(24),a=n(25),s=n(130);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,c=i(r),l={},d=0;c.length>d;)void 0!==(n=u(r,t=c[d++]))&&s(l,t,n);return l}})},function(e,t,n){var r=n(0),i=n(196)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(0),i=n(196)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(14),a=n(8);n(7)&&r(r.P+n(99),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(14),a=n(8);n(7)&&r(r.P+n(99),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(34),a=n(26),s=n(25).f;n(7)&&r(r.P+n(99),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(34),a=n(26),s=n(25).f;n(7)&&r(r.P+n(99),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(197)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(197)("Set")})},function(e,t,n){n(100)("Map")},function(e,t,n){n(100)("Set")},function(e,t,n){n(100)("WeakMap")},function(e,t,n){n(100)("WeakSet")},function(e,t,n){n(101)("Map")},function(e,t,n){n(101)("Set")},function(e,t,n){n(101)("WeakMap")},function(e,t,n){n(101)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(2)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(e,t,n){var r=n(0),i=n(30);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){var r=n(0),i=n(199),o=n(179);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(199)})},function(e,t,n){var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(0),i=n(33),o=n(2),a=n(96),s=n(186);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(0),i=n(137),o=n(185);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(42),i=n(1),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var r=n(42),i=n(1),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},function(e,t,n){var r=n(42),i=n(1),o=n(26),a=r.has,s=r.get,u=r.key,c=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?c(e,r,n):void 0};r.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){var r=n(189),i=n(198),o=n(42),a=n(1),s=n(26),u=o.keys,c=o.key,l=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var a=l(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,n){var r=n(42),i=n(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(42),i=n(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var r=n(42),i=n(1),o=n(26),a=r.has,s=r.key,u=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(42),i=n(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(42),i=n(1),o=n(14),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},function(e,t,n){var r=n(0),i=n(136)(),o=n(2).process,a="process"==n(30)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(33),a=n(136)(),s=n(5)("observable"),u=n(14),c=n(1),l=n(57),d=n(59),f=n(20),p=n(58),h=p.RETURN,v=function(e){return null==e?void 0:u(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},g=function(e){return void 0===e._o},y=function(e){g(e)||(e._o=void 0,m(e))},b=function(e,t){c(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}g(this)&&m(this)};b.prototype=d({},{unsubscribe:function(){y(this)}});var w=function(e){this._s=e};w.prototype=d({},{next:function(e){var t=this._s;if(!g(t)){var n=t._o;try{var r=v(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(g(t))throw e;var n=t._o;t._o=void 0;try{var r=v(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!g(t)){var n=t._o;t._o=void 0;try{var r=v(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var _=function(e){l(this,_,"Observable","_f")._f=u(e)};d(_.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),d(_,{from:function(e){var t="function"==typeof this?this:_,n=v(c(e)[s]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return h})===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:_)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),f(_.prototype,s,function(){return this}),r(r.G,{Observable:_}),n(56)("Observable")},function(e,t,n){var r=n(2),i=n(0),o=n(139),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(0),i=n(135);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(134),i=n(52),o=n(21),a=n(2),s=n(20),u=n(66),c=n(5),l=c("iterator"),d=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),v=0;v<h.length;v++){var m,g=h[v],y=p[g],b=a[g],w=b&&b.prototype;if(w&&(w[l]||s(w,l,f),w[d]||s(w,d,g),u[g]=f,y))for(m in r)w[m]||o(w,m,r[m],!0)}},function(e,t,n){n(430),e.exports=n(33).RegExp.escape},function(e,t,n){var r=n(0),i=n(431)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";var r=O(n(23)),i=O(n(27)),o=O(n(15)),a=O(n(11)),s=O(n(84)),u=O(n(156)),c=O(n(13)),l=n(6),d=O(n(85)),f=O(n(157)),p=n(71),h=n(482),v=O(n(493)),m=O(n(225));n(226);var g=n(498),y=n(501),b=O(n(227)),w=n(112),_=O(n(506)),S=O(n(86)),x=n(507),E=O(n(511)),M=O(n(228)),A=O(n(512)),k=O(n(513)),T=O(n(515)),C=n(63),I=O(n(220));function O(e){return e&&e.__esModule?e:{default:e}}console.time("ready"),A.default.setup(),global.app=l.app,l.crashReporter.start({productName:"XMind Zen",companyName:"XMind Ltd.",submitURL:"https://www.xmind.net/_api/vana-error-report",uploadToServer:!0}),function(){var e=function(e,t){var n=a.default.resolve(a.default.dirname(process.execPath),"..","Update.exe");s.default.spawn(n,e,{detached:!0}).on("close",t)};if("win32"===process.platform){var t=process.argv[1],n=a.default.basename(process.execPath);if("--squirrel-install"===t||"--squirrel-updated"===t)return e(["--createShortcut="+n],l.app.quit),!0;if("--squirrel-uninstall"===t)return e(["--removeShortcut="+n],l.app.quit),!0;if("--squirrel-obsolete"===t)return l.app.quit(),!0}return!1}()&&l.app.quit();var P={};P=n(516),l.app.pkgInfo=P,d.default.configure({sessionInfo:{version:P.version,buildNumber:P.buildNumber,vendor:(P.vendor||{}).name||"cathy",distrib:"vana_linux_64"},logFilePathPrefix:a.default.join(m.default.log,"app"),isDebugging:"true"===process.env.XMIND_DEV_MODE||P.version.indexOf("-alpha")>=0||P.version.indexOf("-beta")>=0?function(){return!0}:p.isDebugging});var N=d.default.logger("main");l.app.workspace=m.default,l.app.rootLogger=d.default,l.app.eventManager=S.default,l.app.vud=w.vud,l.app.tvud=w.tvud,"vana_linux_64".startsWith("vana")&&"linux"!==process.platform&&(l.app.autoUpdater=n(517).default),l.app.lifecycle=E.default,l.app.throwError=function(){setTimeout(function(e){throw Error("Throw error manually.")},0)};var L={"update-not-available":{handle:function(){l.dialog.showMessageBoxOnTop({type:"info",title:"Updating XMind",message:l.app.localizer.localize("You're up-to-date!"),detail:l.app.localizer.localize("XMind is currently the newest version."),buttons:[l.app.localizer.localize("OK")]})}},"has-new-version":{handle:function(e){l.app.modal.showModal("checkforupdate",e.latest)}},"update-downloaded":{handle:function(){setTimeout(function(){1===l.dialog.showMessageBoxOnTop({type:"info",title:"Updating XMind",message:l.app.localizer.localize("Ready to Install"),detail:l.app.localizer.localize("The update is ready to install. Restart the software now to finish the update."),buttons:[l.app.localizer.localize("Cancel"),l.app.localizer.localize("Install and Relaunch")]})&&l.app.autoUpdater.quitAndInstall()},8e3)}}},F=function(e){L.hasOwnProperty(e)&&l.app.eventManager.on("checkForUpdate","autoupdate:"+e,function(t){t&&t.info?L[e].handle(t.info):L[e].handle()})};for(var D in L)F(D);E.default.startup(),l.app.activateService=new k.default({vud:w.vud,superagent:n(161),app:l.app,tvud:w.tvud,logger:d.default.logger("activate")}),l.app.commandService=new h.CommandService,l.app.keyBindings=new y.KeyBindings(N,l.app),l.app.mainMenu=new g.VanaMenu,l.app.errorHandler=new p.SimpleErrorHandler(N),l.app.localizer=new v.default(a.default.join(l.app.workspace.appRoot,"locales")),l.app.fontService=M.default,l.app.notification=_.default,l.app.tracker=f.default,(0,x.initPreferences)(l.app,w.vud),process.on("uncaughtException",function(e){e&&l.app.errorHandler.handle(e)}),process.on("unhandledRejection",function(e){e&&l.app.errorHandler.handle(e)});for(var R=function(e){l.app.on(e,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];l.BrowserWindow.broadcast.apply(l.BrowserWindow,[e].concat(n))})},U=[w.ET_CHANGE_VUD,w.ET_CHANGE_TVUD],W=0;W<U.length;W++){R(U[W])}l.app.commandService.registerCommands(b.default),l.app.keyBindings.activate(),l.app.on("change:vud",function(e){"preferences"===e.moduleName&&"general.locale"===e.key&&l.app.localizer.updateLocale({locales:[l.app.vud.getModule("preferences").get("general.locale")]})});var B=!1;function j(){console.timeEnd("ready"),l.app.clearRecentDocuments(),l.app.mainMenu.activate(),l.app.tracker.start(l.app),f.default.startApplication(),f.default.setAppVersion(P.version);var e=l.screen.getPrimaryDisplay().bounds;if(f.default.setDeviceResolution(e.width,e.height),o.default.all([(0,T.default)().then(function(e){N.info("machineUUID is :",e),l.app.machine_id=e,f.default.setVisitorId(e)}),o.default.all([I.default.baseboard(),I.default.system()]).then(function(e){var t=e[0],n=e[1];l.app.hwFingerprint=function(e,t){var n=void 0,r=void 0;t.manufacturer.toLowerCase().includes("apple")?(n=t.manufacturer,r=t.serial):(n=e.manufacturer,r=e.serial);var i=u.default.createHash("sha256");return i.update(n+": "+r),i.digest("hex").toUpperCase()}(t,n),"undefined".includes("license")&&(l.app.hwFingerprint="0D8514BC454EF576EBDD4675E0991CF5D54117AB14F9861A3E956C2F40733DFE")}).catch(function(e){d.default.error("error occurs in get system information",e)})]).then(function(){l.app.activateService.startupCheck(),l.app.notification.start()}),E.default.checkWelcome()){N.debug("Application start up, lifecycle state is ",E.default.state),l.app.errorHandler.dialog=l.dialog;var t=l.app.lifecycle.startupFilesToOpen||[],n=!1,r=l.app.workspace.workbooks;if(c.default.existsSync(r)){var s=function(e){var t=a.default.join(r,e),i=a.default.join(t,".memento.json");c.default.existsSync(i)?c.default.readJsonAsync(i).then(function(e){if(n=!0,e.source.startsWith("cloud:")){var t=l.app.vud.getModule("account").get("authorization"),r=l.app.vud.getModule("preferences").get("enableSeawind");if(!t||!r)return}N.debug("Recover: ",e.source),l.BrowserWindow.openMindMapEditor({source:e.source,mementoId:e.docId})}).catch(function(e){N.warn("fail to read mementoJSON,",e),c.default.removeAsync(t).catch(function(e){N.warn("fail to remove workbook path",e)})}):(N.warn("mementoJSON '"+i+"' dosen't exist, try to remove temp workbook path"),c.default.removeAsync(t).catch(function(e){N.warn("fail to remove workbook path",e)}))},p=c.default.readdirSync(r),h=Array.isArray(p),v=0;for(p=h?p:(0,i.default)(p);;){var m;if(h){if(v>=p.length)break;m=p[v++]}else{if((v=p.next()).done)break;m=v.value}s(m)}}if(t.length>0){var g=[],y=t,b=Array.isArray(y),w=0;for(y=b?y:(0,i.default)(y);;){var _;if(b){if(w>=y.length)break;_=y[w++]}else{if((w=y.next()).done)break;_=w.value}var S=_;g.includes(S)||(n=!0,N.debug("Startup to open file:",S),l.BrowserWindow.openMindMapEditor({source:(0,C.filePathToUrl)(S)}),g.push(S))}}t=[],n||(N.debug("Startup to open home"),l.BrowserWindow.openNew())}else l.BrowserWindow.openWelcome()}E.default.onReady(function(){B&&j()}),o.default.all([new o.default(function(e){e(l.app.vud.getModule("preferences"))}).then(function(e){return l.app.localizer.updateLocale({locales:["en-US",l.app.getLocale(),e["general.locale"]],logger:d.default.logger("nls")})})]).then(function(){(B=!0)&&E.default.isReady()&&j()}),(0,r.default)(l.dialog,{showMessageBox2:function(e,t){l.app.commandService.deactivateDelegate(e.commandService);var n=l.dialog.showMessageBox(e,t);return l.app.commandService.activateDelegate(e.commandService),n},showMessageBoxOnTop:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof l.BrowserWindow)return e.setAlwaysOnTop(!0),l.dialog.showMessageBox(e,t);if("darwin"===process.platform)return l.dialog.showMessageBox(e);var n=new l.BrowserWindow({width:0,height:0,show:!1,alwaysOnTop:!0,webPreferences:{nodeIntegration:!1,devTools:!1}});return l.dialog.showMessageBox(n,e)}})},function(e,t,n){n(434),e.exports=n(12).Object.assign},function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(435)})},function(e,t,n){"use strict";var r=n(77),i=n(149),o=n(104),a=n(105),s=n(142),u=Object.assign;e.exports=!u||n(61)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,d=o.f;u>c;)for(var f,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,m=0;v>m;)d.call(p,f=h[m++])&&(n[f]=p[f]);return n}:u},function(e,t,n){var r=n(68),i=n(144),o=n(437);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(145),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){n(79),n(82),e.exports=n(445)},function(e,t,n){"use strict";var r=n(440),i=n(203),o=n(80),a=n(68);e.exports=n(150)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(151),i=n(102),o=n(81),a={};n(48)(a,n(18)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(39),i=n(43),o=n(77);e.exports=n(40)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(62),i=n(105),o=n(146)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(145),i=n(143);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(43),i=n(206);e.exports=n(12).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(107),n(82),n(79),n(447),n(453),n(454),e.exports=n(12).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(106),u=n(17),c=n(60),l=n(152),d=n(16),f=n(32),p=n(76),h=n(153),v=n(83),m=n(207),g=n(208).set,y=n(451)(),b=n(154),w=n(209),_=n(210),S=u.TypeError,x=u.process,E=u.Promise,M="process"==l(x),A=function(){},k=i=b.f,T=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[n(18)("species")]=function(e){e(A,A)};return(M||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t}catch(e){}}(),C=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&N(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(S("Promise-chain cycle")):(o=C(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){g.call(u,function(){var t,n,r,i=e._v,o=P(e);if(o&&(t=w(function(){M?x.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=M||P(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){g.call(u,function(){var t;M?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=C(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};T||(E=function(e){h(this,E,"Promise","_h"),p(e),r.call(this);try{e(c(F,this,1),c(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(155)(E.prototype,{then:function(e,t){var n=k(m(this,E));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=M?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(L,e,1)},b.f=k=function(e){return e===E||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!T,{Promise:E}),n(81)(E,"Promise"),n(211)("Promise"),a=n(12).Promise,d(d.S+d.F*!T,"Promise",{reject:function(e){var t=k(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!T),"Promise",{resolve:function(e){return _(s&&this===a?E:this,e)}}),d(d.S+d.F*!(T&&n(452)(function(e){E.all(e).catch(A)})),"Promise",{all:function(e){var t=this,n=k(t),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=k(t),r=n.reject,i=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(43);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(80),i=n(18)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(17),i=n(208).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(78)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve();n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var d=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(18)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(16),i=n(12),o=n(17),a=n(207),s=n(210);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(16),i=n(154),o=n(209);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t){e.exports=require("util")},function(e,t,n){n(107),n(82),n(79),n(457),n(461),n(463),n(464),e.exports=n(12).Set},function(e,t,n){"use strict";var r=n(213),i=n(159);e.exports=n(214)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(60),i=n(142),o=n(105),a=n(144),s=n(459);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var v,m,g=o(t),y=i(g),b=r(s,h,3),w=a(y.length),_=0,S=n?p(t,w):u?p(t,0):void 0;w>_;_++)if((f||_ in y)&&(m=b(v=y[_],_,g),e))if(n)S[_]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:S.push(v)}else if(l)return!1;return d?-1:c||l?l:S}}},function(e,t,n){var r=n(460);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(32),i=n(215),o=n(18)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(16);r(r.P+r.R,"Set",{toJSON:n(216)("Set")})},function(e,t,n){var r=n(83);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(217)("Set")},function(e,t,n){n(218)("Set")},function(e,t,n){n(466),e.exports=n(12).Object.keys},function(e,t,n){var r=n(105),i=n(77);n(467)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(16),i=n(12),o=n(61);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(12),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(200),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t,n){n(471),e.exports=n(12).Number.isInteger},function(e,t,n){var r=n(16);r(r.S,"Number",{isInteger:n(472)})},function(e,t,n){var r=n(32),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){n(107),n(82),n(79),n(474),n(475),n(476),n(477),e.exports=n(12).Map},function(e,t,n){"use strict";var r=n(213),i=n(159);e.exports=n(214)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(16);r(r.P+r.R,"Map",{toJSON:n(216)("Map")})},function(e,t,n){n(217)("Map")},function(e,t,n){n(218)("Map")},function(e,t,n){"use strict";var r=o(n(28)),i=o(n(15));function o(e){return e&&e.__esModule?e:{default:e}}var a=n(84).exec,s=n(221),u=n(222),c=process.platform,l="linux"===c,d="darwin"===c,f="win32"===c,p="freebsd"===c,h="openbsd"===c,v="sunos"===c,m="aix"===c,g={windowsHide:!0};t.system=function(e){if(e&&"function"==typeof e)throw new Error("not support callback now, use Promise instead");return new i.default(function(e,t){process.nextTick(function(){var n={manufacturer:"",model:"Computer",version:"",serial:"-",uuid:"-",sku:"-"};if((l||p||h)&&a("dmidecode -t system",function(r,i){if(r)return t(r);if(!r){var o=i.toString().split("\n");n.manufacturer=u.getValue(o,"manufacturer"),n.model=u.getValue(o,"product name"),n.version=u.getValue(o,"version"),n.serial=u.getValue(o,"serial number"),n.uuid=u.getValue(o,"uuid"),n.sku=u.getValue(o,"sku number"),-1!==n.serial.toLowerCase().indexOf("o.e.m.")&&(n.serial="-"),-1!==n.manufacturer.toLowerCase().indexOf("o.e.m.")&&(n.manufacturer=""),-1!==n.model.toLowerCase().indexOf("o.e.m.")&&(n.model="Computer"),-1!==n.version.toLowerCase().indexOf("o.e.m.")&&(n.version="-"),-1!==n.sku.toLowerCase().indexOf("o.e.m.")&&(n.sku="-")}(s.existsSync("/.dockerenv")||s.existsSync("/.dockerinit"))&&(n.model="Docker Container"),e(n)}),d&&a("ioreg -c IOPlatformExpertDevice -d 2",function(r,i){if(r)return t(r);var o=i.toString().replace(/[<>"]/g,"").split("\n");n.manufacturer=u.getValue(o,"manufacturer","=",!0),n.model=u.getValue(o,"model","=",!0),n.version=u.getValue(o,"version","=",!0),n.serial=u.getValue(o,"ioplatformserialnumber","=",!0),n.uuid=u.getValue(o,"ioplatformuuid","=",!0),n.sku=u.getValue(o,"board-id","=",!0),e(n)}),v||m)return t("unsupported platform:"+v);if(f)try{a(u.getWmic()+" csproduct get /value",g,function(r,i){if(r)return t(r);var o=i.split("\r\n");n.manufacturer=u.getValue(o,"vendor","="),n.model=u.getValue(o,"name","="),n.version=u.getValue(o,"version","="),n.serial=u.getValue(o,"identifyingnumber","="),n.uuid=u.getValue(o,"uuid","="),a(u.getWmic()+" /namespace:\\\\root\\wmi path MS_SystemInformation get /value",g,function(t,r){if(!t){var i=r.split("\r\n");n.sku=u.getValue(i,"systemsku","=")}e(n)})})}catch(e){return t(e)}setTimeout(function(){return t("It's timeout to get system information,"+(0,r.default)(n))},6e4)})})},t.baseboard=function(e){if(e&&"function"==typeof e)throw new Error("not support callback now, use Promise instead");return new i.default(function(e,t){process.nextTick(function(){var n={manufacturer:"",model:"",version:"",serial:"-",assetTag:"-"},i="";if((l||p||h)&&(i="arm"===process.arch?"cat /proc/cpuinfo | grep Serial":"dmidecode -t 2",a(i,function(r,i){if(r)return t(r);var o=i.toString().split("\n");n.manufacturer=u.getValue(o,"Manufacturer"),n.model=u.getValue(o,"Product Name"),n.version=u.getValue(o,"Version"),n.serial=u.getValue(o,"Serial Number"),n.assetTag=u.getValue(o,"Asset Tag"),-1!==n.serial.toLowerCase().indexOf("o.e.m.")&&(n.serial="-"),-1!==n.assetTag.toLowerCase().indexOf("o.e.m.")&&(n.assetTag="-"),e(n)})),d&&a("ioreg -c IOPlatformExpertDevice -d 2",function(r,i){if(r)return t(r);var o=i.toString().replace(/[<>"]/g,"").split("\n");n.manufacturer=u.getValue(o,"manufacturer","=",!0),n.model=u.getValue(o,"model","=",!0),n.version=u.getValue(o,"version","=",!0),n.serial=u.getValue(o,"ioplatformserialnumber","=",!0),n.assetTag=u.getValue(o,"board-id","=",!0),e(n)}),v||m)return t("unsupported platform:"+v);if(f)try{a(u.getWmic()+" baseboard get /value",g,function(r,i){if(r)return t(r);var o=i.toString().split("\r\n");n.manufacturer=u.getValue(o,"manufacturer","="),n.model=u.getValue(o,"model","="),n.model||(n.model=u.getValue(o,"product","=")),n.version=u.getValue(o,"version","="),n.serial=u.getValue(o,"serialnumber","="),n.assetTag=u.getValue(o,"partnumber","="),n.assetTag||(n.assetTag=u.getValue(o,"sku","=")),e(n)})}catch(e){return t(e)}setTimeout(function(){return t("It's timeout to get system information,"+(0,r.default)(n))},6e4)})})}},function(e,t,n){"use strict";var r,i=n(15),o=(r=i)&&r.__esModule?r:{default:r};var a=n(69),s=n(84).exec,u=n(222),c=process.platform,l="linux"===c,d="darwin"===c,f="win32"===c,p="freebsd"===c,h="openbsd"===c,v="sunos"===c,m={windowsHide:!0};function g(e){e=(e=e||"").toLowerCase();var t=c;return f?t="windows":-1!==e.indexOf("mac os")?t="apple":-1!==e.indexOf("arch")?t="arch":-1!==e.indexOf("centos")?t="centos":-1!==e.indexOf("coreos")?t="coreos":-1!==e.indexOf("debian")?t="debian":-1!==e.indexOf("deepin")?t="deepin":-1!==e.indexOf("elementary")?t="elementary":-1!==e.indexOf("fedora")?t="fedora":-1!==e.indexOf("gentoo")?t="gentoo":-1!==e.indexOf("mageia")?t="mageia":-1!==e.indexOf("mandriva")?t="mandriva":-1!==e.indexOf("manjaro")?t="manjaro":-1!==e.indexOf("mint")?t="mint":-1!==e.indexOf("openbsd")?t="openbsd":-1!==e.indexOf("freebsd")?t="freebsd":-1!==e.indexOf("opensuse")?t="opensuse":-1!==e.indexOf("pclinuxos")?t="pclinuxos":-1!==e.indexOf("puppy")?t="puppy":-1!==e.indexOf("raspbian")?t="raspbian":-1!==e.indexOf("reactos")?t="reactos":-1!==e.indexOf("redhat")?t="redhat":-1!==e.indexOf("slackware")?t="slackware":-1!==e.indexOf("sugar")?t="sugar":-1!==e.indexOf("steam")?t="steam":-1!==e.indexOf("suse")?t="suse":-1!==e.indexOf("mate")?t="ubuntu-mate":-1!==e.indexOf("lubuntu")?t="lubuntu":-1!==e.indexOf("xubuntu")?t="xubuntu":-1!==e.indexOf("ubuntu")?t="ubuntu":-1!==e.indexOf("solaris")&&(t="solaris"),t}t.time=function(){var e=(new Date).toString().split(" ");return{current:Date.now(),uptime:a.uptime(),timezone:e.length>=7?e[5]:"",timezoneName:e.length>=7?e.slice(6).join(" ").replace(/\(/g,"").replace(/\)/g,""):""}},t.osInfo=function(e){return new o.default(function(t){process.nextTick(function(){var n={platform:"Windows_NT"===c?"Windows":c,distro:"unknown",release:"unknown",codename:"",kernel:a.release(),arch:a.arch(),hostname:a.hostname(),logofile:""};l&&s("cat /etc/*-release",function(r,i){var o={};i.toString().split("\n").forEach(function(e){-1!==e.indexOf("=")&&(o[e.split("=")[0].trim().toUpperCase()]=e.split("=")[1].trim())}),n.distro=(o.DISTRIB_ID||o.NAME||"unknown").replace(/"/g,""),n.logofile=g(n.distro),n.release=(o.DISTRIB_RELEASE||o.VERSION_ID||"unknown").replace(/"/g,""),n.codename=(o.DISTRIB_CODENAME||"").replace(/"/g,""),e&&e(n),t(n)}),(p||h)&&s("sysctl kern.ostype kern.osrelease kern.osrevision",function(r,i){if(!r){var o=i.toString().split("\n");n.distro=u.getValue(o,"kern.ostype"),n.logofile=g(n.distro),n.release=u.getValue(o,"kern.osrelease").split("-")[0],n.codename=""}e&&e(n),t(n)}),d&&s("sw_vers",function(r,i){i.toString().split("\n").forEach(function(e){-1!==e.indexOf("ProductName")&&(n.distro=e.split(":")[1].trim(),n.logofile=g(n.distro)),-1!==e.indexOf("ProductVersion")&&(n.release=e.split(":")[1].trim())}),e&&e(n),t(n)}),v&&(n.release=n.kernel,s("uname -o",function(r,i){var o=i.toString().split("\n");n.distro=o[0],n.logofile=g(n.distro),e&&e(n),t(n)})),f&&(n.logofile=g(),n.release=n.kernel,s(u.getWmic()+" os get Caption",m,function(r,i){n.distro=n.codename=i.slice(i.indexOf("\r\n")+2).trim(),e&&e(n),t(n)}))})})}},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("crypto-js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandService=void 0;var r=n(223);t.CommandService=r.CommandService},function(e,t,n){e.exports={default:n(484),__esModule:!0}},function(e,t,n){n(82),n(79),e.exports=n(162).f("iterator")},function(e,t,n){e.exports={default:n(486),__esModule:!0}},function(e,t,n){n(487),n(107),n(491),n(492),e.exports=n(12).Symbol},function(e,t,n){"use strict";var r=n(17),i=n(62),o=n(40),a=n(16),s=n(204),u=n(158).KEY,c=n(61),l=n(147),d=n(81),f=n(103),p=n(18),h=n(162),v=n(163),m=n(488),g=n(215),y=n(43),b=n(32),w=n(68),_=n(141),S=n(102),x=n(151),E=n(489),M=n(490),A=n(39),k=n(77),T=M.f,C=A.f,I=E.f,O=r.Symbol,P=r.JSON,N=P&&P.stringify,L=p("_hidden"),F=p("toPrimitive"),D={}.propertyIsEnumerable,R=l("symbol-registry"),U=l("symbols"),W=l("op-symbols"),B=Object.prototype,j="function"==typeof O,z=r.QObject,V=!z||!z.prototype||!z.prototype.findChild,H=o&&c(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(B,t);r&&delete B[t],C(e,t,n),r&&e!==B&&C(B,t,r)}:C,K=function(e){var t=U[e]=x(O.prototype);return t._k=e,t},q=j&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},G=function(e,t,n){return e===B&&G(W,t,n),y(e),t=_(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=x(n,{enumerable:S(0,!1)})):(i(e,L)||C(e,L,S(1,{})),e[L][t]=!0),H(e,t,n)):C(e,t,n)},J=function(e,t){y(e);for(var n,r=m(t=w(t)),i=0,o=r.length;o>i;)G(e,n=r[i++],t[n]);return e},Q=function(e){var t=D.call(this,e=_(e,!0));return!(this===B&&i(U,e)&&!i(W,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,L)&&this[L][e])||t)},X=function(e,t){if(e=w(e),t=_(t,!0),e!==B||!i(U,t)||i(W,t)){var n=T(e,t);return!n||!i(U,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},Y=function(e){for(var t,n=I(w(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==L||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===B,r=I(n?W:w(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(B,t)||o.push(U[t]);return o};j||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(W,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),H(this,e,S(1,n))};return o&&V&&H(B,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",function(){return this._k}),M.f=X,A.f=G,n(224).f=E.f=Y,n(104).f=Q,n(149).f=Z,o&&!n(106)&&s(B,"propertyIsEnumerable",Q,!0),h.f=function(e){return K(p(e))}),a(a.G+a.W+a.F*!j,{Symbol:O});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)p($[ee++]);for(var te=k(p.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!j,"Symbol",{for:function(e){return i(R,e+="")?R[e]:R[e]=O(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in R)if(R[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!j,"Object",{create:function(e,t){return void 0===t?x(e):J(x(e),t)},defineProperty:G,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),P&&a(a.S+a.F*(!j||c(function(){var e=O();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,N.apply(P,r)}}),O.prototype[F]||n(48)(O.prototype,F,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(77),i=n(149),o=n(104);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(68),i=n(224).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(104),i=n(102),o=n(68),a=n(141),s=n(62),u=n(201),c=Object.getOwnPropertyDescriptor;t.f=n(40)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(163)("asyncIterator")},function(e,t,n){n(163)("observable")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(23)),i=p(n(28)),o=p(n(70)),a=p(n(109)),s=p(n(15)),u=p(n(11)),c=p(n(110)),l=p(n(13)),d=p(n(85)),f=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}var h="translation.json",v=d.default.logger("localize");t.default=class extends c.default{constructor(e){super(),this._defaultLocaleDir=e,this._translation=null;var t=f.default.remote?f.default.remote.app.__rootname:f.default.app.__rootname;this.__newTransFilePath=u.default.join(t,"locales","new_translations.json"),this.__new_translation=null,this.__haveMore=!1}localize(e){var t=void 0;if(!this._translation)return e;(t=e in this._translation?this._translation[e]:e)||(t=e);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0){var o=r.shift();if("object"===(void 0===t?"undefined":(0,a.default)(t))?t=o in t?t[o]:e:r.unshift(o),r.length>0)for(var s=0,u=r.length;s<u;s++){var c=new RegExp("\\$"+(s+1),"g");t=t.replace(c,r[s])}}return t}_dev_save_translation(e){(e||"string"==typeof e)&&(this.__new_translation||(this.__new_translation={},setInterval(this._dev_sync_translation.bind(this),1e3)),this.__new_translation[e]||(this.__haveMore=!0,this.__new_translation[e]=!0))}_dev_sync_translation(){var e=this;this.__haveMore&&(l.default.existsSync(this.__newTransFilePath)?l.default.readFile(this.__newTransFilePath,function(t,n){if(!t&&0!==n.length)try{var r=JSON.parse(n.toString());e._dev_mergeAndSync(r,e.__new_translation)}catch(e){return}}):this._dev_mergeAndSync({},this.__new_translation))}_dev_mergeAndSync(e,t){this.__haveMore=!1;var n={};(0,o.default)(e).concat((0,o.default)(t)).sort().forEach(function(e){n[e]=!0}),this.__new_translation=n,l.default.writeFile(this.__newTransFilePath,(0,i.default)(n,null,2)),console.log("Write file")}updateLocale(e){var t=this,n=e.locales,i=void 0===n?[]:n,o=e.searchPath,a=void 0===o?this._defaultLocaleDir:o;return this._translation={},new s.default(function(e,n){var o=[];i.forEach(function(e){if(e){var t=function(e){if(!e)return null;var t=e.indexOf("-");return t<0?e:e.substr(0,t)}(e);t&&o.push(t),e!==t&&o.push(e)}}),v.debug("Locales to load: %s",o),s.default.all(o.map(function(e,t){return new s.default(function(n){if(!t)return n({});var r=u.default.join(u.default.join(e,t),h);l.default.readFileAsync(r).then(JSON.parse).then(n).catch(function(){return n({})})})}.bind(t,a))).then(function(e){e.forEach(function(e){(0,r.default)(t._translation,e)})}).then(function(){var e=t._locale;t._locale=i.pop(),t.emit("change:locale",{oldvalue:e,newvalue:t._locale})}).then(e).catch(n)})}}},function(e,t){e.exports=require("deepmerge")},function(e,t){e.exports=require("is-plain-object")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(28)),i=s(n(23)),o=n(6),a=s(n(86));function s(e){return e&&e.__esModule?e:{default:e}}var u="darwin"===process.platform;function c(e){u?(e.hide(),e.removeAllListeners()):(e.getParentWindow().focus(),e.close())}t.default=class{constructor(e){e&&(e.modal=this,this.parent=e),this.modals={},this.sizeEnum={small:540,middle:640,large:740}}closeModal(e){var t=this.modals[e];t&&t.modal&&!t.modal.isDestroyed()&&t.modal.close()}register(e,t){this.modals[e]=(0,i.default)({width:540,height:237,static:!1},t)}registerMap(e){for(var t in e){var n=e[t];this.register(t,n)}return this}createGlobalModal(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.modals[e],r=o.BrowserWindow.createBrowserWindow({title:t,show:!1,width:n.width,height:n.height+(u||n.hiddenTitlebar?0:24),useContentSize:!0,backgroundColor:"#FAFAFB",frame:!(!1===n.frame),resizable:!1,alwaysOnTop:n.alwaysOnTop||!1});return this.modals[e].modal=r,r.on("closed",function(){!function(){if(!o.app.lifecycle.isBeforeQuit()){var e=o.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||o.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});(!e||e.length<1)&&"darwin"!=process.platform&&o.app.quit()}}()}),r}createModal(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.modals[e];return this.modals[e].modal=o.BrowserWindow.createBrowserWindow({title:t,parent:n.global?null:this.parent,modal:!n.global,show:!1,width:n.width,height:n.height+(u||n.hiddenTitlebar?0:24),useContentSize:!0,backgroundColor:"#FAFAFB",frame:u||!1===n.frame,resizable:!1}),u&&this.modals[e].modal.loadURL(this.modals[e].path),this.modals[e].modal}showModal(e,t,n,i){"function"==typeof t&&(i=n,n=t,t=null),i||(i=n,n=null);var o=this.modals[e];if(o)if(o.global)this.showGlobalModal(e,t,n,i);else{var s=void 0;u?(s=o.modal)||(s=this.createModal(e,t&&t.title?t.title:"")):s=this.createModal(e),s.setMenu(null),s.__initdata=(0,r.default)(t);var l={update:function(e){a.default.emitC(s.id,"update:model",(0,r.default)(e))},done:function(){c(s)}};s.webContents.once("dom-ready",function(){a.default.on(s.id,"modal:submit",function(e){i?i(l,JSON.parse(e)):c(s)}),n&&n(l,{type:"start"})}),u?s.reload():s.loadURL(o.path)}else i&&i(new Error("the "+e+" has not register!"))}showGlobalModal(e,t,n,i){var o=this.modals[e];if(o.modal&&!o.modal.isDestroyed())return o.modal.show();var s=void 0;(s=this.createGlobalModal(e,t&&t.title?t.title:"")).setMenu(null),s.__initdata=(0,r.default)(t);var u={update:function(e){a.default.emitC(s.id,"update:model",(0,r.default)(e))},done:function(){s.close(),o.modal=null}};s.webContents.once("dom-ready",function(){a.default.on(s.id,"modal:submit",function(e){i?i(u,JSON.parse(e)):(s.close(),o.modal=null)}),n&&n(u,{type:"start"})}),s.loadURL(o.path)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11),o=(r=i)&&r.__esModule?r:{default:r},a=n(6);var s="vana_linux_64".includes("linux"),u="vana_linux_64".includes("mas");t.default={app:{signin:{height:400,width:640,global:!0,static:!0,hiddenTitlebar:!0,frame:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-signin.html")},activatealert:{height:400,width:640,global:!0,hiddenTitlebar:!0,frame:!1,alwaysOnTop:!0,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-activateAlert.html")},activate:{height:s?606:u?646:666,width:814,global:!0,hiddenTitlebar:!0,frame:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-activate.html")},congratulate:{height:400,width:640,global:!0,hiddenTitlebar:!0,frame:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-congratulate.html")},checkforupdate:{height:430,width:640,global:!0,frame:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-checkforupdate.html")},enterLicense:{height:400,width:640,global:!0,static:!0,hiddenTitlebar:!0,frame:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-license.html")}},MindMapEditor:{share:{height:417,width:640,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-share.html")},saveEvernote:{height:256,width:540,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-evernote.html")},print:{height:477,width:740,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-print.html")},setpassword:{width:540,height:237,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-setpassword.html")},error:{width:540,height:237,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-err.html")},enterpassword:{width:540,height:237,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-enterpassword.html")},copylink:{width:540,height:210,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-copylinkToShare.html")},saveoldversion:{width:540,height:210,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-saveoldversion.html")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VanaMenu=void 0;var r=c(n(109)),i=n(6),o=c(n(499)),a=n(71),s=c(n(500)),u=c(n(87));function c(e){return e&&e.__esModule?e:{default:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(function(e,t){return e[t]=!0,e},{});return function e(n){if("object"!==(void 0===n?"undefined":(0,r.default)(n)))throw new Error("something wrong, param is ",n);if(Array.isArray(n))return n.slice().map(function(t){return"object"===(void 0===t?"undefined":(0,r.default)(t))?e(t):t});var i={};for(var o in n)if(!t[o]){var a=n[o];i[o]="object"!==(void 0===a?"undefined":(0,r.default)(a))?a:e(a)}return i}(e)}t.VanaMenu=class{constructor(){this._active=!1,this._menuUpdater=new a.RunOnceScheduler(this._doUpdateMenu.bind(this),10),this._updateMenuListener=this.updateMenu.bind(this)}activate(){this._active=!0,this._commandService=i.app.commandService,this._commandService&&this._commandService.on("update",this._updateMenuListener),i.app.keyBindings.on("update",this._updateMenuListener),i.app.localizer&&i.app.localizer.on("change:locale",this._updateMenuListener),this._updateMenu()}deactivate(){this._active=!1,this._commandService&&(this._commandService.removeListener("update",this._updateMenuListener),this._commandService=null),i.app.keyBindings.removeListener("update",this._updateMenuListener),i.app.localizer&&i.app.localizer.removeListener("change:locale",this._updateMenuListener)}updateMenu(){this._menuUpdater.schedule()}getWindowsMenuTemplate(){return this._winMenuTemplate}_doUpdateMenu(){this._active&&this._updateMenu()}_updateMenu(){var e=(0,s.default)({pkg:u.default,commandService:this._commandService,keyBindings:i.app.keyBindings,localizer:i.app.localizer,vud:i.app.vud});if(i.Menu.setApplicationMenu(i.Menu.buildFromTemplate(l(e,["commandId","literal","documentRole","args"]))),"darwin"!==process.platform&&(this._winMenuTemplate=l(e,["click"])),"darwin"===process.platform&&!this._appMenuInstalled){var t=new i.Menu;this._fillDockMenu(t),i.app.dock.setMenu(t),this._appMenuInstalled=!0}}_fillDockMenu(e){e.append(this._commandItem("new",{mnemonic:"N"}))}popMenu(e,t){var n=new i.Menu;switch(e){case"file":this._fillFileMenu(n);break;case"edit":this._fillEditMenu(n);break;case"help":this._fillHelpMenu(n);break;case"insert":this._fillInsertMenu(n);break;case"view":this._fillViewMenu(n)}n.popup(i.BrowserWindow.getFocusedWindow(),t.x,t.y)}_label(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.args,r=void 0===n?[]:n,a=t.interactive,s=void 0!==a&&a;return e=i.app.localizer.localize(e).toString(),r.length>0&&(e=o.default.apply(void 0,[e].concat(r))),s&&(e+="..."),e}_commandItem(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return this._commandService&&(!n._commandService.findCommand(e).handler&&t.documentRole?(i.app.keyBindings.documentAcceleratorCommands.add(e),t.role=t.documentRole):(t.click=t.click||function(){n._commandService&&n._commandService.handleCommand(e,t.arg)},t.enabled=!t.forceDisable&&this._commandService.canHandle(e)&&"enabled"===this._commandService.getCommandState(e)&&i.app.lifecycle.state>=3),t.label=t.label||this._commandService.getLabelForCommand(e),t.accelerator=t.accelerator||i.app.keyBindings.getKeyBinding(e),t.interactive=t.interactive||this._commandService.isCommandInteractive(e)),t.label=t.literal?t.label:this._label(t.label,t),new i.MenuItem(t)}}},function(e,t){e.exports=require("string-format")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(27)),i=s(n(23));t.default=function(e){var t=e.pkg,n=e.localizer,s=e.keyBindings,u=e.commandService,c=e.vud,l={"---":{type:"separator"},hide:{role:"hide",label:"Hide "+t.productName},hideOthers:{role:"hideothers",label:"Hide Others"},showAll:{role:"unhide",label:"Show All"},quit:{role:"quit",label:"Quit "+t.productName},openRecent:{label:"Open Recent",submenu:function(){for(var e=(d=void 0,d=c.getModule("home").get("recentOpened"),d?"string"==typeof d?JSON.parse(d):d:[]),t=[],n=e.slice(0,10),i=Array.isArray(n),o=0,n=i?n:(0,r.default)(n);;){var s;if(i){if(o>=n.length)break;s=n[o++]}else{if((o=n.next()).done)break;s=o.value}var u=s,l=(0,a.getLocalFileNameFromUri)(u.uri);l&&t.push({label:l,literal:!0,commandId:"openrecentfileitem",args:[u.uri]})}var d;e&&e.length&&t.push("---");return t.push("cleanRecent"),t}()},import:{label:"Import From",submenu:["workbench.importMindmanager","workbench.importFreemind","workbench.importLighten","workbench.importMindNode","workbench.importMarkdown"]},export:{label:"Export To",submenu:["workbench.exportPng1","workbench.exportPdfMap","workbench.exportMd","workbench.exportWord","workbench.exportExcel"]},closeWindow:{role:"close",label:"Close Window",commandId:"closeWindow"},undo:{commandId:"undo",documentRole:"undo"},redo:{commandId:"redo",documentRole:"redo"},cut:{commandId:"cut",documentRole:"cut"},copy:{commandId:"copy",documentRole:"copy"},paste:{commandId:"paste",documentRole:"paste"},delete:{commandId:"delete",documentRole:"delete"},selectAll:{commandId:"editor.selectAll",documentRole:"selectall"},alignFloatingTopic:{label:"Align Floating Topic",submenu:[{label:"Left",commandId:"editor.align",args:["left"]},{label:"Center",commandId:"editor.align",args:["center"]},{label:"Right",commandId:"editor.align",args:["right"]},"---",{label:"Top",commandId:"editor.align",args:["top"]},{label:"Middle",commandId:"editor.align",args:["middle"]},{label:"Bottom",commandId:"editor.align",args:["bottom"]}]},toolbar:{label:"Toolbar",submenu:["workbench.iconOnly","workbench.iconAndText"]},minimize:{role:"minimize",label:"Minimize"},sysZoom:{role:"zoom",label:"Zoom"},front:{role:"front",label:"Bring All to Front"},devtools:{role:"toggledevtools",literal:!0,commandId:"toggleDevTools"},signIn:{commandId:"signIn",hiddenOnDisabled:!0},signOut:{commandId:"signOut",hiddenOnDisabled:!0},profile:{label:function(){var e=c.getModule("account"),t=e.get("user");t&&t.startsWith("_xmind_")&&(t=e.get("primary_email"));return t}(),literal:!0,commandId:"workbench.profile",hiddenOnDisabled:!0},licenseInfo:{commandId:"licenseInfo",hiddenOnDisabled:!0},enterLicense:{commandId:"enterLicense",hiddenOnDisabled:!0},subscriptionInfo:{commandId:"subscriptionInfo",hiddenOnDisabled:!0},activate:{commandId:"activate",hiddenOnDisabled:!0}},d=[{submenu:["about","activate","subscriptionInfo","enterLicense","licenseInfo","---","checkForUpdates","---","preferences","---","hide","hideOthers","showAll","---","quit"]},{label:"File",submenu:["new","open","openRecent","---","save","saveAs","---","workbench.setpassword","---","import","export","---","print","---","closeWindow"]},{label:"Edit",submenu:["undo","redo","---","cut","copy","paste","duplicate","delete","---","editor.copyStyle","editor.pasteStyle","editor.resetStyle","---","editor.focusAndSelectCenter","selectAll","---","editor.toggleBranch","---","alignFloatingTopic","---","workbench.toggleFindAndReplace","workbench.toggleOutline","---"]},{label:"Insert",submenu:["editor.addSubTopic","editor.addTopic","editor.addTopicBefore","editor.addParentTopic","editor.preAddFloatingTopic","editor.addCallout","---","editor.addRelationship","editor.addBoundary","editor.addSummary","---","editor.showNotesEditor","editor.showLabelEditor","editor.showHyperlinkEditor","editor.addAttachment","editor.addAudio","---","workbench.toggleMarkerPanel","editor.addLocalImage","workbench.showSticker","---","editor.addSheet","editor.newSheetFromTopic"]},{label:"View",submenu:["editor.zoomIn","editor.zoomOut","editor.resetZoom","editor.fitMap","---","workbench.toggleZenMode","---","workbench.toggleFormatPanel","workbench.toggleImagePanel","---","workbench.toggleNavigationPanel","---","toolbar","---","editor.toggleSheetBar","editor.toggleMiniMap"]},{label:"Window",role:"window",submenu:["minimize","sysZoom","---","front"]},{label:"Help",role:"help",submenu:[void 0,"---","profile","signIn","signOut","---","editor.support","workbench.feedback","---","editor.toggleKeyAssist","---","editor.toggleBeginnerMode","editor.toggleBeginnerModeTips"]}],f=[{label:"File",submenu:["new","open","openRecent","---","save","saveAs","---","workbench.setpassword","---","import","export","---","print","---","closeWindow","---","exit"]},{label:"Edit",submenu:["undo","redo","---","cut","copy","paste","duplicate","delete","---","editor.copyStyle","editor.pasteStyle","editor.resetStyle","---","editor.focusAndSelectCenter","selectAll","---","editor.toggleBranch","---","alignFloatingTopic","---","workbench.toggleFindAndReplace","workbench.toggleOutline","---","preferences"]},{label:"Insert",submenu:["editor.addSubTopic","editor.addTopic","editor.addTopicBefore","editor.addParentTopic","editor.preAddFloatingTopic","editor.addCallout","---","editor.addRelationship","editor.addBoundary","editor.addSummary","---","editor.showNotesEditor","editor.showLabelEditor","editor.showHyperlinkEditor","editor.addAttachment","editor.addAudio","---","workbench.toggleMarkerPanel","editor.addLocalImage","workbench.showSticker","---","editor.addSheet","editor.newSheetFromTopic"]},{label:"View",submenu:["editor.zoomIn","editor.zoomOut","editor.resetZoom","editor.fitMap","---","workbench.toggleZenMode","---","workbench.toggleFormatPanel","workbench.toggleImagePanel","---","workbench.toggleNavigationPanel","---","toolbar","---","editor.toggleSheetBar","editor.toggleMiniMap"]},{label:"Help",submenu:[void 0,"---","profile","signIn","signOut","---","editor.support","workbench.feedback","---","vana_linux_64".startsWith("vana")&&"linux"!==process.platform?"checkForUpdates":void 0,"---","editor.toggleKeyAssist","---","editor.toggleBeginnerMode","editor.toggleBeginnerModeTips","---","activate","subscriptionInfo","enterLicense","licenseInfo","about"]}];function p(e){return e.map(function(e){if("string"==typeof e){if(e in l)return h(l[e]);if(e in o.default)return{commandId:e};throw new Error("key ["+e+"] is not exist in menu option map and is not commandId")}if(e)return h(e)}).filter(function(e){return!!e})}function h(e){return(0,i.default)({},e,e.submenu&&{submenu:p(e.submenu)})}function v(e){return function e(t){var n=!1;return t.map(function(o,a){if(r(o=(0,i.default)({},o))){if(!n)return;var s=t[a+1];if(!s||r(s))return}return n=!0,o.submenu?(0,i.default)({},o,{submenu:e(o.submenu)}):o}).filter(function(e){return!!e});function r(e){return"---"===e||e&&"separator"===e.type}}(function e(t){return t.map(function(t){if((t=(0,i.default)({},t)).commandId){var r=t.commandId;if(u){var o=u.findCommand(r);if(!o)throw new Error("Menu Template is wrong, command Id:"+r+" is not found\n");if(!o.handler&&t.documentRole)t.role=t.documentRole;else{var a=t.args||[];t.click=t.click||function(){u&&u.handleCommand.apply(u,[r].concat(a))},t.enabled=void 0!==t.enabled?t.enabled:u.canHandle(r)&&"enabled"===u.getCommandState(r)}t.label=t.label||u.getLabelForCommand(r),t.accelerator=t.accelerator||s.getKeyBinding(r)}}if(!t.literal&&t.label&&(t.label=n.localize(t.label).toString()),t.commandId&&u.isCommandInteractive(t.commandId)&&(t.label=t.label+"..."),"submenu"in t&&(t.submenu=e(t.submenu)),!t.hiddenOnDisabled||t.enabled)return t}).filter(function(e){return!!e})}(p(e)))}return"darwin"===process.platform?v(d):v(f)};var o=s(n(227)),a=n(63);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyBindings=void 0;var r=l(n(27)),i=l(n(219)),o=l(n(212)),a=l(n(110)),s=l(n(11)),u=n(63),c=l(n(502));function l(e){return e&&e.__esModule?e:{default:e}}var d={Meta:32768,Ctrl:16384,Shift:8192,Alt:4096,Char:4095},f={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",188:",",190:".",186:";",219:"[",221:"]",192:"`",189:"-",187:"=",220:"\\",222:"'",191:"/",18:"Alt",20:"CapsLock",17:"Control",16:"Shift",13:"Enter",32:"Space",9:"Tab",8:"Backspace",46:"Delete",35:"End",36:"Home",45:"Insert",34:"PageDown",33:"PageUp",40:"Down",37:"Left",39:"Right",38:"Up",27:"Escape",44:"PrintScreen",145:"ScrollLock",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLock",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",107:"NumpadAdd",194:"NumpadComma",110:"NumpadDecimal",111:"NumpadDivide",12:"NumpadEqual",106:"NumpadMultiply",109:"NumpadSubtract"};t.KeyBindings=class extends a.default{constructor(e,t){super(),this.logger=e,this.app=t,this.commandMenuAcceleratorCommands=new o.default,this.documentAcceleratorCommands=new o.default,this.userKeyBindingCommands=new o.default,this.binaryKeyBindingsMap=new i.default}activate(){var e=c.default,t=Array.isArray(e),n=0;for(e=t?e:(0,r.default)(e);;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var o=i,a=o.command;process.platform in o?o[process.platform].accelerator&&this._internalBinding(o[process.platform].accelerator,a):o.accelerator&&this._internalBinding(o.accelerator,a)}this._loadUserKeyBinding(),this.emit("update")}_internalBinding(e,t){if(e){var n=this._toBinaryKeyBinding(e),r=this.binaryKeyBindingsMap.get(n);r&&r!=t&&this.logger?this.logger.error("KeyBinding conflicted ("+r+" VS "+t+")."):this.binaryKeyBindingsMap.set(n,t)}else this._internalUnbinding(e,t)}_internalUnbinding(e,t){if(e){var n=this._toBinaryKeyBinding(e);this.binaryKeyBindingsMap.delete(n)}else{var i=this.binaryKeyBindingsMap.keys(),o=Array.isArray(i),a=0;for(i=o?i:(0,r.default)(i);;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var u=s;this.binaryKeyBindingsMap.get(u)==t&&this.binaryKeyBindingsMap.delete(u)}}}binding(e,t){this.userKeyBindingCommands.add(t),this._internalBinding(e,t),this.emit("update")}unbinding(e,t){this.userKeyBindingCommands.add(t),this._internalUnbinding(e,t),this.emit("update")}getCommand(e){var t=this._toBinaryKeyBinding(e);return this.binaryKeyBindingsMap.get(t)}getKeyBinding(e){var t=this.binaryKeyBindingsMap.keys(),n=Array.isArray(t),i=0;for(t=n?t:(0,r.default)(t);;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var a=o;if(this.binaryKeyBindingsMap.get(a)==e)return this._toKeyBinding(a)}}generateKeyBinding(e,t){var n="darwin"==process.platform&&t.hasMeta?"Command+":"";return n+=t.hasCtrl?"Ctrl+":"",n+=t.hasShift?"Shift+":"",n+=t.hasAlt?"Alt+":"",n+=f[e]}_toKeyBinding(e){var t="darwin"==process.platform&&e&d.Meta?"Command+":"";return t+=e&d.Ctrl?"Ctrl+":"",t+=e&d.Shift?"Shift+":"",t+=e&d.Alt?"Alt+":"",t+=f[e&d.Char]}_toBinaryKeyBinding(e){var t=0,n=e.split("+"),i=Array.isArray(n),o=0;for(n=i?n:(0,r.default)(n);;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var s=a;switch(s){case"Command":case"Cmd":t|=d.Meta;break;case"Control":case"Ctrl":t|=d.Ctrl;break;case"CommandOrCtrl":case"CmdOrCtrl":"darwin"==process.platform?t|=d.Meta:t|=d.Ctrl;break;case"Shift":t|=d.Shift;break;case"Alt":case"Option":t|=d.Alt;break;case"AltGr":case"Super":break;default:for(var u in f)if(s==f[u]){t|=u;break}}}return t}updateUserKeyBinding(){this._loadUserKeyBinding(),this.emit("update")}_loadUserKeyBinding(){var e=this.app.workspace.vud;for(var t in this.userKeyBindings=(0,u.readJSON)(s.default.join(e,"accelerators.json"),{}),this.userKeyBindings){var n=this.userKeyBindings[t];this.userKeyBindingCommands.add(t);var r=this.getKeyBinding(t);r&&r!=n.accelerator&&(this._internalUnbinding(r,t),this.logger&&this.logger.debug("unbinding keyBindings:",t,r));var i=this.getCommand(n.accelerator);i&&i!=t&&(this._internalUnbinding(n.accelerator,i),this.logger&&this.logger.debug("unbinding keyBindings:",i,n.accelerator)),this._internalBinding(n.accelerator,t)}}registerUserKeyBindings(e){if(e){for(var t in e){var n=e[t];if("reset"===n.status){delete this.userKeyBindings[t],this._internalUnbinding(n.accelerator,t);var r=this.getDefaultKeyBinding(t);r&&"undefined"!==r&&this._internalBinding(r,t)}else delete e[t].status,this.userKeyBindings[t]=e[t]}var i=this.app.workspace.vud;(0,u.writeJSON)(s.default.join(i,"accelerators.json"),this.userKeyBindings),this.updateUserKeyBinding()}}getDefaultKeyBinding(e){var t=void 0,n=c.default,i=Array.isArray(n),o=0;for(n=i?n:(0,r.default)(n);;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var s=a;e===s.command&&(t=process.platform in s?s[process.platform].accelerator:s.accelerator)}t=t||"";var u=this._toBinaryKeyBinding(t);return this._toKeyBinding(u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"new",accelerator:"CmdOrCtrl+N"},{command:"open",accelerator:"CmdOrCtrl+O"},{command:"save",accelerator:"CmdOrCtrl+S"},{command:"saveAs",accelerator:"CmdOrCtrl+Shift+S"},{command:"undo",accelerator:"CmdOrCtrl+Z"},{command:"redo",accelerator:"CmdOrCtrl+Y",darwin:{accelerator:"Cmd+Shift+Z"}},{command:"cut",accelerator:"CmdOrCtrl+X"},{command:"copy",accelerator:"CmdOrCtrl+C"},{command:"paste",accelerator:"CmdOrCtrl+V"},{command:"duplicate",accelerator:"CmdOrCtrl+D"},{command:"delete",accelerator:"Delete"},{command:"delete",accelerator:"Backspace"},{command:"print",accelerator:"CmdOrCtrl+P"},{command:"preferences",accelerator:"CmdOrCtrl+Shift+P",darwin:{accelerator:"Cmd+,"}},{command:"workbench.toggleZenMode",accelerator:"CmdOrCtrl+Alt+F"},{command:"workbench.exitFullScreen",accelerator:"Escape"},{command:"toggleFullScreen",accelerator:"Ctrl+Cmd+F"},{command:"closeWindow",accelerator:"CmdOrCtrl+W"},{command:"workbench.openNew",accelerator:"CmdOrCtrl+Shift+H"},{command:"workbench.toggleFormatPanel",accelerator:"CmdOrCtrl+I"},{command:"workbench.toggelStatusBar"},{command:"workbench.toggleFindAndReplace",accelerator:"CmdOrCtrl+F"},{command:"editor.goToCentralTopic",accelerator:"CmdOrCtrl+Home"},{command:"editor.zoomIn",accelerator:"Shift+CmdOrCtrl+="},{command:"editor.zoomOut",accelerator:"CmdOrCtrl+-"},{command:"editor.resetZoom",accelerator:"CmdOrCtrl+0"},{command:"editor.zoomIn",accelerator:"CmdOrCtrl+="},{command:"editor.addSubTopic",accelerator:"Tab"},{command:"editor.addSubTopic",accelerator:"Insert"},{command:"editor.addTopic",accelerator:"Enter"},{command:"editor.addTopicBefore",accelerator:"Shift+Enter"},{command:"editor.addParentTopic",accelerator:"CmdOrCtrl+Enter"},{command:"editor.addBoundary",accelerator:"Shift+CmdOrCtrl+B"},{command:"editor.addRelationship",accelerator:"Shift+CmdOrCtrl+L"},{command:"editor.addSummary",accelerator:"Shift+CmdOrCtrl+]"},{command:"editor.copyStyle",accelerator:"CmdOrCtrl+Alt+C"},{command:"editor.pasteStyle",accelerator:"CmdOrCtrl+Alt+V"},{command:"editor.showNotesEditor",accelerator:"Shift+CmdOrCtrl+N"},{command:"editor.showHyperlinkEditor",accelerator:"CmdOrCtrl+K"},{command:"editor.selectionNavigateUp",accelerator:"Up"},{command:"editor.selectionNavigateDown",accelerator:"Down"},{command:"editor.selectionNavigateLeft",accelerator:"Left"},{command:"editor.selectionNavigateRight",accelerator:"Right"},{command:"editor.selectionNavigateUpWithShift",accelerator:"CmdOrCtrl+Up"},{command:"editor.selectionNavigateDownWithShift",accelerator:"CmdOrCtrl+Down"},{command:"editor.selectionNavigateLeftWithShift",accelerator:"CmdOrCtrl+Left"},{command:"editor.selectionNavigateRightWithShift",accelerator:"CmdOrCtrl+Right"},{command:"editor.exchangeSiblingTopicUp",accelerator:"Alt+Up"},{command:"editor.exchangeSiblingTopicDown",accelerator:"Alt+Down"},{command:"editor.exchangeSiblingTopicLeft",accelerator:"Alt+Left"},{command:"editor.exchangeSiblingTopicRight",accelerator:"Alt+Right"},{command:"editor.selectAll",accelerator:"CmdOrCtrl+A"},{command:"editor.addMarkerOne",accelerator:"CmdOrCtrl+1"},{command:"editor.addMarkerTwo",accelerator:"CmdOrCtrl+2"},{command:"editor.addMarkerThree",accelerator:"CmdOrCtrl+3"},{command:"editor.addMarkerFour",accelerator:"CmdOrCtrl+4"},{command:"editor.addMarkerFive",accelerator:"CmdOrCtrl+5"},{command:"editor.addMarkerSix",accelerator:"CmdOrCtrl+6"},{command:"editor.addMarkerSeven",accelerator:"CmdOrCtrl+7"},{command:"editor.toggleBranch",accelerator:"CmdOrCtrl+/"},{command:"editor.showEditBox",accelerator:"Space"}]},function(e,t,n){e.exports={default:n(504),__esModule:!0}},function(e,t,n){n(505);var r=n(12).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(40),"Object",{defineProperty:n(39).f})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(15)),i=b(n(44)),o=b(n(27)),a=b(n(70)),s=b(n(45)),u=b(n(11)),c=b(n(69)),l=b(n(72)),d=b(n(108)),f=n(6),p=b(n(13)),h=b(n(161)),v=n(111),m=b(n(85)),g=n(63),y=b(n(86));function b(e){return e&&e.__esModule?e:{default:e}}var w=m.default.logger("Notification"),_="https://www.xmind.net/_api/events",S="_code",x="events",E="firstStartTimestamp",M="startTimestamp1",A="startTimestamp2",k="startTimestamp3",T=50;t.default=new class{constructor(){this.promotionQueue=[],this.promotionStatus=!0,this.currentWinId=null,this.notificationReady=!1}start(){this.eventStorePath=u.default.join(f.app.workspace.net,"events.json"),this.startTimestampStorePath=u.default.join(f.app.workspace.net,"start_timestamps.json"),this.pkgStorePath=u.default.join(f.app.workspace.appRoot,"package.json"),this.eventStore=(0,g.readJSON)(this.eventStorePath),this.startTimestampStore=(0,g.readJSON)(this.startTimestampStorePath),this.pkgStore=(0,g.readJSON)(this.pkgStorePath),this._recordStartTimestamp(),this.getEvents(),this.setEvents()}promotionReady(e,t){var n=this;if(e&&t){var r=l.default.parse(t).query;"true"===d.default.parse(r).tutorial||(this.currentWinId=e,setTimeout(function(){n.pushPromotion()},1e3))}}promotionReset(){this.currentWinId=null,this.promotionStatus=!0}setEvents(){var e=this;y.default.on(v.CategoryTypes.NOTIFICATION,v.NotificationTypes.PROMOTION_COMPLETE_ONE,function(t){t.winid&&t.eventid&&e.promotionQueue.length>0&&t.eventid===e.promotionQueue[0].id&&(e.eventStore[t.eventid]=e.promotionQueue.shift(),e._saveEventStore(),e.currentWinId=t.winid,e.promotionStatus=!0,e.pushPromotion())})}pushPromotion(){var e=this;this.promotionStatus&&this.notificationReady&&(0!==this.promotionQueue.length?(this.promotionStatus=!1,setTimeout(function(){y.default.emitC(e.currentWinId,"promotion:show",{event:e.promotionQueue[0],winid:e.currentWinId})},5e3)):y.default.off(v.CategoryTypes.NOTIFICATION,v.NotificationTypes.PROMOTION_COMPLETE_ONE))}getEvents(){var e=this;return(0,s.default)(i.default.mark(function t(){var n,r,s,u,l,d,p,v,m,g,y;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.pkgStore&&(0,a.default)(e.pkgStore).length<1)){t.next=2;break}return t.abrupt("return",!1);case 2:return n="vana_linux_64",r=[e.pkgStore.version,e.pkgStore.buildNumber].join("."),s=c.default.arch(),u=f.app.preferences.get("language"),t.next=8,e.getActivationType();case 8:l=t.sent,d=(d=f.app.activateService.getPerMachineLicense())?d.key.slice(0,5):"",p=e.startTimestampStore[E],v=e.startTimestampStore[M],m=e.startTimestampStore[A],g=e.startTimestampStore[k],(y={p:n,v:r,ar:s,nl:u,ac:l,lic:d,ts0:p,ts1:v,ts2:m,ts3:g,os:c.default.platform(),version:e.pkgStore.version,buildid:r,arch:s,distrib:n,account_type:l,license_info:d})[E]=p,y[M]=v,y[A]=m,y[k]=g,h.default.get(_).query(y).end(function(t,n){if(t)w.error("events error: ",t,y);else{if(n&&n.body){if(200!==n.status||200!==n.body[S])return void w.error("Get events with wrong code:",n.status,n.body);var r=n.body[x],i=Array.isArray(r),a=0;for(r=i?r:(0,o.default)(r);;){var s;if(i){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var u=s;u.id&&e._isValid(u)&&"popup"===u.style&&e.promotionQueue.push(u)}}w.debug("promotion queue:",e.promotionQueue),e.notificationReady=!0}});case 22:case"end":return t.stop()}},t,e)}))()}getActivationType(){var e=this;return(0,s.default)(i.default.mark(function t(){var n,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=f.app.activateService.getAppActivateStatus())!==f.app.activateService.APP_STATUS.LIMITED){e.next=5;break}return e.abrupt("return","ee");case 5:if(n!==f.app.activateService.APP_STATUS.TRIAL){e.next=9;break}return e.abrupt("return","trial");case 9:if(f.app.activateService.getPerMachineLicenseStatus()!==f.app.activateService.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS){e.next=11;break}return e.abrupt("return","lic_zen");case 11:if(o=f.app.vud.getModule("account").get("uid")){e.next=17;break}return w.error("software should not run here",o,f.app.activateService.getPerMachineLicenseStatus()),e.abrupt("return","trial");case 17:return e.next=19,new r.default(function(e){f.app.activateService.getSubscription(function(t,n){if(t)e("sub_zen");else{var r=[];n.body.bundle&&"sub"===n.body.bundle.status&&r.push("sub_bundle"),n.body.ios&&"sub"===n.body.ios.status&&r.push("sub_ios"),n.body.zen&&"sub"===n.body.zen.status&&r.push("sub_zen"),e(r.join("|"))}})});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},t,e)}))()}_recordStartTimestamp(){this.startTimestampStore[E]||(this.startTimestampStore[E]=Date.now());var e=this.startTimestampStore[A],t=this.startTimestampStore[k];this.startTimestampStore[M]=e||Date.now(),this.startTimestampStore[A]=t||Date.now(),this.startTimestampStore[k]=Date.now(),this._saveStartTimestampStore()}_saveStartTimestampStore(){p.default.outputJsonSync(this.startTimestampStorePath,this.startTimestampStore)}_saveEventStore(){var e=this,t=(0,a.default)(this.eventStore),n=t.length-T;n>0&&t.slice(0,n).map(function(t){return delete e.eventStore[t]}),p.default.outputJsonSync(this.eventStorePath,this.eventStore)}_isValid(e){var t=l.default.parse(e.url);if(!t||!t.host||t.host.search(/xmind.(net|cn)$/)<0)return w.warn("wrong url from event id:",e.id),!1;var n=e.prompt;return"once"===n?!(e.id in this.eventStore):"never"!==n&&!!["startup","always","every12","every24"].includes(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=m(n(27)),o=m(n(44)),a=m(n(45)),s=m(n(28)),u=m(n(23)),c=(r=(0,a.default)(o.default.mark(function e(){var t,n,r,a,s,u,c,l,d,p,v,m,g,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={Default:{style:{fontFamily:""},text:"Default"}},e.next=3,h.default.getFontsWithCached();case 3:if(!(n=e.sent)){e.next=43;break}n=JSON.parse(n),r=[],a={},s=n,u=Array.isArray(s),c=0,s=u?s:(0,i.default)(s);case 9:if(!u){e.next=15;break}if(!(c>=s.length)){e.next=12;break}return e.abrupt("break",27);case 12:l=s[c++],e.next=19;break;case 15:if(!(c=s.next()).done){e.next=18;break}return e.abrupt("break",27);case 18:l=c.value;case 19:if((d=l)&&d.family&&d.family.startsWith&&!d.family.startsWith(".")){e.next=23;break}return d&&d.family&&!d.family.startsWith&&f.app.rootLogger.warn("unknow font.family:",d.family),e.abrupt("continue",25);case 23:a[d.family]={style:{fontFamily:d.family},text:d.family},r.push(d.family);case 25:e.next=9;break;case 27:r.sort(),p=r,v=Array.isArray(p),m=0,p=v?p:(0,i.default)(p);case 29:if(!v){e.next=35;break}if(!(m>=p.length)){e.next=32;break}return e.abrupt("break",43);case 32:g=p[m++],e.next=39;break;case 35:if(!(m=p.next()).done){e.next=38;break}return e.abrupt("break",43);case 38:g=m.value;case 39:t[y=g]=a[y];case 41:e.next=29;break;case 43:return e.abrupt("return",t);case 44:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)});t.initPreferences=function(e){var t=l.default.join(e.getPath("userData"),"vana/vud","preferences.json"),n=void 0;try{n=JSON.parse(d.default.readFileSync(t,"utf8"))}catch(e){n={}}var r=v.vud.getModule("preferences");for(var i in y)void 0===n[i]&&(n[i]=y[i]),null==r.get(i)&&r.set(i,y[i]);e.preferences=new S(n,r,t),e.on("ready",function(){var t={},n=M();g[n]||(n="en-US"),t.isSendUsageData=!0,e.preferences.get("lastLocale")!==n&&(t=(0,u.default)(t,{lastLocale:n,"general.locale":n,language:n})),v.vud.getModule("account").get("user")||("zh-CN"!==e.preferences.get("language")?v.vud.getModule("account").set("domain","net"):v.vud.getModule("account").set("domain","cn")),e.preferences.update(t)})};var l=m(n(11)),d=m(n(13)),f=n(6),p=m(n(508)),h=m(n(228)),v=n(112);function m(e){return e&&e.__esModule?e:{default:e}}var g={"en-US":"English","zh-CN":"简体中文","de-DE":"Deutsch","fr-FR":"Français","zh-TW":"繁體中文","ja-JP":"日本語"},y={"general.locale":M()||"en-US",zoomlevel:"100%",mapThemeChangeAction:"ASK_WHAT_TO_DO_EACH_TIME",exportWithWaterMask:"Yes",shareItem:["public link","private link","blog","email","evernote","biggerplate","facebook","twitter","pinterest"],maxUndo:20,enableSeawind:!0,autoSyncWorkbook:!0,CJKFont:"Default",lastLocale:M()},b={general:{language:{selection:g,selected:y["general.locale"]},zoom:{selection:{"50%":"50%","80%":"80%","100%":"100%","120%":"120%","150%":"150%","200%":"200%","300%":"300%"},selected:y.zoomlevel},mapThemeChangeAction:{selection:{OVERRIDE_CUSTOM_SETTINGS:"Override custom settings",KEEP_CUSTOM_SETTINGS:"Keep custom settings",ASK_WHAT_TO_DO_EACH_TIME:"Ask what to do each time"},selected:y.mapThemeChangeAction},exportWithwaterMaskOptions:{selection:{Yes:"Yes",No:"No"},selected:y.exportWithWaterMask},CJKFonts:{selection:c(),selected:y.CJKFont}},share:{selection:{"public link":{title:"public link",clickable:!1},"private link":{title:"private link",clickable:!1},blog:{title:"blog",clickable:!1},email:{title:"email",clickable:!0},evernote:{title:"evernote",clickable:!0},biggerplate:{title:"biggerplate",clickable:!0},facebook:{title:"facebook",clickable:!0},twitter:{title:"twitter",clickable:!0},pinterest:{title:"pinterest",clickable:!0}},selected:[].concat(y.shareItem)},advanced:{maxUndo:{selection:{10:10,20:20,50:50,100:100},selected:y.maxUndo}}};"vana_linux_64".includes("linux")&&(delete b.share.selection.evernote,y.shareItem.splice(y.shareItem.indexOf("evernote"),1));var w=["facebook","twitter","pinterest","public link","private link","blog"],_=["cn"];class S{constructor(e,t,n){this._settings=p.default.cloneDeep(b),this._language=e["general.locale"],this._zoomlevel=e.zoomlevel,this._mapThemeChangeAction=e.mapThemeChangeAction,this._exportWithWaterMask=e.exportWithWaterMask,this._shareItem=e.shareItem,this._maxUndo=e.maxUndo,this._enableSeawind=e.enableSeawind,this._autoSyncWorkbook=e.autoSyncWorkbook,this._blocks=w,this._lastLocale=e.lastLocale,this._cjkFont=e.CJKFont||"Default",this.path=n,this.pvud=t,this.keys={"general.locale":"_language",language:"_language",lastLocale:"_lastLocale",zoomlevel:"_zoomlevel",mapThemeChangeAction:"_mapThemeChangeAction",exportWithWaterMask:"_exportWithWaterMask",shareItem:"_shareItem",maxUndo:"_maxUndo",enableSeawind:"_enableSeawind",autoSyncWorkbook:"_autoSyncWorkbook",settings:"_settings",blocks:"_blocks",CJKFont:"_cjkFont"}}get(e){if("shareItem"===e){var t=v.vud.getModule("account").get("domain");if(t||(t="zh-CN"===this[this.keys.language]?"cn":"net"),_.indexOf(t)>-1)return x(this[this.keys[e]])}return this[this.keys[e]]}getSettings(){var e=p.default.cloneDeep(this._settings),t=v.vud.getModule("account").get("domain");return t||(t="zh-CN"===this[this.keys.language]?"cn":"net"),_.indexOf(t)>-1&&(e.share.selection=x(e.share.selection),e.share.selected=x(e.share.selected)),e}getAll(){return{"general.locale":this.get("general.locale"),language:this.get("language"),zoomlevel:this.get("zoomlevel"),mapThemeChangeAction:this.get("mapThemeChangeAction"),exportWithWaterMask:this.get("exportWithWaterMask"),shareItem:this.get("shareItem"),maxUndo:this.get("maxUndo"),enableSeawind:this.get("enableSeawind"),autoSyncWorkbook:this.get("autoSyncWorkbook"),CJKFont:this.get("CJKFont"),lastLocale:this.get("lastLocale")}}set(e,t){this[this.keys[e]]=t,this.pvud.set(e,t),d.default.writeFileSync(this.path,(0,s.default)(this.getAll()),"utf8")}update(e){var t=this[this.keys.language];for(var n in e)this[this.keys[n]]=e[n],this.pvud.set(n,e[n]);if(t!==this[this.keys.language]&&!v.vud.getModule("account").get("user")){var r="zh-CN"===this[this.keys.language]?"cn":"net";v.vud.getModule("account").set("domain",r)}d.default.ensureFileSync(this.path),d.default.writeFileSync(this.path,(0,s.default)(this.getAll()),"utf8")}loadFont(){var e=this;return(0,a.default)(o.default.mark(function t(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:return n=t.sent,e._settings.general.CJKFonts.selection=n,t.abrupt("return",e._settings.general.CJKFonts);case 5:case"end":return t.stop()}},t,e)}))()}}function x(e){if(Array.isArray(e))return e.filter(function(e){return-1===w.indexOf(e)});if("[object Object]"===toString.call(e)){var t={};for(var n in e)-1===w.indexOf(n)&&(t[n]=e[n]);return t}return e}f.app.on("change:vud",function(e){if("account"===e.moduleName&&f.app.preferences.update({shareItem:p.default.cloneDeep(y.shareItem)}),"deviceStatus"===e.moduleName&&"license"===e.key){var t=f.app.activateService.getLicense();(t&&"sub"!==t.status||!t)&&f.app.preferences.update({exportWithWaterMask:"Yes"})}});var E={zh:"zh-CN"};function M(){try{var e=f.app.getLocale();for(var t in E)if(t===e)return E[t];return e}catch(e){return f.app.rootLogger.info("[get locale error]",e),"en-US"}}},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("fontkit")},function(e,t){e.exports=require("iconv-lite")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});u(n(15)),u(n(70));var r=u(n(27)),i=n(6),o=u(n(13)),a=n(112),s=n(63);function u(e){return e&&e.__esModule?e:{default:e}}class c{constructor(){this.readyListeners=[]}startup(){"darwin"!==process.platform&&this.forceSingleInstance(),this.state=c.APP_STATE_STARTING,this.startupFilesToOpen=[],this.initAppListeners()}get state(){return a.tvud.getModule(c.TVUD_MODULE).get(c.MODULE_KEY_STATE)||c.APP_STATE_STARTING}set state(e){a.tvud.getModule(c.TVUD_MODULE).set(c.MODULE_KEY_STATE,e)}isReady(){return a.tvud.getModule(c.TVUD_MODULE).get(c.MODULE_KEY_STATE)==c.APP_STATE_READY}onReady(e){this.readyListeners.push(e)}isBeforeQuit(){return a.tvud.getModule(c.TVUD_MODULE).get(c.MODULE_KEY_STATE)==c.APP_STATE_BEFORE_QUIT}forceSingleInstance(){var e=this;i.app.makeSingleInstance(function(t,n){i.app.rootLogger.info("[Single Instance]",t,n);var a,u=t.filter(function(e){return o.default.existsSync(e)&&e.endsWith(".xmind")});if(e.state>=c.APP_STATE_READY)if(u&&u.length>0){var l=u,d=Array.isArray(l),f=0;for(l=d?l:(0,r.default)(l);;){var p;if(d){if(f>=l.length)break;p=l[f++]}else{if((f=l.next()).done)break;p=f.value}var h=p;i.BrowserWindow.openMindMapEditor({source:(0,s.filePathToUrl)(h)})}}else i.BrowserWindow.openNew();else e.startupFilesToOpen=(a=e.startupFilesToOpen).concat.apply(a,u)})&&i.app.exit()}forceReady(){i.app.rootLogger.debug("Application ready. Starting up services...."),this.state=c.APP_STATE_READY}checkWelcome(){var e=a.vud.getModule("welcome").get("agreementVersion");return e&&e>=1}initAppListeners(){var e=this;i.app.on("ready",function(){i.app.rootLogger.debug("Application ready. Starting up services...."),e.state=c.APP_STATE_READY,setTimeout(function(){i.app.autoUpdater&&i.app.autoUpdater.checkForUpdates()},12e3);var t=e.readyListeners,n=Array.isArray(t),o=0;for(t=n?t:(0,r.default)(t);;){var a;if(n){if(o>=t.length)break;a=t[o++]}else{if((o=t.next()).done)break;a=o.value}a()}}),i.app.on("will-finish-launching",function(){var t;i.app.rootLogger.info("Application will finish launching."),e.state=c.APP_STATE_WILL_FINISH_LAUNCH;var n=process.argv.filter(function(e){return o.default.existsSync(e)&&e.endsWith(".xmind")});e.startupFilesToOpen=(t=e.startupFilesToOpen).concat.apply(t,n),i.app.on("open-file",function(t,n){i.app.rootLogger.info("Application open file: ",n),t.preventDefault(),n&&n.endsWith(".xmind")&&(e.isReady()?i.BrowserWindow.openMindMapEditor({source:(0,s.filePathToUrl)(n)}):e.startupFilesToOpen.push(n))}),i.app.on("open-url",function(e,t){i.app.rootLogger.info("Application open url: ",t),e.preventDefault()})}),i.app.on("activate",function(){function t(){var e=i.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||i.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});0==e.length?(i.app.rootLogger.debug("App activated. Open home window..."),i.BrowserWindow.openNew()):(i.app.rootLogger.debug("App activated. Focused window will be shown."),e[0].show())}"darwin"===process.platform&&(e.state<c.APP_STATE_READY?i.app.once("ready",function(){t()}):e.state===c.APP_STATE_READY&&t())}),i.app.on("before-quit",function(t){e.isBeforeQuit()||(i.app.rootLogger.info("state: before-quit"),i.app.rootLogger.debug("Before application quit."),e.state=c.APP_STATE_BEFORE_QUIT,i.app.tracker.end())}),i.app.on("will-quit",function(){i.app.rootLogger.info("state: will-quit"),i.app.mainMenu.deactivate(),e.state=c.APP_STATE_WILL_QUIT}),i.app.on("window-all-closed",function(){i.app.rootLogger.info("state: window-all-closed"),"darwin"!==process.platform?(i.app.rootLogger.debug("All windows closed. Quit application...."),i.app.exit()):i.app.rootLogger.debug("All windows closed. Application stay alive.")}),i.app.on("quit",function(){i.app.rootLogger.info("state: quit")})}}c.TVUD_MODULE="lifecycle",c.MODULE_KEY_STATE="state",c.APP_STATE_STARTING=1,c.APP_STATE_WILL_FINISH_LAUNCH=2,c.APP_STATE_READY=3,c.APP_STATE_BEFORE_QUIT=4,c.APP_STATE_WILL_QUIT=5,c.APP_STATE_QUIT=6,t.default=new c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(112),i=n(6),o=s(n(85)),a=s(n(157));function s(e){return e&&e.__esModule?e:{default:e}}var u={getUserData:{handle:function(e,t){var n=e.moduleName,i=e.key;t(r.vud.getModule(n).get(i))}},setUserData:{handle:function(e,t){var n=e.moduleName,i=e.key,o=e.value;t(r.vud.getModule(n).set(i,o))}},setMindMapEditor:{handle:function(e,t){var n=e.wid,r=e.source;t(i.BrowserWindow.vana.mindMapEditor["vana-"+n]=r)}},clearUserData:{handle:function(e,t){var n=e.moduleName;t(r.vud.getModule(n).clear())}},getWindowsMenuTemplate:{handle:function(e,t){t(i.app.mainMenu.getWindowsMenuTemplate())}},trackEvent:{handle:function(e,t){var n=e.eventCategory,r=void 0===n?null:n,i=e.eventAction,o=e.eventName,s=void 0===o?null:o,u=e.eventValue,c=void 0===u?null:u;t(a.default.track({eventCategory:r,eventAction:i,eventName:s,eventValue:c}))}},trackView:{handle:function(e,t){var n=e.actionName;t(a.default.track({actionName:n}))}},trackConfig:{handle:function(e,t){var n=e.name,r=e.value;t(a.default.config(n,r))}},writeLogToFile:{handle:function(e,t){var n=e.protoFnName,r=e.moduleName,i=e.args,a="root"===r?o.default:o.default.logger(r);t(a[n].apply(a,i))}}};t.default={setup:function(){var e=this,t=function(t){i.ipcMain.on("async:"+t,function(n,r,i){u[t].handle.call(e,r,function(e){n.sender.send("async:"+t+"-reply",{result:e},i)})}),i.ipcMain.on("sync:"+t,function(n,r){u[t].handle.call(e,r,function(e){n.returnValue={result:e}})})};for(var n in u)t(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l(n(15));var r=l(n(44)),i=l(n(45)),o=l(n(23)),a=l(n(28)),s=n(6),u=l(n(514)),c=n(111);function l(e){return e&&e.__esModule?e:{default:e}}var d=5e3,f=36e5;t.default=class extends u.default{startupCheck(){var e=this;this._initTvud(),this.getPerMachineLicenseStatus()!==this.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS&&this.checkMachineEE(),this.checkMachineId(),this.cronCheckPerMachineLicenseInServer(),this.cronActivateTask(),s.app.eventManager.on("all","change:vud",function(t){"deviceStatus"!==t.moduleName&&"perMachineLicense"!==t.moduleName||s.app.eventManager.emit(c.EventTypes.AFTER_ACTIVATE_STATUS_CHANGE,e.getAppActivateStatus())})}cronCheckPerMachineLicenseInServer(){var e=this;this.logger.info("Check local license in server");var t=function(){if(e.getPerMachineLicenseStatus()===e.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS){var t=e.getPerMachineLicenseVud().email,n=e.getPerMachineLicense().key;e.checkPerMachineLicenseInServer({email:t,licenseKey:n}).catch(function(t){e.logger.error("Network error, fail to check license in cron job",t)}).then(function(t){t&&(t.code===e.PER_MACHINE_LICENSE_SERVER_RETURN_CODE.E_SERVER_ERR?e.logger.error("server error!!",t):t.code!==e.PER_MACHINE_LICENSE_SERVER_RETURN_CODE.SUCCESS&&(e.logger.info("Fail to check local license",t),e.setPerMachineLicenseVud(null),s.dialog.showMessageBoxOnTop({title:"XMind ZEN",message:s.app.localizer.localize("Please enter a valid license key."),detail:s.app.localizer.localize("Please enter a valid license key.")})))})}};t(),setInterval(t,f)}checkActivateStatus(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=arguments[1];if(!this.vud.getModule("account").get("uid"))return n(!1);this.checkActive(function(r,i){if(e.logger.info("cron check activate",r,(0,a.default)(i)),r)e.logger.info("[chack activate per 1 hours error]",r),setTimeout(function(){e.checkActivateStatus(2*t,n)},1e3*t);else{if(clearTimeout(e.cronCheckExpireTaskTimer),i.type===e.STATUS.TRIAL){if(e.getCurrentLicenseStatus()!==e.STATUS.TRIAL){var o=s.app.vud.getModule("deviceStatus");e.setLicense(i.data),o.set("machine_status",null),o.set("will_expired_notify",null),o.set("expired_notify",null)}}else if(i.type===e.STATUS.SUB){if(e.getCurrentLicenseStatus()!==e.STATUS.SUB){s.app.modal.modals.activate.modal&&!s.app.modal.modals.activate.modal.isDestroyed()&&s.app.modal.modals.activate.modal.destroy(),setTimeout(function(){return s.app.modal.showModal("congratulate")},d);var u=s.app.vud.getModule("deviceStatus");u.set("will_expired_notify",null),u.set("expired_notify",null)}e.setMachineAsEE(),e.setLicense(i.data)}else if(i.type===e.STATUS.EXPIRED){if(e.getCurrentLicenseStatus()!==e.STATUS.EXPIRED){var c=s.app.vud.getModule("deviceStatus");c.get("expired_notify")||e.getPerMachineLicenseStatus()===e.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS||(c.set("expired_notify",!0),setTimeout(function(){0===s.dialog.showMessageBoxOnTop({title:"XMind ZEN",message:s.app.localizer.localize("Your subscription has expired!"),detail:s.app.localizer.localize("You can’t export, print or save mind map before renewing XMind."),buttons:[s.app.localizer.localize("See Pricing"),s.app.localizer.localize("Close")],defaultId:0})&&s.app.commandService.handleCommand("activate")},d))}e.setMachineAsEE(),e.setLicense(i.data)}else i.type===e.STATUS.EXCEED_MAX_DEVICE?setTimeout(function(){return s.app.modal.showModal("signin",{devices:i.devices,type:"unlink device"})},d):i.type===e.STATUS.KICK_OUT?setTimeout(function(){e.logout(),s.dialog.showMessageBoxOnTop({title:"XMind ZEN",message:s.app.localizer.localize("Signed Out"),detail:s.app.localizer.localize("You have been signed out from this device. Please keep your account safe.")})},d):i.type===e.STATUS.TOKEN_ERROR?e.logout():e.logger.info("cron task of check activate error",(0,a.default)(i));n(!0)}})}checkMachineId(){var e=this.getLicense();e&&e.device_id&&s.app.machine_id!==e.device_id&&(this.setMachineAsEE(),this.logout(),s.dialog.showMessageBoxOnTop({title:"XMind ZEN",message:s.app.localizer.localize("Unable to verify subscription."),detail:s.app.localizer.localize("Your subscription status can’t be verified, please try to sign in again.")}))}cronActivateTask(){var e=this;clearTimeout(this.cronActivateTaskTimer),this.checkActivateStatus(5,function(t){e.cronActivateTaskTimer=setTimeout(e.cronActivateTask.bind(e),f)})}checkMachineEE(){this.vud.getModule("account").get("uid")||"ee"!==this.getMachineStatus()?"expired"===this.getCurrentLicenseStatus()&&this.delayToShowActivateStatusMessageBox({title:"XMind ZEN",message:s.app.localizer.localize("Your subscription has expired."),detail:s.app.localizer.localize("You can’t export, print or save mind map before renewing XMind."),defaultId:0},1e4):this.delayToShowActivateStatusMessageBox({title:"XMind ZEN",message:s.app.localizer.localize("Your trial is ended."),detail:s.app.localizer.localize("You can’t export, print or save mind map. Subscribe now to enjoy full features."),defaultId:0},1e4)}delayToShowActivateStatusMessageBox(e,t){var n=[s.app.localizer.localize("See Pricing"),s.app.localizer.localize("Close")];e=(0,o.default)({},e,{buttons:n}),setTimeout(function(){0===s.dialog.showMessageBoxOnTop(e)&&s.app.commandService.handleCommand("activate")},t)}inappBuy(e,t){var n=this;(0,i.default)(r.default.mark(function i(){var o,a;return r.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.app.iap.buy(t);case 2:return o=r.sent,n.logger.info("inappbuy result",o),r.next=6,s.app.iap.loadOriginReceipt();case 6:a=r.sent,e.isDestroyed()||s.app.eventManager.emitC(e.id,"inappBuy",a);case 8:case"end":return r.stop()}},i,n)}))()}getMasPrice(e){var t=this;(0,i.default)(r.default.mark(function n(){var i,o,u,c,l;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=[],o={"net.xmind.zen.subscription.vana":"zen","net.xmind.zen.subscription.ios":"ios","net.xmind.zen.subscription.vanaplusios":"bundle"},n.prev=2,u=["net.xmind.zen.subscription.ios","net.xmind.zen.subscription.vanaplusios","net.xmind.zen.subscription.vana"],n.next=6,s.app.iap.getProducts(u);case 6:c=n.sent,l={},(c=JSON.parse(c)).retrievedProducts.forEach(function(e){var n=e.subscriptionPeriod?e.subscriptionPeriod:6,r=s.app.localizer.localize("months");switch(e.unit){case"day":r=1===n?s.app.localizer.localize("day"):s.app.localizer.localize("days");break;case"week":r=1===n?s.app.localizer.localize("week"):s.app.localizer.localize("weeks");break;case"mouth":r=1===n?s.app.localizer.localize("mouth"):s.app.localizer.localize("mouths");break;case"year":r=1===n?s.app.localizer.localize("year"):s.app.localizer.localize("years")}var i=e.priceLocale.currencySymbol,a=[];if("cn"==t.getDomain())switch(e.productIdentifier){case"net.xmind.zen.subscription.ios":a.push.apply(a,["解锁完整版"]);break;case"net.xmind.zen.subscription.vanaplusios":a.push.apply(a,["解锁完整版","免费升级","个人与商业使用许可","强烈推荐"]);break;case"net.xmind.zen.subscription.vana":a.push.apply(a,["解锁完整版","免费升级","个人与商业使用许可"])}else switch(e.productIdentifier){case"net.xmind.zen.subscription.ios":a.push.apply(a,["Auto-renewable","Unlock Full Version"]);break;case"net.xmind.zen.subscription.vanaplusios":a.push.apply(a,["Auto-renewable","Unlock Full Version","Free Upgrades","License for Personal & Business Use","Best Value"]);break;case"net.xmind.zen.subscription.vana":a.push.apply(a,["Auto-renewable","Unlock Full Version","Free Upgrades","License for Personal & Business Use"])}l[e.productIdentifier]={currency:i&&i.substring(i.length-1,i.length),price:e.price.description,title:e.localizedTitle,type:o[e.productIdentifier],desc:n+" "+r,productId:e.productIdentifier,features:a}}),i=u.filter(function(e){return l[e]}).map(function(e){return l[e]}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),t.logger.error(n.t0.stack||n.t0.message||n.t0.toString());case 16:e.isDestroyed()||s.app.eventManager.emitC(e.id,"loadMasPrice",(0,a.default)(i));case 17:case"end":return n.stop()}},n,t,[[2,13]])}))()}completeLastTransactions(){var e=this;return(0,i.default)(r.default.mark(function t(){var n,i;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.app.iap.completeLastTransactions();case 2:if(n=t.sent,!((n=JSON.parse(n)).successList&&n.successList.length>0)){t.next=9;break}return t.next=7,s.app.iap.loadOriginReceipt();case 7:"noReceipt"!==(i=t.sent)&&e.verifyReceipt(i,function(t){200===t&&e.cronActivateTask()});case 9:case"end":return t.stop()}},t,e)}))()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(23)),i=c(n(15)),o=c(n(69)),a=c(n(156)),s=n(111),u=n(71);function c(e){return e&&e.__esModule?e:{default:e}}var l=o.default.hostname().replace(/\.local$/,""),d=process.platform,f={TRIAL:"trial",SUB:"sub",EXPIRED:"expired",EXCEED_MAX_DEVICE:"4031",KICK_OUT:"4032",TOKEN_ERROR:401,UNKNOW_ERROR:"unknow error"},p=3e4,h=50;var v=String.fromCharCode.apply(String,[45,45,45,45,45,66,69,71,73,78,32,80,85,66,76,73,67,32,75,69,89,45,45,45,45,45,10,77,73,71,102,77,65,48,71,67,83,113,71,83,73,98,51,68,81,69,66,65,81,85,65,65,52,71,78,65,68,67,66,105,81,75,66,103,81,67,68,89,72,51,49,108,48,108,108,105,99,66,97,118,98,85,90,82,103,48,121,49,76,110,73,10,50,74,74,117,80,90,97,107,48,52,57,56,119,71,109,75,48,78,43,107,115,113,67,122,65,48,88,85,102,67,103,81,53,69,57,105,116,89,121,80,117,84,43,122,54,80,122,47,43,48,113,54,78,101,65,112,107,87,99,110,67,47,84,104,10,87,81,89,54,90,108,69,79,77,111,110,114,104,80,117,98,56,122,115,87,89,79,90,122,99,107,81,117,116,120,51,106,110,54,107,43,54,90,88,120,55,121,85,98,98,107,120,73,107,43,119,113,87,103,110,108,81,120,110,120,54,84,77,100,10,83,51,114,103,111,51,114,52,98,108,70,84,87,105,54,69,69,81,73,68,65,81,65,66,10,45,45,45,45,45,69,78,68,32,80,85,66,76,73,67,32,75,69,89,45,45,45,45,45]),m=function(e,t){return"cn"===e?t?"https://test-www.xmind.cn":"https://www.xmind.cn":t?"https://test-www.xmind.net":"https://www.xmind.net"},g=function(e){return m(e,"undefined".includes("server"))+"/_res/devices"},y=function(e){return m(e,"undefined".includes("server"))+"/_res/user_sub_status"},b=function(e){return m(e,"undefined".includes("license"))+"/_api/license-activations"},w=function(e){return m(e,"undefined".includes("server"))+"/_res/appstore/sub"},_=function(e){return m(e,"undefined".includes("server"))+"/_res/get-zen-price"};function S(){return parseInt("9.0.6".split(".")[0])}t.default=class{constructor(e){var t=e.vud,n=e.superagent,r=e.app,i=e.tvud,o=e.logger;this.PER_MACHINE_LICENSE_RETURN_CODE={SUCCESS:0,E_LICENSE_MISSING:1,E_KEY_INVALID:2,E_OUTDATED:3,E_MAJOR_VERSION_UNMATCHED:4,E_MACHINE_ID_UNMATCHED:5},this.PER_MACHINE_LICENSE_SERVER_RETURN_CODE={SUCCESS:200,E_KEY_BIND_TO_ANOTHER_MACHINE:403,E_KEY_NOT_EXIST:404,E_PARAM_MISSING:400,E_SERVER_ERR:500},this.APP_STATUS=s.appActivateStatus,this.STATUS={TRIAL:"trial",SUB:"sub",EXPIRED:"expired",EXCEED_MAX_DEVICE:"4031",KICK_OUT:"4032",CONFIG_ERROR:"CONFIG_ERROR",TOKEN_ERROR:401,UNKNOW_ERROR:"unknow error"},this.vud=t,this.superagent=n,this.app=r,this.tvud=i,this.logger=o}_initTvud(){this.tvud.getModule("remindSubscription").set("actionCount",0),this.tvud.getModule("remindSubscription").set("notifyAtActionNum",Math.floor(Math.random()*h)),this.tvud.getModule("remindSubscription").set("lastNotifyTime",0)}checkPerMachineLicenseInServer(e){var t=this,n=e.email,r={key:e.licenseKey,email:n,device_id:this.app.hwFingerprint};return(0,u.promiseSome)([this.superagent.head(b("net")).timeout(p).then(function(){return"net"}),this.superagent.head(b("cn")).timeout(p).then(function(){return"cn"})]).then(function(e){return t.superagent.post(b(e)).timeout(p).send(r).then(function(e){return{code:e.body._code,data:{data:e.body.data,partLength:e.body.part_length,padding:e.body.padding},param:r}})}).catch(function(e){return i.default.reject({err:e,param:r})})}getPerMachineLicenseStatus(){var e=this.getPerMachineLicense();return this.checkPerMachineLicense(e)}getPerMachineLicense(){var e=this.getPerMachineLicenseVud();if(!e)return null;var t=null;try{var n=x(e);t=JSON.parse(n)}catch(t){this.logger.warn("error in decrypt license",t,e)}return t}setPerMachineLicenseVud(e){this.vud.getModule("perMachineLicense").set(S(),e)}getPerMachineLicenseVud(){return this.vud.getModule("perMachineLicense").get(S())}checkPerMachineLicense(e){if(!e)return this.PER_MACHINE_LICENSE_RETURN_CODE.E_LICENSE_MISSING;if(!this.app.hwFingerprint)return this.PER_MACHINE_LICENSE_RETURN_CODE.E_MACHINE_ID_UNMATCHED;var t=e.key;if(e.device_id!==this.app.hwFingerprint)return this.PER_MACHINE_LICENSE_RETURN_CODE.E_MACHINE_ID_UNMATCHED;var n=this.checkPerMachineLicenseKey(t);return n!==this.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS?n:this.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS}checkPerMachineLicenseKey(e){if(25!==(e=e.trim().toUpperCase()).length)return this.PER_MACHINE_LICENSE_RETURN_CODE.E_KEY_INVALID;var t=e.slice(0,5),n=e.slice(5);if(!/^[ABCDEFGHJKLMNPQRSTUVWXYZ23456789]{20}$/.test(n))return this.PER_MACHINE_LICENSE_RETURN_CODE.E_KEY_INVALID;if(!/^[0-9A-Z]{5}$/.test(t))return this.PER_MACHINE_LICENSE_RETURN_CODE.E_KEY_INVALID;if("X"!==e.slice(0,1))return this.PER_MACHINE_LICENSE_RETURN_CODE.E_KEY_INVALID;var r,i,o=(r=e.slice(2,3),9+((i=(r=r.toLowerCase()).charCodeAt(0))>=48&&i<=57?i-48:i>=97&&i<=122?i-97:-1));return o<=8?this.PER_MACHINE_LICENSE_RETURN_CODE.E_KEY_INVALID:S()!==o?this.PER_MACHINE_LICENSE_RETURN_CODE.E_MAJOR_VERSION_UNMATCHED:this.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS}getAppActivateStatusCode(){var e,t=this.getPerMachineLicenseStatus(),n="ee"===this.getMachineStatus()?1:0;return[t,(e={},e[this.STATUS.SUB]=0,e[this.STATUS.TRIAL]=1,e[this.STATUS.EXPIRED]=2,e)[this.getCurrentLicenseStatus()],n]}getAppActivateStatus(){var e,t,n=this.getCurrentLicenseStatus(),r="ee"===this.getMachineStatus()?"ee":"normal",i=this.getPerMachineLicenseStatus(),o=null;o=i===this.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS?"activated":i===this.PER_MACHINE_LICENSE_RETURN_CODE.E_OUTDATED?"expired":"missing";var a=((e={})[this.STATUS.TRIAL]={ee:s.appActivateStatus.LIMITED,normal:s.appActivateStatus.TRIAL},e[this.STATUS.SUB]={ee:s.appActivateStatus.ACTIVATED,normal:s.appActivateStatus.ACTIVATED},e[this.STATUS.EXPIRED]={ee:s.appActivateStatus.LIMITED,normal:s.appActivateStatus.LIMITED},e),u=((t={})[s.appActivateStatus.LIMITED]={activated:s.appActivateStatus.ACTIVATED,expired:s.appActivateStatus.LIMITED,missing:s.appActivateStatus.LIMITED},t[s.appActivateStatus.TRIAL]={activated:s.appActivateStatus.ACTIVATED,expired:s.appActivateStatus.TRIAL,missing:s.appActivateStatus.TRIAL},t[s.appActivateStatus.ACTIVATED]={activated:s.appActivateStatus.ACTIVATED,expired:s.appActivateStatus.ACTIVATED,missing:s.appActivateStatus.ACTIVATED},t),c=a[n][r];return c=u[c][o]}getUsedDays(){var e=this.app.vud.getModule("deviceStatus"),t=e.get("start_use_time");t||(t=Date.now(),e.set("start_use_time",t));var n=Date.now()-t;return Math.floor(n/864e5)}openActivateDialog(){this.app.modal.showModal("activate"),this.app.tracker.track({eventCategory:"Activate",eventAction:"showActivateWindow"})}verifyReceipt(e,t){var n=this,r=this.app.vud.getModule("account").get("token");if(!r)return t(new Error("please signin"));var i=this.getDomain(),o={4001:"the receipt is considered invalid by apple",4002:"bundle identifier mismatch",4003:"no unexpired receipt found",4004:"subscription duplicated. The user might have already subscriped via browser",4005:"receipt has been used"};this.superagent.post(w(i)).timeout(3e4).set({"content-type":"application/json; charset=utf-8",AuthToken:r}).send({receipt:e}).end(function(r,i){r?setTimeout(function(){n.verifyReceipt(e,t)},1e4):200===i.body._code?t(200,null):void 0!==i.body.errorcode?t(i.body.errorcode,o[i.body.errorcode]):t(500,"server error")})}getPrice(e){var t=this.getDomain();this.superagent.get(_(t)).timeout(3e4).end(function(t,n){e(t,n)})}checkActive(e){var t=this,n=this.app.vud.getModule("account"),r=this.getDomain(),i=n.get("token"),o=this.app.machine_id;this.superagent.post(g(r)).timeout(3e4).set({"content-type":"application/json; charset=utf-8",AuthToken:i}).send({device_id:o,device_name:l,device_type:d}).end(function(n,r){n?(t.logger.info("[common checkActive error]",n,r),e({type:t.STATUS.UNKNOW_ERROR,data:r})):200===r.body._code?(t.license_status=r.body.license.status||f.TRIAL,r.body.raw_data?t.deviceStatusData=r.body.raw_data:(t.deviceStatusData=r.body.license,t.deviceStatusData.device_id=o),t.license_status===f.TRIAL?e(null,{type:t.STATUS.TRIAL,data:t.deviceStatusData}):t.license_status===f.SUB?e(null,{type:t.STATUS.SUB,data:t.deviceStatusData}):t.license_status===f.EXPIRED?e(null,{type:t.STATUS.EXPIRED,data:t.deviceStatusData}):e(null,{type:t.STATUS.UNKNOW_ERROR,data:r.body})):403===r.body._code&&"4031"===r.body.errorcode?e(null,{type:t.STATUS.EXCEED_MAX_DEVICE,devices:r.body.devices}):403===r.body._code&&"4032"===r.body.errorcode?(console.log("被踢出"),e(null,{type:t.STATUS.KICK_OUT})):401===r.body._code?(console.log("token 无效"),e(null,{type:t.STATUS.TOKEN_ERROR})):e({type:t.STATUS.UNKNOW_ERROR,data:r.body._code})})}getSubscription(e){var t=this.app.vud.getModule("account"),n=this.getDomain(),r=t.get("token");this.superagent.get(y(n)).set({AuthToken:r}).end(function(t,n){e(t,n)})}unbindDevice(e,t){var n=e.unbind_device_list,r=e.domain,i=e.token,o=this.app.machine_id;this.superagent.post(g(r)).set({"content-type":"application/json; charset=utf-8",AuthToken:i}).send({unbind_device_list:n,device_id:o,device_name:l,device_type:d}).end(function(e,n){t(e,n)})}setLicense(e){this.setDeviceStatus("license",e)}getLicense(){try{var e=this.vud.getModule("deviceStatus"),t=this.decipher(e.get("license"),!0);return t?(t.status||(t.status=this.STATUS.TRIAL),t):null}catch(e){return this.logger.info("[getLicense error]",e),null}}setDeviceStatus(e,t){this.vud.getModule("deviceStatus").set(e,t)}getCurrentLicenseStatus(){if(this.vud.getModule("account").get("token")){var e=this.getLicense();this.license_status=e&&e.status||f.TRIAL}else this.license_status=f.TRIAL;return this.license_status}setMachineAsEE(){this.vud.getModule("deviceStatus").set("machine_status","ee"),this.machine_status="ee"}getMachineStatus(){var e=this.vud.getModule("deviceStatus").get("machine_status");return e&&"ee"!==e?(this.setMachineAsEE(),"ee"):e||""}logout(){this.app.vud.getModule("account").clear(),this.setDeviceStatus("license",null),this.app.commandService.updateCommand("sign")}checkExpired(){if(this.PER_MACHINE_LICENSE_RETURN_CODE.SUCCESS!==this.getPerMachineLicenseStatus())if("trial"===this.getCurrentLicenseStatus())this._checkTrail();else if("sub"===this.getCurrentLicenseStatus()){var e=this.app.vud.getModule("deviceStatus"),t=this.getLicense();if(t.expireTime)if(new Date>new Date(t.expireTime)){if(!e.get("expired_notify"))return e.set("expired_notify",!0),{message:this.app.localizer.localize("No subscription detected."),detail:this.app.localizer.localize("Unable to detect any valid subscription status, please subscribe XMind at first.")}}else if(new Date(+new Date+6048e5)>=new Date(t.expireTime)&&!e.get("will_expired_notify"))return e.set("will_expired_notify",!0),{message:this.app.localizer.localize("Subscription will expire soon."),detail:this.app.localizer.localize("Renew your subscription and continue to enjoy full version.")}}}_checkTrail(){var e=!1,t=this.tvud.getModule("remindSubscription"),n=t.get("actionCount"),r=t.get("notifyAtActionNum"),i=t.get("lastNotifyTime");n===r&&(e=!0),++n===h&&(n=0,r=Math.floor(Math.random()*h));var o=0===i;Date.now()-i>18e5&&(e=!0,i=Date.now()),t.update({actionCount:n,notifyAtActionNum:r,lastNotifyTime:i}),e&&(this.app.tracker.track({actionName:"ActivateAlert"}),this.app.modal.showModal("activatealert",{isFirstNotify:o}))}getDomain(){var e=this.app.vud.getModule("account"),t=e.get("domain");return t||(t="zh-CN"!==this.app.preferences.get("language")?"net":"cn",e.set("domain",t)),t}decipher(e,t){return t&&e?JSON.parse(a.default.publicDecrypt({key:v,padding:a.default.constants.RSA_PKCS1_PADDING},new Buffer(e,"base64")).toString()):e}};var x=function(e){var t=[],n=t.find(function(t){var n=t.fingerprint;return n.data===e.data&&n.partLength===e.partLength&&n.padding===e.padding});if(n)return console.log("matchedCache: ",n),n.result;var i=function(e){for(var t=e.data,n=e.partLength,r=e.padding,i=Buffer.from(t,"base64"),o=0,s=void 0,u=[];(s=i.slice(o,o+n)).length>0;)u.push(a.default.publicDecrypt({key:v,padding:a.default.constants[r]},s).toString()),o+=n;return u.join("")}(e);return t.push({fingerprint:(0,r.default)({},e),result:i}),i}},function(e,t){e.exports=require("machine-uuid")},function(e,t){e.exports=require("../package.json")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=a(n(518)),o=a(n(86));function a(e){return e&&e.__esModule?e:{default:e}}o.default.on("all","change:tvud",function(e){if("autoUpdater"===e.moduleName&&"state"===e.key){var t=r.app.tvud.getModule("autoUpdater").get("state"),n=void 0;n="checking-for-update"===t?{label:"Checking"}:"update-downloading"===t?{label:"Downloading"}:"update-downloaded"===t?{label:"Restart To Update"}:{label:"Check For Updates"},r.app.commandService&&r.app.commandService.updateCommand("checkForUpdates",n)}});var s={"checking-for-update":{handle:function(){r.app.tvud.getModule("autoUpdater").set("state","checking-for-update")}},"update-not-available":{handle:function(e){r.app.tvud.getModule("autoUpdater").set("state","update-not-available"),"user"==r.app.tvud.getModule("autoUpdater").get("checkForUpdatesType")&&o.default.emit("autoupdate:update-not-available",{info:e}),r.app.tvud.getModule("autoUpdater").set("checkForUpdatesType","none")}},"has-new-version":{handle:function(e){e.skipped?r.app.tvud.getModule("autoUpdater").set("state","none"):r.app.tvud.getModule("autoUpdater").set("state","has-new-version");var t="user"==r.app.tvud.getModule("autoUpdater").get("checkForUpdatesType");!e.downloaded||e.skipped&&!t||o.default.emit("autoupdate:has-new-version",{info:e})}},"download-process":{handle:function(){}},"update-downloaded":{handle:function(e){r.app.tvud.getModule("autoUpdater").set("state","update-downloaded"),r.app.tvud.getModule("autoUpdater").set("checkForUpdatesType","none"),o.default.emit("autoupdate:update-downloaded",{info:e})}}},u=function(e){s.hasOwnProperty(e)&&i.default.on(e,function(t){t?s[e].handle(t):s[e].handle()})};for(var c in s)u(c);t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=s(n(519)),o=s(n(524)),a=s(n(525));function s(e){return e&&e.__esModule?e:{default:e}}var u=void 0;u="win32"===process.platform?new i.default:"darwin"===process.platform?new o.default:"linux"===process.platform?new a.default:r.autoUpdater,t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(44)),i=f(n(45)),o=f(n(84)),a=f(n(11)),s=n(6),u=n(164),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(13)),l=f(n(87)),d=f(n(165));function f(e){return e&&e.__esModule?e:{default:e}}t.default=class extends d.default{constructor(){super(),this.quitAndInstallCalled=!1}doDownloadUpdate(e,t){var n=this;return(0,i.default)(r.default.mark(function i(){var o,s;return r.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o={skipDirCreation:!0,headers:n.computeRequestHeaders(e),cancellationToken:t,sha2:null==e?null:e.sha2},n.listenerCount("download-progress")>0&&(o.onProgress=function(e){return this.emit("download-progress",e)}),s=a.default.join(n.updateDir,e.name),r.prev=3,r.next=6,n.httpExecutor.download(e.url,s,o);case 6:r.next=14;break;case 8:r.prev=8,r.t0=r.catch(3);try{c.removeAsync(n.updateDir)}catch(e){}return r.t0 instanceof u.CancellationError&&n.emit("update-cancelled",n.versionInfo),n.emit("error",r.t0),r.abrupt("return",null);case 14:return n.localInfo.downloaded={version:n.versionInfo.version,currentVersion:l.default.version,setupPath:s,skip:!1},c.outputJsonAsync(n.localInfoPath,n.localInfo),n.emit("update-downloaded",n.versionInfo),r.abrupt("return",s);case 18:case"end":return r.stop()}},i,n,[[3,8]])}))()}quitAndInstall(){super.quitAndInstall(),s.app.lifecycle.state=4;var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.install(e,t)&&s.app.quit()}install(e,t){if(this.quitAndInstallCalled)return!1;var n=this.localInfo.downloaded.setupPath;if(!this.updateAvailable||null==n){var r="No update available, can not quit and install";return this.emit("error",new Error(r),r),!1}this.quitAndInstallCalled=!0;var i=["--updated"];e&&i.push("/S"),t&&i.push("--force-run");var s={detached:!0,stdio:"ignore"};try{o.default.spawn(n,i,s).unref()}catch(e){if("UNKNOWN"===e.code||"EACCES"===e.code)try{o.default.spawn(a.default.join(process.resourcesPath,"elevate.exe"),[n].concat(i),s).unref()}catch(e){}}return!0}}},function(e,t){e.exports=require("semver")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(44)),i=d(n(23)),o=d(n(45)),a=d(n(72)),s=d(n(11)),u=d(n(229)),c=n(164),l=d(n(87));function d(e){return e&&e.__esModule?e:{default:e}}function f(){var e=p();if("darwin"===e)return"-mac";if("win32"===e){if("64"===l.default.arch)return"-win64";if("32"===l.default.arch)return"-win32"}else if("linux"===e)return"-linux"}function p(){return process.env.TEST_UPDATER_PLATFORM||process.platform}t.default=class{constructor(e,t){this.configuration=e,this.executor=t,this.baseUrl=a.default.parse(this.configuration.url),this.channel=this.configuration.channel?""+this.configuration.channel+f():"latest"+f()}setRequestHeaders(e){this.requestHeaders=e}getLatestVersion(){var e=this;return(0,o.default)(r.default.mark(function t(){var n,o,l,d,f;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.channel,n=r+"."+("darwin"===p()?"json":"yml"),o=s.default.posix.resolve(e.baseUrl.pathname||"/",n),l={hostname:e.baseUrl.hostname,path:""+o+(e.baseUrl.search||""),protocol:e.baseUrl.protocol,headers:e.requestHeaders||void 0},null!=e.baseUrl.port&&(l.port=parseInt(e.baseUrl.port,10)),t.next=6,e.executor.request(l,new c.CancellationToken);case 6:return d=t.sent,n.endsWith("yml")&&(d=u.default.safeLoad(d)),n.endsWith("json")&&"string"==typeof d&&(d=JSON.parse(d)),d.url||(f=s.default.posix.resolve(e.baseUrl.pathname||"/",d.path),d.url=a.default.format((0,i.default)(e.baseUrl,{pathname:f})),d.name=s.default.posix.basename(d.path)),"darwin"===p()&&(d.releaseJsonUrl=a.default.format((0,i.default)({},e.baseUrl,{pathname:o}))),t.abrupt("return",d);case 13:case"end":return t.stop()}var r},t,e)}))()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(23)),i=f(n(44)),o=f(n(45)),a=f(n(11)),s=f(n(72)),u=d(n(523)),c=d(n(13)),l=n(6);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var p="vana-electron-updater";t.default=class extends u.HttpExecutor{constructor(){super()}download(e,t,n){var r=this;return(0,o.default)(i.default.mark(function o(){return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(null!=n&&n.skipDirCreation){i.next=3;break}return i.next=3,c.ensureDirAsync(a.default.dirname(t));case 3:return i.abrupt("return",n.cancellationToken.createPromise(function(i,o,a){var c=s.default.parse(e),l=u.configureRequestOptions({protocol:c.protocol,hostname:c.hostname,path:c.path,port:c.port?parseInt(c.port,10):void 0,headers:n.headers||void 0});r.doDownload(l,t,0,n,function(e){null==e?i(t):o(e)},a)}));case 4:case"end":return i.stop()}},o,r)}))()}doApiRequest(e,t,n){var a=arguments,s=this;return(0,o.default)(i.default.mark(function o(){var u;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=a.length>3&&void 0!==a[3]?a[3]:0,i.next=3,t.createPromise(function(i,o,a){var c=l.net.request((0,r.default)({session:l.session.fromPartition(p)},e)).on("response",function(r){try{s.handleResponse(r,e,t,i,o,u,n)}catch(e){o(e)}}).on("error",function(e){console.log(e)});s.addProxyLoginHandler(c),s.addTimeOutHandler(c,o),c.on("error",o),n(c,o),a(function(){return c.abort()})});case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},o,s)}))()}doRequest(e,t){var n=l.net.request((0,r.default)({session:l.session.fromPartition(p)},e),t);return this.addProxyLoginHandler(n),n}addProxyLoginHandler(e){null!=this.proxyLoginCallback&&e.on("login",this.proxyLoginCallback)}}},function(e,t){e.exports=require("electron-builder-http")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(15)),i=c(n(23)),o=n(6),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(13)),s=c(n(87)),u=c(n(165));function c(e){return e&&e.__esModule?e:{default:e}}t.default=class extends u.default{constructor(e){var t;t=super(e),this.nativeUpdater=o.autoUpdater,this.nativeUpdater.on("error",function(e){t.emit("error",e)}),this.nativeUpdater.on("update-downloaded",function(){t.localInfo.downloaded={currentVersion:s.default.version,version:t.versionInfo.version,skip:!1},a.outputJsonAsync(t.localInfoPath,t.localInfo),t.emit("update-downloaded",t.localInfo)})}doDownloadUpdate(e,t){return this.nativeUpdater.setFeedURL(e.releaseJsonUrl,(0,i.default)({"Cache-Control":"no-cache"},this.computeRequestHeaders(e))),this.nativeUpdater.checkForUpdates(),r.default.resolve()}quitAndInstall(){super.quitAndInstall(),o.app.lifecycle.state=4,this.nativeUpdater.quitAndInstall()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),o=n(165),a=(r=o)&&r.__esModule?r:{default:r};t.default=class extends a.default{constructor(e){super(e)}_doDownload(){i.app.tvud.getModule("autoUpdater").set("state","none")}}}]);
//# sourceMappingURL=main.js.map